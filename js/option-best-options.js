/*!jQuery v3.6.1 | (c) OpenJS Foundation and other contributors | jquery.org/license*/!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),v={},m=function(e){return "function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.1",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,y,s,c,v,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&v(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ve(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return "input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return "form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return "undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],y=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||y.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),v=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&v(p,e)?-1:t==C||t.ownerDocument==p&&v(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return "*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,y){var v="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(v){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=y)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return "input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return "input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return "input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,y,v,e){return y&&!y[S]&&(y=Ce(y)),v&&!v[S]&&(v=Ce(v,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?v||(e?d:l||y)?[]:t:f;if(g&&g(f,p,n,r),y){i=Te(p,u),y(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(v||d){if(v){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);v(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,y,v,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(y=o,m=0<(v=i).length,x=0<y.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=y[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=v[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return "Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function $(){E.removeEventListener("DOMContentLoaded",$),C.removeEventListener("load",$),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",$),C.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return "object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return "string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return "none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return "boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),v.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",v.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in "string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(e){return "undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.hasData(e)&&Y.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||S.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Se(this,t,Ce),!1},trigger:function(){return Se(this,t),!0},_default:function(e){return Y.get(e.target,t)},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return "true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ye(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ye(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ye(r)),r.parentNode&&(n&&ie(r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ye(c),r=0,i=(o=ye(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ye(e),a=a||ye(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ye(c,"script")).length&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return B(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=/^--/,Me=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ie=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(ne.join("|"),"i"),Fe="[\\x20\\t\\r\\n\\f]",$e=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g");function Be(e,t,n){var r,i,o,a,s=Re.test(t),u=e.style;return(n=n||Me(e))&&(a=n.getPropertyValue(t)||n[t],s&&(a=a.replace($e,"$1")),""!==a||ie(e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&Pe.test(a)&&We.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var ze=["Webkit","Moz","ms"],Ue=E.createElement("div").style,Xe={};function Ve(e){var t=S.cssProps[e]||Xe[e];return t||(e in Ue?e:Xe[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=ze.length;while(n--)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Me(e),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return ""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Re.test(t),l=e.style;if(u||(t=Ve(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Re.test(t)||(t=Ve(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ge.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Ie(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Me(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=_e(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Me(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=Y.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return "string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",v.checkOn=""!==rt.value,v.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",v.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return B(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return "undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return B(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).addClass(t.call(this,e,vt(this)))}):(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).removeClass(t.call(this,e,vt(this)))}):arguments.length?(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=yt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return m(t)?this.each(function(e){S(this).toggleClass(t.call(this,e,vt(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=mt(t),this.each(function(){if(s)for(o=S(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=vt(this))&&Y.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+yt(vt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:yt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function jt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):jt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)jt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return "";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return "string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,S.ajaxSettings),t):Bt(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,y=S.ajaxSetup({},t),v=y.context||y,m=y.context&&(v.nodeType||v.jquery)?S(v):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=y.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(y.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),y.url=((e||y.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(P)||[""],null==y.crossDomain){r=E.createElement("a");try{r.href=y.url,r.href=r.href,y.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=S.param(y.data,y.traditional)),$t(Rt,y,t,T),h)return T;for(i in(g=S.event&&y.global)&&0==S.active++&&S.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Ot.test(y.type),f=y.url.replace(qt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Dt,"+")):(o=y.url.slice(f.length),y.data&&(y.processData||"string"==typeof y.data)&&(f+=(Et.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid++ +o),y.url=f+o),y.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&T.setRequestHeader("Content-Type",y.contentType),T.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+It+"; q=0.01":""):y.accepts["*"]),y.headers)T.setRequestHeader(i,y.headers[i]);if(y.beforeSend&&(!1===y.beforeSend.call(v,T,y)||h))return T.abort();if(u="abort",b.add(y.complete),T.done(y.success),T.fail(y.error),c=$t(Mt,y,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,y]),h)return T;y.async&&0<y.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},y.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(y,T,n)),!i&&-1<S.inArray("script",y.dataTypes)&&S.inArray("json",y.dataTypes)<0&&(y.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(y,s,T,i),i?(y.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===y.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(v,[o,l,T]):x.rejectWith(v,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,y,i?o:a]),b.fireWith(v,[T,l]),g&&(m.trigger("ajaxComplete",[T,y]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(v.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return "string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return B(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=_e(v.pixelPosition,function(e,t){if(t)return t=Be(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});let bestJq=$.noConflict(true);window.ymq=window.ymq||{},window.best_option.baseUrl="https://cdn.shopify.com/s/files/1/0411/8639/4277/t/11/assets/",window.best_option.vn="v=2.4.3",window.best_option.v=`?${window.best_option.vn}`;try{"product"==best_option.page&&"string"==typeof window.best_option.product.tags&&(""==window.best_option.product.tags?window.best_option.product.tags=[]:window.best_option.product.tags=window.best_option.product.tags.split(", "))}catch(t){console.log(t)}window.best_option.tooltip_type="flipIn",window.best_option.ymq_option_branding.extra.hasOwnProperty("tooltip_type")&&(window.best_option.tooltip_type=window.best_option.ymq_option_branding.extra.tooltip_type),window.best_option.product_collections_array=[],window.best_option.hasOwnProperty("product_collections")&&(window.best_option.product_collections_array=[],Object.keys(window.best_option.product_collections).forEach((t=>{window.best_option.product_collections_array.push(window.best_option.product_collections[t])}))),best_option.in_product=function(t){try{if(window.best_option.product.hasOwnProperty("id")&&t&&("number"==typeof t&&(t=t.toString()),"string"==typeof t&&(t=t.split(",")),Array.isArray(t)&&(t=t.map((t=>Number(t))),-1!=bestJq.inArray(Number(window.best_option.product.id),t))))return window.best_option.admin_tem_type="0,1",!0}catch(t){console.log(t)}return!1},best_option.in_collection=function(t){try{if(window.best_option.hasOwnProperty("product_collections")&&t){var e=Object.keys(best_option.product_collections).map((t=>Number(t)));if("string"==typeof t&&(t=t.split(",")),Array.isArray(e)&&Array.isArray(t)){t=t.map((t=>Number(t)));if(e.filter((e=>t.indexOf(e)>-1)).length>0)return window.best_option.admin_tem_type="0,2",!0}}}catch(t){console.log(t)}return!1},best_option.in_tag=function(t){try{if(window.best_option.product.hasOwnProperty("tags")&&t){var e=window.best_option.product.tags;if("string"==typeof t&&(t=t.split(",")),Array.isArray(t)&&Array.isArray(e))if(e.filter((e=>t.indexOf(e)>-1)).length>0)return window.best_option.admin_tem_type="0,3",!0}}catch(t){console.log(t)}return!1},best_option.tem_condition_type={1:"l == r",2:"l != r",3:"l > r",4:"l < r",5:"l.startsWith(r)",6:"l.endsWith(r)",7:"l.includes(r)",8:"!l.includes(r)",9:"l.includes(r)",10:"!l.includes(r)"},best_option.tem_automate=function(tem_condition,tem_condition_type,r){tem_condition=Number(tem_condition),tem_condition_type=Number(tem_condition_type);var coefficient=100;window.bestAdmin&&(coefficient=1);try{var left=null,res=!1;switch(tem_condition){case 1:left=window.best_option.product.title;break;case 2:left=window.best_option.product.type;break;case 3:left=window.best_option.product.vendor;break;case 4:if(1==tem_condition_type||2==tem_condition_type){var price=window.best_option.product.variants.map((t=>t.price/coefficient));left=price}3==tem_condition_type&&(left=window.best_option.product.price_max/coefficient),4==tem_condition_type&&(left=window.best_option.product.price_min/coefficient);break;case 5:left=window.best_option.product.tags;break;case 6:var collection_title=best_option.product_collections_array.map((t=>t.title));collection_title.length>0&&(left=collection_title)}if(null!=left)if(Array.isArray(left))if([7,8].includes(tem_condition_type)){var l=left;eval(best_option.tem_condition_type[tem_condition_type])&&(res=!0)}else if([10].includes(tem_condition_type)){var all_not_contains=!0;left.some((l=>{if(!eval(best_option.tem_condition_type[tem_condition_type]))return all_not_contains=!1,!0})),res=all_not_contains}else left.some((l=>{if(eval(best_option.tem_condition_type[tem_condition_type]))return res=!0,!0}));else{var l=left;eval(best_option.tem_condition_type[tem_condition_type])&&(res=!0)}}catch(t){res=!1,console.log(t)}return res};var bestNeedInto=!1,factory;best_option.hasOwnProperty("ymq_option_template_assign_c_t")||(best_option.ymq_option_template_assign_c_t={});try{if(window.best_option.hasOwnProperty("ymq_option_template_c_t")&&window.best_option.hasOwnProperty("ymq_option_template_condition_c_t")&&window.best_option.hasOwnProperty("ymq_option_template_sort")&&""!=window.best_option.ymq_option_template_sort&&(window.best_option.admin_tem_list=[],window.best_option.ymq_option_template_sort.split(",").forEach((id=>{try{window.best_option.admin_tem_type="";var key=`tem${id}`;if(window.best_option.ymq_option_data.hasOwnProperty(key)&&(window.best_option.ymq_option_template_assign_c_t.hasOwnProperty(key)&&(window.best_option.ymq_option_template[key]=window.best_option.ymq_option_template_c_t[key],window.best_option.ymq_option_template_condition[key]=window.best_option.ymq_option_template_condition_c_t[key]),best_option.ymq_option_template_assign_c_t.hasOwnProperty(key)&&0!=best_option.ymq_option_template_assign_c_t[key].type&&delete window.best_option.ymq_option_data[key]),window.best_option.ymq_option_template_c_t.hasOwnProperty(key)&&window.best_option.ymq_option_template_condition_c_t.hasOwnProperty(key)&&!window.best_option.ymq_option_data.hasOwnProperty(key)){var has_tem=!1;if(window.best_option.ymq_option_template_assign_c_t.hasOwnProperty(key)){var assign_json=window.best_option.ymq_option_template_assign_c_t[key];if(0==assign_json.type){var manual=assign_json.manual;(best_option.in_collection(manual.collection)||best_option.in_tag(manual.tag)||best_option.in_product(manual.product))&&(has_tem=!0)}if(1==assign_json.type){var automate=assign_json.automate,eval_array=[];Object.keys(automate.data).forEach((t=>{var{tem_condition:e,tem_condition_type:i,tem_condition_value:n}=automate.data[t];eval_array.push(`best_option.tem_automate('${e}','${i}','${n}')`)})),eval(eval_array.join(1==automate.type?" && ":" || "))&&(window.best_option.admin_tem_type="1",has_tem=!0)}2==assign_json.type&&(window.best_option.admin_tem_type="2",has_tem=!0)}else if(window.bestAdmin)try{window.best_option.t_ids_buy_c.includes(id.toString())&&(window.best_option.admin_tem_type="0,2",has_tem=!0),window.best_option.t_ids_buy_t.includes(id.toString())&&(window.best_option.admin_tem_type="0,3",has_tem=!0)}catch(t){}else has_tem=!0;has_tem&&(window.bestAdmin&&window.best_option.admin_tem_list.push({assign_type:window.best_option.admin_tem_type,id:window.best_option.ymq_option_template_info[key].id,name:window.best_option.ymq_option_template_info[key].name}),bestNeedInto=!0,window.best_option.ymq_option_template[key]=window.best_option.ymq_option_template_c_t[key],window.best_option.ymq_option_template_condition[key]=window.best_option.ymq_option_template_condition_c_t[key],window.best_option.ymq_option_data[key]={a_t1:"",a_t2:"",alert:"",alert_text:"",help:"",id:id,required:"0",tooltip:"",tooltip_position:"1",type:100})}}catch(t){console.log(t)}})),window.bestAdmin))try{try{Object.keys(window.best_option.ymq_option_data).forEach((t=>{t.startsWith("tem")&&(original_tem.push(t),original_tem_change.push(t))}))}catch(t){console.log(t)}window.adminIntervalResult(1e6,100,(function(){return"function"==typeof window.best_option.build_left_tem_list&&(window.best_option.build_left_tem_list(),!0)}))}catch(t){console.log(t)}}catch(t){console.log(t)}function bestAppGetUrlParam(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null}function best_app_do_condition(t,e){var i="ymq",n="#option-box-",a="",o="";window.bestAdmin?(a=`.admin-form-box-${ymq_preview_index} ${n}`,o=`.admin-form-box-${ymq_preview_index} `):a=n;var s="#ymq-attrib-",r="option-box-ymq-variant-",c=".ymq-attrib-item-",l="",d="",p="";for(var m in e)if(t.hasOwnProperty(i+m.split("_")[0])){var u=e[m],h=e[m].options,f=[],y="";for(var _ in e)m!=_&&_.substr(0,m.length+1)==m+"_"&&(y+=`changeOption${_}();`);if(2==u.type)if([3,7,20,21].includes(Number(t[i+m.split("_")[0]].type))){var b=bestJq(`${n+m.split("_")[0]} select option`).index(bestJq(s+m));bestJq(`${n+m.split("_")[0]} .ymq-multiple-ul .ymq-multiple-li`).eq(b).data("title",u.disabled_text)}else bestJq(s+m).next("label").data("title",u.disabled_text);for(var g in h){var q=[],v=[],w=!1,x=h[g],$=h[g].value.split(","),J="";if($.forEach((function(t){J+=`"${t}",`})),J=J.slice(0,J.length-1),[13,14,15,16].includes(Number(h[g].type))){var k=1e25,O=-1e25;h[g].value.indexOf(",")>-1&&(O=h[g].value.split(",")[0],""!=h[g].value.split(",")[1]&&(k=h[g].value.split(",")[1]))}if(h[g].hasOwnProperty("option_type")&&[500,600].includes(Number(h[g].option_type))){var C=".ymq_ymq_ymq_ymq_ymq_ymq_ymq";window.best_option.ymq_option_branding.extra.hasOwnProperty("variant-original")&&1==Number(window.best_option.ymq_option_branding.extra["variant-original"])&&(window.best_option.ymq_option_branding.extra.hasOwnProperty("variant-condition-value-class")&&""!=window.best_option.ymq_option_branding.extra["variant-condition-value-class"]&&(C=window.best_option.ymq_option_branding.extra["variant-condition-value-class"]),window.best_option.ymq_option_branding.extra.hasOwnProperty("variant-condition-click-class")&&""!=window.best_option.ymq_option_branding.extra["variant-condition-click-class"]&&(w=!0)),w&&v.push(`[name="${r+best_app_remove_special_cha(x.id)}"] ${window.best_option.ymq_option_branding.extra["variant-condition-click-class"]}`),q.push(`${o}[name="${r+best_app_remove_special_cha(x.id)}"] select,${o}[name="${r+best_app_remove_special_cha(x.id)}"] input,${o}[name="${r+best_app_remove_special_cha(x.id)}"] textarea`),1==h[g].type?500==Number(h[g].option_type)?f.push(`([${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" option:not(:disabled):selected").attr('value'))) || [${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").attr('value'))) || [${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" ${C}").eq(0).text())))`):f.push(`((bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('textarea').length > 0 && [${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" textarea").val()))) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:text').length > 0 && [${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:text").val()))) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('select').length > 0 && [${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" option:not(:disabled):selected").attr('value')))) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:radio,input:checkbox').length > 0 && [${J}].includes(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").attr('value')))))`):2==h[g].type?500==Number(h[g].option_type)?f.push(`([${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" option:not(:disabled):selected").attr('value'))) < 0 || [${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").attr('value'))) < 0  || [${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" ${C}").eq(0).text())) < 0)`):f.push(`((bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('textarea').length > 0 && [${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" textarea").val())) < 0) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:text').length > 0 && [${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:text").val())) < 0) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('select').length > 0 && [${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" option:not(:disabled):selected").attr('value'))) < 0) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:radio,input:checkbox').length > 0 && [${J}].indexOf(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").attr('value'))) < 0))`):11==h[g].type?500==Number(h[g].option_type)?f.push(`((bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('select').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select").val() == '') || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:radio,input:checkbox').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").length == 0) || bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" ${C}").length == 0)`):f.push(`((bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('select').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select").val() == '') || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:radio,input:checkbox').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").length == 0) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('textarea').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" textarea").val() == '') || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:text').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:text").val() == ''))`):12==h[g].type?500==Number(h[g].option_type)?f.push(`((bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('select').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select").val() != '') || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:radio,input:checkbox').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").length > 0) || bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" ${C}").length > 0)`):f.push(`((bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('select').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select").val() != '') || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:radio,input:checkbox').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checked").length > 0) || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('textarea').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" textarea").val() != '') || (bestJq("[name='${r+best_app_remove_special_cha(x.id)}']").find('input:text').length > 0 && bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:text").val() != ''))`):3==h[g].type?f.push(`(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input,[name='${r+best_app_remove_special_cha(x.id)}']"+" textarea").val()) ==  '${h[g].value}')`):4==h[g].type?f.push(`(best_app_remove_special_cha(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input,[name='${r+best_app_remove_special_cha(x.id)}']"+" textarea").val()) !=  '${h[g].value}')`):5==h[g].type?f.push(`(best_app_isContained(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select option:not(:disabled):selected")),[${J}]) || best_app_isContained(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checkbox:checked")),[${J}]))`):6==h[g].type?f.push(`(!best_app_isContained(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select option:not(:disabled):selected")),[${J}]) && !best_app_isContained(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checkbox:checked")),[${J}]))`):19==h[g].type?f.push(`(best_app_isbelongsTo(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select option:not(:disabled):selected")),[${J}]) || best_app_isbelongsTo(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checkbox:checked")),[${J}]))`):20==h[g].type&&f.push(`(best_app_isbelongsTo(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" select option:not(:disabled):selected")),[${J}],false) || best_app_isbelongsTo(best_app_getCheckboxValue4Value(bestJq("[name='${r+best_app_remove_special_cha(x.id)}']"+" input:not(:disabled):checkbox:checked")),[${J}],false))`)}else i+x.id!="ymq0"&&(1==h[g].type?[3,7,20,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`[${J}].includes(bestJq("${n+x.id}"+" option:not(:disabled):selected").data('id'))`):[1,2].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`[${J}].includes(bestJq("${n+x.id}"+" input,${n+x.id}"+" textarea").val())`):f.push(`[${J}].includes(bestJq("${n+x.id}"+" input:not(:disabled):checked").data('id'))`):2==h[g].type?[3,7,20,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`[${J}].indexOf(bestJq("${n+x.id}"+" option:not(:disabled):selected").data('id')) < 0`):[1,2].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`[${J}].indexOf(bestJq("${n+x.id}"+" input,${n+x.id}"+" textarea").val()) < 0`):f.push(`[${J}].indexOf(bestJq("${n+x.id}"+" input:not(:disabled):checked").data('id')) < 0`):3==h[g].type?f.push(`best_app_remove_special_cha(bestJq("${n+x.id} input, ${n+x.id} textarea").val()) == '${h[g].value}'`):4==h[g].type?f.push(`best_app_remove_special_cha(bestJq("${n+x.id} input, ${n+x.id} textarea").val()) != '${h[g].value}'`):5==h[g].type?[7,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`best_app_isContained(best_app_getCheckboxValue(bestJq('${n+x.id} select option:not(:disabled):selected')),[${J}])`):f.push(`best_app_isContained(best_app_getCheckboxValue(bestJq('${n+x.id} input:not(:disabled):checkbox:checked')),[${J}])`):6==h[g].type?[7,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`!best_app_isContained(best_app_getCheckboxValue(bestJq('${n+x.id} select option:not(:disabled):selected')),[${J}])`):f.push(`!best_app_isContained(best_app_getCheckboxValue(bestJq('${n+x.id} input:not(:disabled):checkbox:checked')),[${J}])`):7==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) >= ${h[g].value}`):8==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) <= ${h[g].value}`):9==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) > ${h[g].value}`):10==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) < ${h[g].value}`):11==h[g].type||18==h[g].type?[1,9,10,12,14].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`bestJq("${n+x.id}"+" input").val() == ''`):[2].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`bestJq("${n+x.id}"+" textarea").val() == ''`):[3,7,20,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`bestJq("${n+x.id}"+" select").val() == ''`):[4,5,6,8,13,15,16].includes(Number(t[i+x.id.split("_")[0]].type))&&f.push(`bestJq("${n+x.id}"+" input:not(:disabled):checked").length == 0`):12==h[g].type||17==h[g].type?[1,9,10,12,14].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`bestJq("${n+x.id}"+" input").val() != ''`):[2].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`bestJq("${n+x.id}"+" textarea").val() != ''`):[3,7,20,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`bestJq("${n+x.id}"+" select").val() != ''`):[4,5,6,8,13,15,16].includes(Number(t[i+x.id.split("_")[0]].type))&&f.push(`bestJq("${n+x.id}"+" input:not(:disabled):checked").length > 0`):13==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) <= ${k} && Number(bestJq("${n+x.id}"+" input").val()) >= ${O}`):14==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) < ${k} && Number(bestJq("${n+x.id}"+" input").val()) > ${O}`):15==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) <= ${k} && Number(bestJq("${n+x.id}"+" input").val()) > ${O}`):16==h[g].type?f.push(`bestJq("${n+x.id}"+" input").val() != "" && Number(bestJq("${n+x.id}"+" input").val()) < ${k} && Number(bestJq("${n+x.id}"+" input").val()) >= ${O}`):19==h[g].type?[7,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`best_app_isbelongsTo(best_app_getCheckboxValue(bestJq('${n+x.id} select option:not(:disabled):selected')),[${J}])`):f.push(`best_app_isbelongsTo(best_app_getCheckboxValue(bestJq('${n+x.id} input:not(:disabled):checkbox:checked')),[${J}])`):20==h[g].type&&([7,21].includes(Number(t[i+x.id.split("_")[0]].type))?f.push(`best_app_isbelongsTo(best_app_getCheckboxValue(bestJq('${n+x.id} select option:not(:disabled):selected')),[${J}],false)`):f.push(`best_app_isbelongsTo(best_app_getCheckboxValue(bestJq('${n+x.id} input:not(:disabled):checkbox:checked')),[${J}],false)`)),q.push(`${a+x.id} select,${a+x.id} input,${a+x.id} textarea`));w&&v.length>0&&(p+=`\n                bestJq(document).on('click', '${v.join(",")}', function () {\n                    changeOption${m}();\n                });\n                `),p+=`\n                bestJq(document).on('change', '${q.join(",")}', function () {\n                    changeOption${m}();\n                });\n            `}var D="",N="";if(""!=u.children)u.children.split(",").forEach((function(t){D+=`changeOption${t}();`}));if(2==u.type){var Y=m.split("_")[0];if([3,7,20,21].includes(Number(t[i+Y].type))){var S="";[3,20].includes(Number(t[i+Y].type))&&(S=`\n                bestJq('${n}${m.split("_")[0]} select').val('');\n                `),N+=`\n                if (bestJq("#ymq-attrib-${Y}"+" option:not(:disabled):selected").data('id') == '${m}') {\n                    bestJq('${s}${m}').prop("selected",false);\n                    ${S}\n                }\n            `}}if(l="",L(u),1==u.show)var E="show",j="false",V="hide",A="true",I=l,T="",M="",H=N,P=`bestJq('${n}${m} .ymq_disabled_class').prop('disabled',true);`+y,B="";else V="show",A="false",E="hide",j="true",I="",T=l,M=N,H="",P="",B=`bestJq('${n}${m} .ymq_disabled_class').prop('disabled',true);`+y;var R="",F="";window.best_option.ymq_option_branding.extra.hasOwnProperty("condition-is-hide")&&1==Number(window.best_option.ymq_option_branding.extra["condition-is-hide"])&&(R=`bestJq('${c}${m}').${E}();`,F=`bestJq('${c}${m}').${V}();`),"1"==u.type?d+=`\n            function changeOption${m}(){\n                if(${f.join(` ${u.andor} `)}){\n                    bestJq('${n}${m}').${E}();\n                    bestJq('${n}${m} input,${n}${m} select,${n}${m} option,${n}${m} textarea').prop('disabled',${j});\n                    ${M}\n                    ${P}\n                }else{\n                    bestJq('${n}${m}').${V}();\n                    bestJq('${n}${m} input,${n}${m} select,${n}${m} option,${n}${m} textarea').prop('disabled',${A}); \n                    ${H}\n                    ${B}\n                }\n\n                //如果是需要禁用,则禁用qty_input\n                best_trigger_option_value_qty(bestJq('${n}${m}'));\n\n                bestJq('${n}${m} select').dropdown();\n                ${D}\n            }\n            changeOption${m}();\n        `:"2"==u.type&&(d+=`\n            function changeOption${m}(){\n                if(!bestJq("${n+m.split("_")[0]}").is(":hidden")){\n                    if(${f.join(` ${u.andor} `)}){\n                        ${R}\n                        bestJq('${s}${m}').prop('disabled',${j});\n                        ${T}\n                        ${M}\n                    }else{\n                        ${F}\n                        bestJq('${s}${m}').prop('disabled',${A}); \n                        ${I}\n                        ${H}\n                    }\n                    //解决使用原生select时，由于联动切换，之前被选中的已经disable了，而显示还是被禁用的option的bug\n                    if(bestJq('${s}${m}').prop('disabled') && bestJq('${s}${m}').get(0).tagName == 'OPTION'){\n                        bestJq('${s}${m}').prop('selected',false);\n                    }\n\n\n                    //如果是需要禁用,则禁用qty_input\n                    var dom = bestJq('${s}${m}').parents('.ymq-options-box');\n                    if(dom.hasClass('ymq-options-qty-box')){\n                        if(bestJq('${s}${m}').get(0).tagName == 'OPTION'){\n                            dom.find('.ymq-qty-input').attr('disabled',true);\n                            bestJq('${s}${m}').parent().find('option:selected:not(:disabled)').each(function(){\n                                var id = bestJq(this).data('id');\n                                if(id){\n                                    bestJq('.ymq-qty-input-'+id).attr('disabled',false);\n                                }\n                            })\n                        }else{\n                            if(bestJq('${s}${m}').attr('type') == 'radio'){\n                                dom.find('.ymq-qty-input').attr("disabled",true);\n                            }\n                            var id = bestJq('${s}${m}').data('id');\n                            if(bestJq('${s}${m}').prop('checked') && !bestJq('${s}${m}').prop("disabled")){\n                                bestJq('.ymq-qty-input-'+id).attr("disabled",false);\n                            }else{\n                                bestJq('.ymq-qty-input-'+id).attr("disabled",true);\n                            }\n                        }\n                    }\n\n                    ${D}\n                    bestJq('${n}${m.split("_")[0]} select').dropdown();\n                }\n            }\n            changeOption${m}();\n        `)}return{function_text:d,conditionsScript:p};function L(t){t&&""!=t.children&&t.children.split(",").forEach((function(i){1==t.type?l+=`\n                    bestJq('${n}${i}').hide();\n                    bestJq('${n}${i} input,${n}${i} select,${n}${i} textarea').prop('disabled',true);  \n                `:t.type,e.hasOwnProperty(i)&&L(e[i])}))}}function best_app_isbelongsTo(t,e,i=!0){if(t.length<1)return!1;var n=!0;try{t.forEach((function(t){if(!e.includes(t))throw n=!1,new Error("LoopTerminates")}))}catch(t){if("LoopTerminates"!==t.message)throw t}return i?n:!n}function best_app_isContained(t,e){return e.every((e=>t.includes(e)))}function best_app_getCheckboxValue(t){var e=[];return t.each((function(){e.push(bestJq(this).data("id"))})),e}function best_app_getCheckboxValue4Value(t){var e=[];return t.each((function(){e.push(bestJq(this).attr("value"))})),e}function best_app_remove_special_cha(t){return"string"==typeof(t=best_app_remove_special_chafan(t))&&(t=(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")).trim()),t}function best_app_remove_special_chafan(t){return"string"==typeof t&&(t=(t=(t=(t=(t=t.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")),t}function best_trigger_option_value_qty(t){try{if(t.hasClass("ymq-options-qty-box")){var e=Number(t.data("type"));t.find(".ymq-qty-input").attr("disabled",!0),[3,7,20,21].includes(e)?t.find("option:selected:not(:disabled)").each((function(){var t=bestJq(this).data("id");t&&bestJq(".ymq-qty-input-"+t).attr("disabled",!1)})):t.find('input[type="radio"],input[type="checkbox"]').each((function(){var t=bestJq(this).data("id");bestJq(this).prop("checked")&&!bestJq(this).prop("disabled")?bestJq(".ymq-qty-input-"+t).attr("disabled",!1):bestJq(".ymq-qty-input-"+t).attr("disabled",!0)}))}}catch(t){}}window.best_option.ymq_option_branding.extra.hasOwnProperty("free")&&1==Number(window.best_option.ymq_option_branding.extra.free)&&(window.best_option.ymq_option_branding.extra.plan=2),1==Number(window.best_option.ymq_option_branding.extra.free_plan)&&(window.best_option.ymq_option_branding.extra.plan=2),window.best_option.ymq_option_branding.extra.hasOwnProperty("new")||(window.best_option.ymq_option_branding.extra.hasOwnProperty("timestamp")||(window.best_option.ymq_option_branding.extra.plan=2),window.best_option.ymq_option_branding.extra.hasOwnProperty("timestamp")&&Number(window.best_option.ymq_option_branding.extra.timestamp)>=Math.round(new Date/1e3)&&(window.best_option.ymq_option_branding.extra.plan=2)),window.best_option.ymq_option_branding.extra.plan=2,window.best_option.ymq_option_branding.extra.plan>1&&"product"==window.best_option.page&&bestJq((function(){if(document.documentElement.innerHTML.match(/asyncLoad/)&&!document.documentElement.innerHTML.match(/mw4M5Ya3iFNARE4t/)||document.documentElement.innerHTML.match(/asyncLoad/)&&document.documentElement.innerHTML.match(/mw4M5Ya3iFNARE4t/)&&(!window.hasOwnProperty("ymq_option")||window.hasOwnProperty("ymq_option")&&0==window.ymq_option.ymq_option_branding.extra.plan)){if(document.documentElement.innerHTML.match(/asyncLoad/)&&!document.documentElement.innerHTML.match(/mbAt2ktK3Dmszf6K/))return!1;var product_status=-1;if(window.best_option.hasOwnProperty("ymq_status")&&window.best_option.ymq_status.hasOwnProperty("ymq_status")&&(product_status=window.best_option.ymq_status.ymq_status),0!=product_status&&(1==product_status||-1==product_status&&(1==window.best_option.ymq_option_branding.extra.is_show||bestNeedInto))){var Options=window.best_option.option_function(),ymq_function_text="",ymq_conditionsScript="",wcondition11=best_app_do_condition(window.best_option.ymq_option_data,window.best_option.ymq_option_condition);ymq_function_text+=wcondition11.function_text,ymq_conditionsScript+=wcondition11.conditionsScript,Object.keys(window.best_option.ymq_option_template_condition).forEach((function(t){var e=best_app_do_condition(window.best_option.ymq_option_template[t],window.best_option.ymq_option_template_condition[t]);ymq_function_text+=e.function_text,ymq_conditionsScript+=e.conditionsScript})),eval(ymq_conditionsScript),window.best_option.productInstance=Options.Product.getInstance(),eval(ymq_function_text),bestJq("#ymq-quantity-input").trigger("change"),window.best_option.productInstance.buildFormData(),bestJq(document).on("mouseover",".ymq_tools,.ymq-checkbox-radio:disabled + label,.ymq-options-button-input:disabled + label,.ymq-options-img-input:disabled + label",(function(){var t=bestJq(this);if(null==t.data("show")||""==t.data("show"))if(null==t.data("title")||""==t.data("title"))var e="";else e=t.data("title");else if(null==t.data("title")||""==t.data("title"))e=t.data("show");else e=t.data("show")+" ("+t.data("title")+")";t.justToolsTip({events:event,animation:window.best_option.tooltip_type,contents:e,gravity:"top"})})),bestJq(document).on("mouseover",".ymq-options-img-input:not(:disabled) + label",(function(){var t=bestJq(this);t.justToolsTip({events:event,animation:window.best_option.tooltip_type,contents:t.data("show"),gravity:"top"})}));var gravity="right";if(bestJq(window).width()<768)var gravity="top";bestJq(document).on("mouseover",".ymq-multiple-li.disabled",(function(){var t=bestJq(this);t.justToolsTip({events:event,animation:window.best_option.tooltip_type,contents:t.data("title"),gravity:gravity})}))}}})),window.best_option.option_function=function(){window.best_option.hideByNow=!1,window.best_option.cancelAjaxCart=!1,window.best_option.plugs=[],window.best_option.buy_now_new=!1,window.best_option.ymq_option_branding.extra.hasOwnProperty("buy-now-new")&&1==window.best_option.ymq_option_branding.extra["buy-now-new"]&&(window.best_option.buy_now_new=!0),(window.best_option.ymq_option_branding.extra.hasOwnProperty("open-theme-buy-now")||window.best_option.ymq_option_branding.extra.hasOwnProperty("open-theme-ajax-cart"))&&(window.best_option.buy_now_new=!0),window.best_option.buy_now_new?(window.best_option.ymq_option_branding.extra.bunow=1,best_option.special_theme={887:{"add-cart-form-number":".product__info-wrapper","theme-variant-class":"variant-radios,variant-selects","theme-variant-class-no":'[class^="product-form__noscript-wrapper-template--"]',"add-to-cart-form":'[id^="product-form-template"]',"variant-condition-label-class":".form__label","variant-condition-value-parent-class":".product-form__input"}}):best_option.special_theme={887:{"add-cart-form-number":".product__info-wrapper","theme-variant-class":"variant-radios,variant-selects","theme-variant-class-no":'[class^="product-form__noscript-wrapper-template--"]',"variant-condition-label-class":".form__label","variant-condition-value-parent-class":".product-form__input",hideByNow:!0,cancelAjaxCart:!0}},best_option.theme_store_id=Shopify.theme.theme_store_id,bestJq(".product__info-wrapper").length>0&&bestJq('[class^="product-form__noscript-wrapper-template--"]').length>0&&bestJq('[id^="product-form-template"]').length>0&&(best_option.theme_store_id=887);try{best_option.theme_store_id&&best_option.special_theme.hasOwnProperty(best_option.theme_store_id)&&Object.keys(best_option.special_theme[best_option.theme_store_id]).forEach((t=>{"hideByNow"==t||"cancelAjaxCart"==t?window.best_option[t]=best_option.special_theme[best_option.theme_store_id][t]:window.best_option.ymq_option_branding.extra.hasOwnProperty(t)&&""!=window.best_option.ymq_option_branding.extra[t]&&bestJq(window.best_option.ymq_option_branding.extra[t]).length>0||(window.best_option.ymq_option_branding.extra[t]=best_option.special_theme[best_option.theme_store_id][t])}))}catch(t){window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0}function ymqDoForEachData(t){Object.keys(t).forEach((function(e){var i=t[e];[9,10].includes(Number(i.type))&&-1==Number(bestJq.inArray("jedate",window.best_option.plugs))&&(window.best_option.plugs.push("jedate"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}shopify-jedate.css${window.best_option.v}`}).appendTo("head")),[14].includes(Number(i.type))&&-1==Number(bestJq.inArray("colpick",window.best_option.plugs))&&(window.best_option.plugs.push("colpick"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}shopify-colpick.css${window.best_option.v}`}).appendTo("head")),[12].includes(Number(i.type))&&(window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0,i.hasOwnProperty("cropped_type")&&Number(i.cropped_type)>0&&-1==Number(bestJq.inArray("cropper",window.best_option.plugs))&&(window.best_option.plugs.push("ymqmodal"),window.best_option.plugs.push("cropper"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}shopify-cropper.css${window.best_option.v}`}).appendTo("head"))),0!=window.best_option.hideByNow&&0!=window.best_option.cancelAjaxCart||window.best_option.buy_now_new||([12,6,7,8,16,21].includes(Number(i.type))&&(window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0),(i.hasOwnProperty("qty_input")&&1==Number(i.qty_input)||i.hasOwnProperty("is_get_to_cart")&&Number(0==i.is_get_to_cart))&&(window.best_option.hideByNow=!0,window.best_option.cancelAjaxCart=!0))}))}function ymqForEachData(){ymqDoForEachData(window.best_option.ymq_option_data),Object.keys(window.best_option.ymq_option_template).forEach((function(t){ymqDoForEachData(window.best_option.ymq_option_template[t])}))}function ymqForEachConditionData(){window.best_option.buy_now_new||window.best_option.buy_now_new||(ymqDoForEachConditionData(window.best_option.ymq_option_condition),Object.keys(window.best_option.ymq_option_template_condition).forEach((function(t){ymqDoForEachConditionData(window.best_option.ymq_option_template_condition[t],t)})))}function ymqDoForEachConditionData(t,e=""){0==window.best_option.hideByNow&&Object.keys(t).forEach((function(t){if(""!=e)var i=window.best_option.ymq_option_template[e]["ymq"+t.split("_")[0]].type;else i=window.best_option.ymq_option_data["ymq"+t.split("_")[0]].type;[11,17].includes(Number(i))||(window.best_option.hideByNow=!0)}))}if("product"==window.best_option.page)try{ymqForEachData(),ymqForEachConditionData()}catch(t){window.best_option.plugs=["jedate","colpick","cropper","ymqmodal"]}window.bestAdmin&&(window.best_option.plugs=["jedate","colpick","cropper","ymqmodal"],bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}shopify-colpick.css${window.best_option.v}`}).appendTo("head"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}shopify-jedate.css${window.best_option.v}`}).appendTo("head"),bestJq("<link>").attr({rel:"stylesheet",type:"text/css",href:`${window.best_option.baseUrl}shopify-cropper.css${window.best_option.v}`}).appendTo("head")),window.best_option.ymq_option_branding.extra.hasOwnProperty("automic-swatch-ajax")||(window.best_option.ymq_option_branding.extra["automic-swatch-ajax"]=1);try{1!=Number(window.best_option.ymq_option_branding.extra["automic-swatch-ajax"])||""!=window.best_option.ymq_option_data&&!bestJq.isEmptyObject(window.best_option.ymq_option_data)||(window.best_option.hideByNow=!1,window.best_option.cancelAjaxCart=!1)}catch(t){}function justTools(t,e){this.elem=t,this.set=e}bestJq.fn.dropdown=function(t){t=bestJq.extend({variantChange:function(t){}},t);this.each((function(){var e=bestJq(this);if(e.hasClass("ymq-no-strong-drop-down"))return!1;var i={},n={},a={},o=e.hasClass("ymq-shopify-option");if(e.hasClass("ymq-inited")){var s=e.hasClass("ymq-multiple"),r=e.parents(".selectDropdown"),c=e.next().next();p(e.parent().attr("class"))}else{s=e.hasClass("ymq-multiple");var l=bestJq("<div />").addClass("ymq-dropdown selectDropdown "+(s?"multiple":""));e.wrap(l);c=bestJq("<span />").text(bestJq(this).attr("placeholder")).insertAfter(bestJq(this));var d=bestJq('<ul class="ymq-multiple-ul"></ul>');e.find("option").each((function(t){var e="";"undefined"!=bestJq(this).data("ymq_dropdown_img")&&(e=bestJq(this).data("ymq_dropdown_img")),d.append(bestJq(`<li data-index="${t}" data-title="${bestJq(this).data("title")}" class="ymq-multiple-li ${bestJq(this).prop("disabled")?"disabled":""} ${bestJq(this).prop("selected")?"active":""}">${e}</li>`).append(bestJq("<a />").html(bestJq(this).html())))})),d.insertAfter(bestJq(this));r=e.parents(".selectDropdown");p(),e.addClass("ymq-inited"),e.next().next().on("click touch",(function(t){var i=!1;return e.parent().hasClass("open")&&(i=!0),bestJq(".ymq-dropdown").removeClass("open"),i||e.parent().addClass("open"),t.preventDefault(),!1})),r.find("ul li a").on("click touch",(function(i){var n=bestJq(this);if(n.parent("li").hasClass("disabled"))return i.preventDefault(),!1;var a=bestJq(this).parents(".selectDropdown"),s=a.find(".ymq-dropdown"),r=e.hasClass("ymq-multiple"),c=bestJq(this).parent().hasClass("active"),l=bestJq(this).parent().data("index");return r?(n.parents(".ymq-multiple-li").toggleClass("active"),e.find("option").eq(n.parents(".ymq-multiple-li").data("index")).prop("selected",n.parents(".ymq-multiple-li").hasClass("active")),p()):(c&&!o?a.find("option").prop("selected",!1):(a.find("option").prop("selected",!1),a.find("option").eq(l).prop("selected",!0)),p()),s.trigger("change"),t.variantChange(e),r?(i.preventDefault(),!1):void 0}))}function p(t=""){i={},n={},a={},e.find("option").each((function(t){bestJq(this).prop("selected")&&!bestJq(this).prop("disabled")&&(i[t]={value:bestJq(this).val(),text:bestJq(this).html()}),bestJq(this).prop("disabled")&&(n[t]={value:bestJq(this).val(),text:bestJq(this).html()}),"none"==bestJq(this).css("display")&&(a[t]={value:bestJq(this).val(),text:bestJq(this).html()})}));var o="";r.find(".ymq-multiple-li").removeClass("active").removeClass("disabled").show(),Object.keys(i).forEach((function(t){var e=i[t];s?o+=`<span class="ymq-multiple-item-box"><span class="ymq-multiple-item"><span class="ymq-multiple-text">${e.text}</span> <span data-index="${t}" class="ymq-multiple-remove"></span></span></span></span>`:o=e.text,r.find(".ymq-multiple-li").eq(t).addClass("active")})),Object.keys(n).forEach((function(t){n[t];r.find(".ymq-multiple-li").eq(t).addClass("disabled")})),Object.keys(a).forEach((function(t){a[t];r.find(".ymq-multiple-li").eq(t).hide()})),""==o&&(o=e.attr("placeholder")),c.html(o),r.find(".ymq-multiple-remove").on("click touch",(function(t){return e.find("option").eq(bestJq(this).data("index")).prop("selected",!1),e.trigger("change"),p(),t.preventDefault(),!1}))}}))},bestJq(document).on("click touch",(function(t){bestJq(".ymq-dropdown").removeClass("open")})),justTools.prototype={addAnimation:function(){switch(this.set.animation){case"none":break;case"fadeIn":this.obj.addClass("animated fadeIn");break;case"flipIn":switch(this.set.gravity){case"top":this.obj.addClass("animated flipInTop");break;case"bottom":this.obj.addClass("animated flipInBottom");break;case"left":this.obj.addClass("animated flipInLeft");break;case"right":this.obj.addClass("animated flipInRight")}break;case"moveInLeft":this.obj.addClass("animated moveLeft");break;case"moveInTop":this.obj.addClass("animated moveTop");break;case"moveInBottom":this.obj.addClass("animated moveBottom");break;case"moveInRight":this.obj.addClass("animated moveRight")}},close:function(){this.obj.remove(),this.elem.removeAttr("just-open")},setPosition:function(){if(""!=this.set.contents){var t={},e={x:this.elem.offset().left,y:this.elem.offset().top},i={w:this.elem.outerWidth(),h:this.elem.outerHeight()},n=e.x+i.w/2+this.obj.outerWidth()/2,a=e.x+i.w/2-this.obj.outerWidth()/2;switch(this.set.gravity){case"top":n>bestJq(window).width()?(t={x:e.x+i.w-this.obj.outerWidth(),y:e.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-i.w/2+"px")):a<0?(t={x:e.x,y:e.y-this.obj.outerHeight()-this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",i.w/2+"px")):t={x:e.x-(this.obj.outerWidth()-i.w)/2,y:e.y-this.obj.outerHeight()-this.set.distance};break;case"bottom":n>bestJq(window).width()?(t={x:e.x+i.w-this.obj.outerWidth(),y:e.y+i.h+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",this.obj.outerWidth()-i.w/2+"px")):a<0?(t={x:e.x,y:e.y+i.h+this.set.distance},this.obj.find(".just-"+this.set.gravity).css("left",i.w/2+"px")):t={x:e.x-(this.obj.outerWidth()-i.w)/2,y:e.y+i.h+this.set.distance};break;case"left":t={x:e.x-this.obj.outerWidth()-this.set.distance,y:e.y-(this.obj.outerHeight()-i.h)/2};break;case"right":t={x:e.x+i.w+this.set.distance,y:e.y-(this.obj.outerHeight()-i.h)/2}}this.obj.css({left:t.x+"px",top:t.y+"px"})}},setEvent:function(){var t=this;"click"!=t.set.events&&"onclick"!=t.set.events||t.obj.one("click",(function(t){})),"mouseover"!=t.set.events&&"onmouseover"!=t.set.events&&"mouseenter"!=t.set.events||this.elem.one("mouseout, mouseleave",(function(){t.close()})).one("click",(function(t){}))},setConfirmEvents:function(){var t=this,e=this.obj.find(".just-yes"),i=this.obj.find(".just-no");e.click((function(){1==t.set.onYes(t)&&t.close()})),i.click((function(){t.close(),t.set.onNo(t)}))},addConfirm:function(){this.obj.append("<div class='just-confirm'><button type='button' class='just-yes'>"+this.set.yes+"</button><button type='button' class='just-no'>"+this.set.no+"</button></div>"),this.setConfirmEvents()},setContent:function(){""!=this.set.contents&&(this.obj=bestJq("<div class='just-tooltip "+this.set.theme+"'style='width:"+this.set.width+"'><div class='just-con'>"+this.set.contents+"</div><span class='just-"+this.set.gravity+"'></span></div>"),1==this.set.confirm&&this.addConfirm(),bestJq("body").append(this.obj),this.setEvent(),this.addAnimation())},getEvent:function(){if(window.event)return window.event;for(var t=this.getEvent.caller;null!=t;){var e=t.arguments[0];if(e&&(e.constructor==Event||e.constructor==MouseEvent||"object"==typeof e&&e.preventDefault&&e.stopPropagation))return e;t=t.caller}return null},destroy:function(){bestJq("div[just-open]").removeAttr("just-open"),bestJq(".just-tooltip").remove()},init:function(){var t=this,e=t.getEvent();t.set.events=e.type,e.preventDefault(),e.stopPropagation(),$document=bestJq(document),"click"!=t.set.events&&"onclick"!=t.set.events||(t.destroy(),$document.one("click",(function(e){t.destroy()}))),t.setContent(),t.setPosition(),$document.one("resize",(function(){t.setPosition()}))}},bestJq.fn.justToolsTip=function(t){if(!this.attr("just-open")){this.attr("just-open","show");var e={id:(new Date).getTime(),height:"auto",width:"auto",contents:"",gravity:"top",theme:"",distance:10,animation:"none",confirm:!1,yes:"确定",no:"取消",onYes:function(){},onNo:function(){}};this.each((function(i){t=bestJq.extend(e,t),new justTools(bestJq(this),t).init()}))}},bestJq(document).on("click","[data-ymq-id]",(function(t){t.preventDefault();var e=bestJq(this).attr("data-ymq-id");bestJq("#"+e).ymq(bestJq(this).data())})),bestJq.fn.ymq=function(t){t=bestJq.extend({},{animation:"fade",animationspeed:300,closeonbackgroundclick:!0,dismissmodalclass:"close-ymq-modal"},t);return this.each((function(){var e=bestJq(this),i=parseInt(e.css("top")),n=e.height()+i,a=!1,o=bestJq(".ymq-modal-bg");0==o.length&&(o=bestJq('<div class="ymq-modal-bg" />').insertAfter(e)),e.bind("ymq:open",(function(){if(o.unbind("click.modalEvent"),bestJq("."+t.dismissmodalclass).unbind("click.modalEvent"),!a){if(r(),"fadeAndPop"==t.animation&&(e.css({top:bestJq(document).scrollTop()-n,opacity:0,visibility:"visible"}),o.fadeIn(t.animationspeed/2),e.delay(t.animationspeed/2).animate({top:bestJq(document).scrollTop()+i+"px",opacity:1},t.animationspeed,s())),"fade"==t.animation){if(e.height()+100>bestJq(window).height())var c=50;else if(e.height()>300)c=(bestJq(window).height()-e.height())/2;else c=150;e.css({opacity:0,visibility:"visible",top:c,width:e.data("width"),"margin-left":-Number(e.data("width"))/2}),o.fadeIn(t.animationspeed/2),e.delay(t.animationspeed/2).animate({opacity:1},t.animationspeed,s())}"none"==t.animation&&(e.css({visibility:"visible",top:bestJq(document).scrollTop()+i}),o.css({display:"block"}),s())}e.unbind("ymq:open")})),e.bind("ymq:close",(function(){a||(r(),"fadeAndPop"==t.animation&&(o.delay(t.animationspeed).fadeOut(t.animationspeed),e.animate({top:bestJq(document).scrollTop()-n+"px",opacity:0},t.animationspeed/2,(function(){e.css({top:i,opacity:1,visibility:"hidden"}),s()}))),"fade"==t.animation&&(o.delay(t.animationspeed).fadeOut(t.animationspeed),e.animate({opacity:0},t.animationspeed,(function(){e.css({opacity:1,visibility:"hidden",top:i}),s()}))),"none"==t.animation&&(e.css({visibility:"hidden",top:i}),o.css({display:"none"}))),e.unbind("ymq:close")})),e.trigger("ymq:open");bestJq("."+t.dismissmodalclass).bind("click.modalEvent",(function(){e.trigger("ymq:close")}));function s(){a=!1}function r(){a=!0}t.closeonbackgroundclick&&(o.css({cursor:"pointer"}),o.bind("click.modalEvent",(function(){e.trigger("ymq:close")}))),bestJq("body").keyup((function(t){27===t.which&&e.trigger("ymq:close")}))}))};let Config=class Config{constructor(){var t=this;t.instance=null,t.util=Util.getInstance(),t.init()}init(){var t=this;String.prototype.endWith=function(t){var e=this.length-t.length;return e>=0&&this.lastIndexOf(t)==e},t.Shopify={},t.money_format="",t.form_box="",t.onetimetag="",t.cart_form='form[action*="/cart"]',t.discount_box="#ymq_discount_box",t.styleDomId="#ymq-jsstyle",t.add_to_cart="ymq-add-to-cart-button",t.buy_id_now="ymq-buy-it-now-button",t.quantity_box="ymq-quantity-box",t.quantity_input="ymq-quantity-input",t.quantity_add="ymq-quantity-add",t.quantity_cut="ymq-quantity-cut",t.quantity_change="ymq-quantity-change",t.listen_add_to_cart_v=0,t.min_quantity=0,t.max_quantity=9999999,t.qty_split=" * ",t.ymq_extra_0={},t.hasError=!1,t.multipleTypeArray=[6,7,8],t.emailRe=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t.urlRe=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/,t.numberRe=/^\-?[0-9]+\.?[0-9]*$/,t.ymq_variant_id="ymq-variant-id",t.ymq_option_title="ymq-option-title",t.basImgUrl="http://ymq-shopify.oss-us-east-1.aliyuncs.com/",t.img_suffix="?x-oss-process=image/resize,w_100/quality,q_80",t.please="please",t.box_prefix="option-box-",t.attrib_prefix="ymq-attrib-",t.attrib_item_prefix="ymq-attrib-item-",t.optionHtml="",t.selectedYmqOption={},t.product="",t.ymq_shopify_options="",t.ymq_option_data="",t.ymq_option_condition="",t.ymq_option_template="",t.ymq_option_template_condition="",t.ymq_option_settings="",t.ymq_option_branding="",t.multiple_option_type=[7,6,16,8,21],t.ymq_has_only_default_variant="",t.variantData="",t.tem_prefix="tem",t.properties="ymq",t.ymq_enLang={name:"en",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["SU","MO","TU","WE","TH","FR","SA"],times:["Hour","Minute","Second"],timetxt:["Time","Start Time","End Time"],backtxt:"Back",clear:"Clear",today:"Now",yes:"Confirm",close:"Close"},t.ymq_jedateblue={bgcolor:"#275efe",color:"#ffffff",pnColor:"#bff3ff"},t.ymq_jedategreen={bgcolor:"#00A680",pnColor:"#00DDAA"},t.ymq_jedatered={bgcolor:"#D91600",pnColor:"#FF6653"},t.initFormat()}creatYmqHiddenInput(t,e=!1){return"properties[]"==t?"":e?`<input class="ymq-hidden-input" value="" type="hidden" name="properties[${t}]">`:`<input class="ymq-hidden-input" value="" type="hidden" name="${t}">`}initFormat(){var t=this;return t.Shopify=Shopify,t.NumberFormat=new Intl.NumberFormat("en-US",{style:"currency",currency:t.Shopify.currency.active}),t.initMinMax(),t}initMinMax(){var t=this;if(window.best_option.hasOwnProperty("ymq_extra_0")&&(t.ymq_extra_0=window.best_option.ymq_extra_0,"product"==window.best_option.page&&window.best_option.product.hasOwnProperty("id")&&t.ymq_extra_0.hasOwnProperty(window.best_option.product.id.toString()))){var e=t.ymq_extra_0[window.best_option.product.id.toString()];""==e.min?t.min_quantity=0:t.min_quantity=Number(e.min),""==e.max?t.max_quantity=999999:t.max_quantity=Number(e.max)}}getMinMaxByProduct(t,e){if(t&&this.ymq_extra_0.hasOwnProperty(t.toString())){var i=this.ymq_extra_0[t.toString()];if(""!=i.max&&e>i.max)return i.max;if(""!=i.min&&e<i.min)return i.min}return null}doFormat(t,e=0,i=!1){var n=this,a="";return a=1==Number(e)?n.NumberFormat.format(t*n.Shopify.currency.rate)+n.onetimetag:n.NumberFormat.format(t*n.Shopify.currency.rate),1==i&&(a=`<span class="ymq-price-span">${a}</span>`),a}doFormatWithoutRate(t,e=!1){var i=this.NumberFormat.format(t);return 1==e&&(i=`<span class="ymq-price-span">${i}</span>`),i}getPriceWithRate(t){return t*this.Shopify.currency.rate}getSelectButtonPrice(t,e){var i=this,n=i.util.getValue(i.ymq_option_branding.extra,"price-value","3,7,15,16");return((n=n.split(",")).indexOf(e.toString())>-1||n.indexOf(Number(e))>-1)&&t>0?` <span class="ymq-price-in-option-value"> + ${i.doFormat(t,0,!0)}</span>`:""}ymqHook(key){var that=this,hookCode=that.util.getValue(that.ymq_option_branding.extra,key,"");if(""!=hookCode)try{eval(hookCode)}catch(t){console.log(t)}}static getInstance(t,e){return this.instance||(this.instance=new Config),this.instance[t]=e,this.instance}},Html=class t{constructor(t){var e=this;e.instance=null,e.initJson=t,e.config=Config.getInstance("htmlInstance",e),e.init()}initMemberVariables(){var t=this;t.optionHtml="",t.selectedYmqOption={},t.isShopify=!1,t.json={},t.validate=[],t.tool_text="",t.alert_text="",t.help_text="",t.variant_id=0,t.conditionJson={},t.needAddLabel=[],t.config.hasQuantity=!1,t.config.quantity_is_fix_type=!1,t.config.quantity_has_value=!0,t.config.max_num=999999,t.config.qty_input_text=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-input-text","Qty: "),t.config.qty_inline=t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-inline","3,4,5,6,7,8,15,16").split(","),t.config.multiple_select_qty_with_name=0!=Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-with-name",0))}init(){this.initMemberVariables()}buildtHtml(){var t=this;return Object.keys(t.json).forEach((function(e){switch(t.beforeCreat(e),t.selectedYmqOption.type.toString()){case"1":t.creatField().doCreatOptionHtml();break;case"2":t.creatArea().doCreatOptionHtml();break;case"3":t.creatSelect().doCreatOptionHtml().initDropdown();break;case"20":t.creatSelect("single",!0).doCreatOptionHtml().initDropdown();break;case"4":t.creatRadio().doCreatOptionHtml();break;case"15":t.creatRadioButton().doCreatOptionHtml();break;case"5":t.creatCanvas().doCreatOptionHtml();break;case"6":t.creatCheckbox().doCreatOptionHtml();break;case"16":t.creatCheckboxButton().doCreatOptionHtml();break;case"7":t.creatSelect("multiple").doCreatOptionHtml().initDropdown();break;case"21":t.creatSelect("multiple",!0).doCreatOptionHtml().initDropdown();break;case"8":t.creatCanvas("checkbox").doCreatOptionHtml();break;case"9":case"10":t.creatDate().doCreatOptionHtml().initData();break;case"11":t.creatCustomeText().doCreatOptionHtml();break;case"12":t.creatFile().doCreatOptionHtml().initFile();break;case"13":t.creatSwitch().doCreatOptionHtml();break;case"14":t.creatColorPick().doCreatOptionHtml().initColpick();break;case"17":t.creatLayout().doCreatOptionHtml();break;case"18":t.creatFixedQuantity().doCreatOptionHtml();break;case"19":t.creatFixedQuantity(19).doCreatOptionHtml();break;case"100":try{0==t.config.ymq_option_template_sort||Array.isArray(t.config.ymq_option_template_sort)&&t.selectedYmqOption.id&&t.config.ymq_option_template_sort.includes(t.selectedYmqOption.id.toString())?t.setJson(t.config.ymq_option_template[t.config.tem_prefix+t.selectedYmqOption.id],t.config.ymq_option_template_condition[t.config.tem_prefix+t.selectedYmqOption.id]).buildtHtml().setJson(t.config.ymq_option_data,t.config.ymq_option_condition):console.log(t.config.tem_prefix+t.selectedYmqOption.id)}catch(e){console.error(e),t.setJson(t.config.ymq_option_template[t.config.tem_prefix+t.selectedYmqOption.id],t.config.ymq_option_template_condition[t.config.tem_prefix+t.selectedYmqOption.id]).buildtHtml().setJson(t.config.ymq_option_data,t.config.ymq_option_condition)}}})),t}validateIsHasLabel(){return this.selectedYmqOption.label,this}beforeCreat(t){var e=this;if(e.selectedYmqOption=e.json[t],this.selectedYmqOption.hasOwnProperty("isShopify")?e.isShopify=!0:e.isShopify=!1,!e.isShopify){var i=bestJq(`[name="${e.config.util.reHtmlSpecialChars(e.creatName())}"]`),n=bestJq(`[name="${e.config.util.reHtmlSpecialChars(e.creatName(null,!0))}"]`);if(i.length>=1&&-1==bestJq.inArray(e.selectedYmqOption.label,e.needAddLabel)){e.needAddLabel.push(e.selectedYmqOption.label);var a=i.eq(0).parents(".ymq-options-box");a.attr("data-name",e.creatName(a.data("label")+a.data("id"),!0)),n.prop("name",e.creatName(a.data("label")+a.data("id"),!0)),i.each((function(){bestJq(this).prop("name",e.creatName(a.data("label")+a.data("id")))}))}}return e.selectedQtyInput=1==Number(e.config.util.getValue(e.selectedYmqOption,"qty_input",0)),e.isShopify&&(e.selectedQtyInput=!1),e.selectedQtyInputFlexClass="",-1==bestJq.inArray(e.selectedYmqOption.type.toString(),e.config.qty_inline)&&-1==bestJq.inArray(Number(e.selectedYmqOption.type),e.config.qty_inline)||(e.selectedQtyInputFlexClass="ymq-qty-input-item-flex"),e.validateIsHasLabel(),e.buildValidate(),e.buildTooltip(),e.buildAlert(),e.buildHelp(),e}buildValidate(){var t=this;if(t.validate=[],1==Number(t.selectedYmqOption.required)&&t.validate.push("required"),(1==Number(t.selectedYmqOption.type)&&1==Number(t.selectedYmqOption.field_type)||2==Number(t.selectedYmqOption.type))&&(t.selectedYmqOption.min_char>0&&t.validate.push("minchar:"+t.selectedYmqOption.min_char),t.selectedYmqOption.max_char>0&&t.validate.push("maxchar:"+t.selectedYmqOption.max_char)),(t.config.multiple_option_type.includes(Number(t.selectedYmqOption.type))||1==t.selectedYmqOption.qty_input)&&(t.selectedYmqOption.hasOwnProperty("min_s")&&t.selectedYmqOption.min_s>0&&t.validate.push("min_s:"+t.selectedYmqOption.min_s),t.selectedYmqOption.hasOwnProperty("max_s")&&t.selectedYmqOption.max_s>0&&t.validate.push("max_s:"+t.selectedYmqOption.max_s)),1==Number(t.selectedYmqOption.type))switch(t.selectedYmqOption.field_type){case"2":t.validate.push("email");break;case"3":t.validate.push("phone");break;case"4":t.validate.push("number"),t.selectedYmqOption.min>0&&t.validate.push("numbermin:"+t.selectedYmqOption.min),t.selectedYmqOption.max>0&&t.validate.push("numbermax:"+t.selectedYmqOption.max);break;case"5":t.selectedYmqOption.min>0&&t.validate.push("numbermin:"+t.selectedYmqOption.min),t.selectedYmqOption.max>0&&t.validate.push("numbermax:"+t.selectedYmqOption.max),t.validate.push("integer");break;case"10":t.validate.push("url")}return t.validate.length>0?t.validate='data-validate="'+t.validate.join("|")+'"':t.validate="",t}buildTooltip(){var t=this;t.tool_text="",""!=t.selectedYmqOption.tooltip&&(t.tool_text=`<span class="ymq_tools ymq_tool_span" data-title="${t.selectedYmqOption.tooltip}"></span>`)}buildAlert(){var t=this;if(t.alert_text="",t.selectedYmqOption.hasOwnProperty("a_t1")||(t.selectedYmqOption.a_t1="",t.selectedYmqOption.a_t2="",t.selectedYmqOption.alert_text=""),t.selectedYmqOption.hasOwnProperty("alert_text")&&""!=t.selectedYmqOption.alert_text){var e="";""==!t.selectedYmqOption.a_t2&&(e=`<img class="ymq_img_alert" src="${t.selectedYmqOption.a_t2}">`),t.alert_text=`\n                    <div class="ymq_alert_box2" data-ymq-id="ymqdialogbox${t.selectedYmqOption.id}">\n                        ${e+t.selectedYmqOption.a_t1}\n                    </div>`,bestJq("body").append(`\n                    <div id="ymqdialogbox${t.selectedYmqOption.id}" data-width="${t.selectedYmqOption.a_width}" class="ymq-modal">\n                      <span class="close-ymq-modal">\n                          &#215;\n                      </span>\n                      <div class="ymq-modal-content">\n                          ${t.selectedYmqOption.alert_text}\n                      </div>\n                    </div>\n                `)}}buildHelp(){var t=this;t.help_text="",""!=t.selectedYmqOption.help&&(t.help_text=`<div class="ymq_help_box">${t.selectedYmqOption.help}</div>`)}doCreatOptionHtml(){var t=this,e="",i="",n="",a="",o="",s=Number(t.config.util.getValue(this.selectedYmqOption,"hide_title",0));if(null==t.selectedYmqOption)return t;if([18,19].includes(Number(t.selectedYmqOption.type))&&window.best_option.ymq_option_branding.extra.plan<3)return t;1==Number(t.selectedYmqOption.required)&&(o="required");var r=!0;if([18,19].includes(Number(t.selectedYmqOption.type))&&bestJq.isEmptyObject(t.selectedYmqOption.options)&&(r=!1),11!=t.selectedYmqOption.type&&17!=t.selectedYmqOption.type&&r){e=`<div ${1==s?'style="display:none;"':""} class="${t.config.ymq_option_title}"><span class="ymq_lable ${o}">${t.selectedYmqOption.label}</span>${t.alert_text}${t.tool_text}<span class="ymq_option_text_span"></span><span class="ymq_option_price_span"></span></div>`;1==Number(t.selectedYmqOption.tooltip_position)?i=t.help_text:2==Number(t.selectedYmqOption.tooltip_position)?n=t.help_text:a=t.help_text}var c="";return[12].includes(Number(t.selectedYmqOption.type))||(c=t.config.creatYmqHiddenInput(t.creatName(null,!0))),this.optionHtml=`\n                <div \n                    class="ymq-options-box ymq-options-box-${this.selectedYmqOption.type} ${t.selectedQtyInput?"ymq-options-qty-box":""} ${this.isShopify?"ymq-shopify-option-box":""} ${t.config.util.getValue(t.selectedYmqOption,"class","")} ${t.config.util.getValue(t.selectedYmqOption,"column_width","")}" \n                    id="${t.config.box_prefix}${this.selectedYmqOption.id}"\n                    data-type="${this.selectedYmqOption.type}"\n                    data-id="-${t.selectedYmqOption.id.toString().split("tem").join("-")}"\n                    data-ymq-add-to-cart="${t.config.util.getValue(t.selectedYmqOption,"is_get_to_cart",1)}"\n                    data-name="${this.creatName(null,!0)}"\n                    data-label="${t.config.util.htmlSpecialChars(this.selectedYmqOption.label)}"\n                    data-onetime="${this.getOneTime()}"\n                    data-class="${t.config.attrib_prefix}${t.selectedYmqOption.id}"\n                    ${t.validate}\n                >\n                    ${n}\n                    ${e}\n                    ${a}\n                    ${t.optionHtml}\n                    <div class="ymq-error-box"></div>\n                    ${i}\n                    ${c}\n                </div>\n            `,""!=t.optionHtml&&bestJq("#ymq-box").append(t.optionHtml),t}getOneTime(){return this.config.util.getValue(this.selectedYmqOption,"onetime","0")}creatColorPick(){var t=this;return t.optionHtml=`\n                <div class="ymq-input-color-box">\n                    <input readonly class="ymq-input-text ymq-input-color ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="text" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-id="${t.selectedYmqOption.id}" data-one_time="${t.selectedYmqOption.one_time}" data-price="0" value="" name="${t.creatName()}">\n                    <div class="ymq-input-color-button"></div>\n                </div>\n            `,t}creatAccept(){var t="";return 1==this.selectedYmqOption.file_type&&(t='accept="image/*"'),t}creatFileMultiple(){var t=this,e='multiple="multiple"';return(1==t.selectedYmqOption.file_num||0!=t.config.util.getValue(t.selectedYmqOption,"cropped_type","0"))&&(e=""),e}creatFile(){var t=this;return t.optionHtml=`\n                <div class="ymq_upload_new_box">\n                    <div class="ymq_upload_img_view spotlight-group">\n                        <label data-show="" id="ymq_upload${t.selectedYmqOption.id}" class="ymq_upload_new" style="z-index: 1;">\n                            <input ${t.creatAccept()} ${this.creatFileMultiple()} type="file" data-file-num="${t.selectedYmqOption.file_num}" data-rectangle-ratio="${t.config.util.getValue(t.selectedYmqOption,"rectangle_ratio","")}" data-file-type="${t.selectedYmqOption.file_type}" data-cropper="${t.config.util.getValue(t.selectedYmqOption,"cropped_type","0")}" style="display: none;" class="${t.config.attrib_prefix}${t.selectedYmqOption.id} ymq-options-file-input" name="${t.creatName(null,!0)}" data-price="0" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n                            <svg class="icon" style="width: 24px; height: 24px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2737"><path d="M662.63 545.37l-128-128a32 32 0 0 0-45.25 0l-128 128a32 32 0 1 0 45.25 45.25L480 517.25V872a32 32 0 0 0 64 0V517.25l73.37 73.37a32 32 0 1 0 45.25-45.25zM752 760H640a32 32 0 0 1 0-64h112c79.4 0 144-64.6 144-144a144 144 0 0 0-132.45-143.54 32 32 0 0 1-29.24-28C720.6 268.46 625 184 512 184s-208.6 84.46-222.31 196.45a32 32 0 0 1-29.24 28A144 144 0 0 0 128 552c0 79.4 64.6 144 144 144h112a32 32 0 0 1 0 64H272c-114.69 0-208-93.31-208-208a208.08 208.08 0 0 1 166.23-203.79C258 216.5 375 120 512 120s254 96.5 281.77 228.21A208.08 208.08 0 0 1 960 552c0 114.69-93.31 208-208 208z" p-id="2738"></path></svg>\n                        </label>\n                    </div>\n                </div>\n                <div class="ymq_upload_box ymq_upload_file_view">\n\n                </div>\n            `,t}creatSwitch(){var t=this;return t.optionHtml=`\n                \n                <div>\n                    <input class="ymq-checkbox-radio ymq-Switch ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="checkbox" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-id="${t.selectedYmqOption.id}" data-one_time="${t.selectedYmqOption.one_time}" data-price="0" value="${t.selectedYmqOption.switch_text}" name="${t.creatName()}" id="tool-${t.selectedYmqOption.id}" ${1==Number(t.selectedYmqOption.default)?"checked":""}>\n                    <label for="${t.config.attrib_prefix}${t.selectedYmqOption.id}">${t.selectedYmqOption.switch_text}</label>\n                </div>\n            `,t}creatField(){var t=this,e="";""!=t.selectedYmqOption.default_text&&null!=t.selectedYmqOption.default_text&&(e=`value="${t.selectedYmqOption.default_text}"`);var i="";return""!=t.selectedYmqOption.placeholder&&null!=t.selectedYmqOption.placeholder&&(i=`placeholder="${t.selectedYmqOption.placeholder}"`),t.optionHtml=`\n                <input ${e} ${i} class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" type="text" name="${t.creatName()}" data-price="0" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n            `,t}creatCustomeText(){var t=this;return t.optionHtml=`\n                <div class="ymq_custome_text">${t.selectedYmqOption.html}</div>\n            `,t}creatLayout(){var t=this;t.selectedYmqOption.hasOwnProperty("a_t1")||(t.selectedYmqOption.a_t1="",t.selectedYmqOption.a_t2="",t.selectedYmqOption.a_width="700",t.selectedYmqOption.alert_text="");var e="";return""==!t.selectedYmqOption.a_t2&&(e=`<img class="ymq_img_alert" src="${t.selectedYmqOption.a_t2}">`),""!=t.selectedYmqOption.alert_text?(t.optionHtml=`\n                    <div class="ymq_alert_box" data-ymq-id="ymqdialogbox${t.selectedYmqOption.id}">\n                        ${e+t.selectedYmqOption.a_t1}\n                    </div>\n                `,bestJq("body").append(`\n                    <div id="ymqdialogbox${t.selectedYmqOption.id}" data-width="${t.selectedYmqOption.a_width}" class="ymq-modal">\n                      <span class="close-ymq-modal">\n                          &#215;\n                      </span>\n                      <div class="ymq-modal-content">\n                          ${t.selectedYmqOption.alert_text}\n                      </div>\n                    </div>\n                `)):t.optionHtml="",t}creatArea(){var t=this,e="";""!=t.selectedYmqOption.default_text&&null!=t.selectedYmqOption.default_text&&(e=t.selectedYmqOption.default_text);var i="";return""!=t.selectedYmqOption.placeholder&&null!=t.selectedYmqOption.placeholder&&(i=`placeholder="${t.selectedYmqOption.placeholder}"`),t.optionHtml=`\n                <textarea ${i} class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-price="0" name="${t.creatName()}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">${e}</textarea>\n            `,t}creatSelect(t="",e=!1){var i=this,n=i.selectedYmqOption.options,a=i.conditionJson,o=Number(i.config.util.getValue(i.selectedYmqOption,"strong-dorp-down",2)),s=Number(i.config.util.getValue(i.config.ymq_option_branding.extra,"strong-dorp-down",1));2==Number(o)&&(o=s),e&&(o=1);var r="",c="",l="ymq-no-strong-drop-down";1==o&&(r='style="display: none;"',c="multiple",l=""),"multiple"==t&&(c="multiple",i.selectedQtyInputFlexClass="");var d='<div class="ymq-multiple-select-qty-wrappe">',p="";for(var m in i.optionHtml="",i.selectedQtyInput&&(i.optionHtml+=`<div class="ymq-qty-input-item ${i.selectedQtyInputFlexClass} ymq-qty-input-item-${i.selectedYmqOption.id}" id="ymq-qty-input-item-${i.selectedYmqOption.id}" data-id="${i.selectedYmqOption.id}">`),i.optionHtml+=`\n                    <select ${r} ${c} name="${i.creatName()}"  id="${i.config.attrib_prefix}${i.selectedYmqOption.id}" class="${l} ymq-dropdown ${i.config.attrib_prefix}${i.selectedYmqOption.id} ${"multiple"==t?"ymq-multiple":""} ${i.isShopify?"ymq-shopify-option":""}" placeholder="${i.config.ymq_option_branding.lan.please_choose}">\n            `,1==o||i.isShopify||(i.optionHtml+=`\n                    <option class="ymq-options-default" value="">${i.config.ymq_option_branding.lan.please_choose}</option>\n                `),n){var u=n[m],h="",f="",y="";if(e)if(o=1,2==u.canvas_type)var _=Number(i.config.util.getValue(i.config.ymq_option_branding.img,"--img-width",50)),b=`<img class="ymq-dropdown-img" src="${i.config.util.getShopifySmallImg(u.canvas2,_,_)}">`;else b=`<span class="ymq-dropdown-color" style="background-color: #${u.canvas1};"></span>`;0==Number(u.hasstock)?(h=`data-title="${i.config.ymq_option_branding.lan.sold_out}" disabled`,f="ymq_disabled_class ymq_sold_out",y="disabled",u.default=0):a.hasOwnProperty(u.id)&&(h=`data-title="${a[u.id].disabled_text}"`,f="ymq_disabled_class ymq_condition_disabled"),i.optionHtml+=`\n                    <option data-ymq_dropdown_img='${b}' ${y} ${h} ${1==Number(u.default)?"selected":""} class="${i.config.attrib_item_prefix}${u.id} ${f}" id="${i.config.attrib_prefix}${u.id}" data-id="${u.id}" data-one_time="${u.one_time}" data-price="0" value="${u.value}"><span class="ymq-option-value">${u.value}</span>${i.config.getSelectButtonPrice(0,i.selectedYmqOption.type.toString())}</option>\n                `,p+=`ymq-qty-input-${u.id} `,"multiple"==t&&(d+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${u.id}" data-id="${u.id}">${i.config.qty_input_text}${i.config.multiple_select_qty_with_name?"("+u.value+")":""}<span class="ymq-qty-input-trigger-div ymq-qty-input-trigger-div-${i.selectedYmqOption.id}"><span data-clazz=".ymq-qty-input-${u.id}" data-num="-1" class="ymq-qty-input-trigger ymq-qty-input-trigger-cut">-</span><input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ymq-qty-input-${u.id}" id="ymq-qty-input-${u.id}" data-id="${u.id}" type="number"><span data-clazz=".ymq-qty-input-${u.id}" data-num="1" class="ymq-qty-input-trigger ymq-qty-input-trigger-add">+</span></span></div>`)}return i.optionHtml+="\n                    </select>\n            ",i.selectedQtyInput&&(i.optionHtml+="multiple"==t?`${d}</div></div>`:`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${i.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${u.id}" data-id="${u.id}">${i.config.qty_input_text}<span class="ymq-qty-input-trigger-div ymq-qty-input-trigger-div-${i.selectedYmqOption.id}"><span data-clazz=".ymq-qty-input-${u.id}" data-num="-1" class="ymq-qty-input-trigger ymq-qty-input-trigger-cut">-</span><input value="1" min="1" class="ymq-qty-input ymq-qty-input-${i.selectedYmqOption.id} ${p}" id="ymq-qty-input-${i.selectedYmqOption.id} ${p}" data-id="${i.selectedYmqOption.id}" type="number"><span data-clazz=".ymq-qty-input-${u.id}" data-num="1" class="ymq-qty-input-trigger ymq-qty-input-trigger-add">+</span></span></div></div>`),i}creatCheckboxButton(){return this.creatrcbtn("checkbox"),this}creatRadioButton(){return this.creatrcbtn(),this}hasHref(t){try{return!(!this.selectedYmqOption.hasOwnProperty("open_new_window")||!t.hasOwnProperty("link")||""==t.link)}catch(t){return!1}}creatHref(t,e,i=0){return t?0==i?`<a class="ymq_option_href" href="${e.link}" ${1==this.selectedYmqOption.open_new_window?'target="_blank"':""} >`:"</a>":""}creatFor(t,e){return t?"":`for="${this.config.attrib_prefix}${e.id}"`}creatLabel(t){return t?"span ":"label "}creatrcbtn(t="radio"){var e=this,i=this.selectedYmqOption.options,n=e.conditionJson;for(var a in this.optionHtml="\n                    \n                    <div>\n                ",i){var o=i[a],s="",r="",c="",l=e.hasHref(o);0==Number(o.hasstock)?(s=`data-title="${e.config.ymq_option_branding.lan.sold_out}"`,r="ymq_disabled_class ymq_sold_out",c="disabled"):n.hasOwnProperty(o.id)&&(s=`data-title="${n[o.id].disabled_text}"`,r="ymq_disabled_class ymq_condition_disabled"),e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id} ${e.config.attrib_item_prefix}${o.id}" id="ymq-qty-input-item-${o.id}" data-id="${o.id}">`),this.optionHtml+=`\n                    ${e.creatHref(l,o)}\n                    <input ${c} ${s} class="ymq-options-button-input ${r} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${o.id}" data-id="${o.id}" data-one_time="${o.one_time}" data-price="0" value="${o.value}" type="${t}" name="${e.creatName()}" id="tool-${o.id}" ${1==Number(o.default)?"checked":""}>\n                    <label ${s} class="ymq-options-button-label ${e.config.attrib_item_prefix}${o.id}" ${e.creatFor(l,o)}>\n                        <span class="ymq-option-value">${o.value}</span>${e.config.getSelectButtonPrice(0,e.selectedYmqOption.type.toString())}\n                    </label>\n                    ${e.creatHref(l,o,1)}\n                `,e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${o.id}" data-id="${o.id}">${e.config.qty_input_text}<span class="ymq-qty-input-trigger-div ymq-qty-input-trigger-div-${e.selectedYmqOption.id}"><span data-clazz=".ymq-qty-input-${o.id}" data-num="-1" class="ymq-qty-input-trigger ymq-qty-input-trigger-cut">-</span><input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${o.id}" id="ymq-qty-input-${o.id}" data-id="${o.id}" type="number"><span data-clazz=".ymq-qty-input-${o.id}" data-num="1" class="ymq-qty-input-trigger ymq-qty-input-trigger-add">+</span></span></div></div>`)}return this.optionHtml+="\n                    </div>\n            ",e}creatFixedQuantity(t=18){var e=this,i=this.selectedYmqOption.options,n=(e.conditionJson,1),a=e.config.util.getValue(e.config.ymq_option_branding.lan,"q-buy","Buy:"),o=e.config.util.getValue(e.config.ymq_option_branding.lan,"q-save","Save");if(1==e.config.hasQuantity)return this.optionHtml="",e.selectedYmqOption=null,e;if(e.config.hasQuantity=!0,e.config.quantity={},e.config.quantity.defalut_quantity=e.config.min_quantity,e.config.quantity.type=t,e.config.quantity.options={},18==Number(t)&&(e.config.quantity_is_fix_type=!0),bestJq.isEmptyObject(i))this.optionHtml=`<input value="222"  type="hidden" name="${e.creatName()}" >`,e.config.quantity_has_value=!1;else{for(var s in this.optionHtml="\n                        <div>\n                    ",i){var r=i[s];e.config.quantity.options[Number(r.quantity)]={quantity:Number(r.quantity),discount:Number(r.discount),discount_type:Number(r.discount_type)}}if(e.config.quantity.options[0]={quantity:0,discount:0,discount_type:2},19==t){var c="",l=0;for(var s in e.config.quantity.options){e.config.quantity.options[s];""!=c&&(e.config.quantity.options[c].quantity_max=s-1),1==l&&e.config.min_quantity>s&&(e.config.min_quantity=Number(s)),e.config.max_quantity<s&&(e.config.max_quantity=Number(s)),l++,e.config.quantity.options[s].quantity_max=e.config.max_num,c=s}}Object.keys(i).forEach((function(s,r){var c=i[s],l="";l=1==Number(c.discount_type)?`${c.discount}%`:`-${e.config.doFormat(c.discount)}`;var d="";if(d=""==c.discount||0==Number(c.discount)?`<span style="display:none !important;" class="ymq-quantity-discount-price" data-quantity="${c.quantity}" data-discount="${c.discount}" data-discount_type="${c.discount_type}">${e.config.doFormat(80)}</span><span class="ymq-quantity-compared-price-no-discount" data-quantity="${c.quantity}">${e.config.doFormat(100)}</span>`:`<span class="ymq-quantity-discount-price" data-quantity="${c.quantity}" data-discount="${c.discount}" data-discount_type="${c.discount_type}">${e.config.doFormat(80)}</span><span class="ymq-quantity-compared-price" data-quantity="${c.quantity}">${e.config.doFormat(100)}</span><span class="ymq-quantity-discount">${1==Number(c.discount_type)?o:""} ${l}</span>`,19==t){var p=!1;1==Number(c.default)&&(e.config.quantity.defalut_quantity=Number(c.quantity))}else{if(1==n){p=!0;e.config.quantity.defalut_quantity=Number(c.quantity)}else p=!1;1==Number(c.default)&&(e.config.quantity.defalut_quantity=Number(c.quantity))}e.optionHtml+=`\n                    <div class="ymq-quantity-radio-box">\n                        <input data-index="${r}" value="${c.quantity}"  class="ymq-checkbox-radio ymq-quantity-radio ymq-quantity-radio-${c.quantity}  ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${c.id}" data-id="${c.id}" type="radio" name="${e.creatName()}" id="tool-${c.id}" ${1==Number(c.default)||p?"checked":""}>\n                        <label class="ymq-quantity-radio-label" for="${e.config.attrib_prefix}${c.id}"><span class="ymq-quantity-buy">${a}</span><span class="ymq-quantity-buy-quantity">${c.quantity}${19==t?"+":""}</span>${d}</label>\n                    </div>\n                    `,n++})),19==t&&(this.optionHtml+=`\n                    <div class="ymq-quantity-show-box ymq-quantity-radio-box">\n                        <span><span class="ymq-quantity-buy">${a} </span><span class="ymq-quantity-buy-quantity">99+</span><span class="ymq-quantity-discount-price"></span><span class="ymq-quantity-compared-price"></span><span class="ymq-quantity-discount"> -€10.00</span></span>\n                    </div>\n                    `),this.optionHtml+="\n                        </div>\n                "}return e}creatCheckbox(){return this.creatrc("checkbox"),this}creatRadio(){return this.creatrc(),this}creatrc(t="radio"){var e=this,i=this.selectedYmqOption.options,n=e.conditionJson;for(var a in this.optionHtml="\n                    <div>\n                ",i){var o=i[a],s="",r="",c="";0==Number(o.hasstock)?(s=`data-title="${e.config.ymq_option_branding.lan.sold_out}"`,r="ymq_disabled_class ymq_sold_out",c="disabled"):n.hasOwnProperty(o.id)&&(s=`data-title="${n[o.id].disabled_text}"`,r="ymq_disabled_class ymq_condition_disabled"),e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id} ${e.config.attrib_item_prefix}${o.id}" id="ymq-qty-input-item-${o.id}" data-id="${o.id}">`),this.optionHtml+=`\n                <div class="ymq_r_c_box ${e.config.attrib_item_prefix}${o.id}">\n                    <input ${c} ${s} class="ymq-checkbox-radio ${r} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${o.id}" data-id="${o.id}" data-one_time="${o.one_time}" data-price="0" value="${o.value}" type="${t}" name="${e.creatName()}" id="tool-${o.id}" ${1==Number(o.default)?"checked":""}>\n                    <label ${s} for="${e.config.attrib_prefix}${o.id}"><span class="ymq-option-value">${o.value}</span> ${e.config.getSelectButtonPrice(0,e.selectedYmqOption.type.toString())}</label>\n                </div>\n                `,e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${o.id}" data-id="${o.id}">${e.config.qty_input_text}<span class="ymq-qty-input-trigger-div ymq-qty-input-trigger-div-${e.selectedYmqOption.id}"><span data-clazz=".ymq-qty-input-${o.id}" data-num="-1" class="ymq-qty-input-trigger ymq-qty-input-trigger-cut">-</span><input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${o.id}" id="ymq-qty-input-${o.id}" data-id="${o.id}" type="number"><span data-clazz=".ymq-qty-input-${o.id}" data-num="1" class="ymq-qty-input-trigger ymq-qty-input-trigger-add">+</span></span></div></div>`)}return this.optionHtml+="\n                    </div>\n            ",e}creatCanvas(t="radio"){var e=this,i=e.selectedYmqOption.options,n=e.conditionJson,a=!1,o=!1;1==e.config.util.getValue(e.config.ymq_option_branding.extra,"img-option-bigger",1)&&(a=!0),2==e.config.util.getValue(e.config.ymq_option_branding.extra,"img-option-bigger",1)&&(o=!0),3==e.config.util.getValue(e.config.ymq_option_branding.extra,"img-option-bigger",1)&&(a=!0,o=!0);var s=Number(e.config.util.getValue(e.config.ymq_option_branding.img,"--img-width",50)),r="",c="";e.selectedYmqOption.hasOwnProperty("style")&&2==Number(e.selectedYmqOption.style)&&(2==Number(e.selectedYmqOption.zoom)?(a=!0,o=!1):3==Number(e.selectedYmqOption.zoom)?(a=!1,o=!1):4==Number(e.selectedYmqOption.zoom)?(a=!1,o=!0):5==Number(e.selectedYmqOption.zoom)&&(a=!0,o=!0),""!=e.selectedYmqOption.width&&(r+=`width:${e.selectedYmqOption.width}px;`,s=Number(e.selectedYmqOption.width),c=`style="width: ${Number(e.selectedYmqOption.width)+30}px;"`),""!=e.selectedYmqOption.height&&(r+=`height:${e.selectedYmqOption.height}px;`),""!=e.selectedYmqOption.b_radius&&(r+=`border-radius: ${e.selectedYmqOption.b_radius}px;`)),s<200&&(s=200);var l=!1;for(var d in 1==Number(e.config.util.getValue(e.config.ymq_option_branding.extra,"show-canvas-text",0))&&(l=!0),this.optionHtml=`\n                    <div class="spotlight-group ${l?"spotlight-group-with-text":""}">\n                `,i){var p=i[d],m="",u="",h="",f=e.hasHref(p);0==Number(p.hasstock)?(m=`data-title="${e.config.ymq_option_branding.lan.sold_out}"`,u="ymq_disabled_class ymq_sold_out",h="disabled"):n.hasOwnProperty(p.id)&&(m=`data-title="${n[p.id].disabled_text}"`,u="ymq_disabled_class ymq_condition_disabled");var y=p.value;if(e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-item ${e.selectedQtyInputFlexClass} ymq-qty-input-item-${e.selectedYmqOption.id} ${e.config.attrib_item_prefix}${p.id}" id="ymq-qty-input-item-${p.id}" data-id="${p.id}">`),2==p.canvas_type)o&&(y=`<img class='ymq_tooltip_switch_img' src='${e.config.util.getShopifySmallImg(p.canvas2)}'><br>${p.value}`),this.optionHtml+=`\n                        ${e.creatHref(f,p)}\n                        ${l?"<"+e.creatLabel(f)+c+' class="ymq-canvas-box '+e.config.attrib_item_prefix+p.id+'" '+e.creatFor(f,p)+">":""}\n                        <input ${h} ${m} class="ymq-options-img-input ${u} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${p.id}" data-id="${p.id}" data-one_time="${p.one_time}" data-price="0" value="${p.value}" type="${t}" name="${e.creatName()}" id="tool-${p.id}" ${1==Number(p.default)?"checked":""}>\n                        <label ${m} data-show="${y}" style="${r}background: url(${e.config.util.getShopifySmallImg(p.canvas2)}) center top / cover;" class="ymq-options-img-label ymq-dicopy ${e.config.attrib_item_prefix}${p.id}" data-addclass="ymq_tooltip_switch_img_box" ${e.creatFor(f,p)}>\n                        `,a&&(this.optionHtml+=`\n                        <div class="spotlight" data-src="${p.canvas2}" data-description="${p.value}"></div>\n                        `),e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")&&(this.optionHtml+=`<img class="ymq-selected-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")}" alt="">`),e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")&&(this.optionHtml+=`<img class="ymq-disabled-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")}" alt="">`),this.optionHtml+=`\n                        </label>\n                        ${l?'<span class="ymq-canvas-text">'+p.value+"</span></"+e.creatLabel(f)+">":""}\n                    `,this.optionHtml+=e.creatHref(f,p,1);else{var _=`#${p.canvas1}`;1==Number(e.config.util.getValue(p,"automic_bgcolor",0))&&(_=p.canvas1),this.optionHtml+=`\n                        ${e.creatHref(f,p)}\n                        ${l?"<"+e.creatLabel(f)+c+' class="ymq-canvas-box '+e.config.attrib_item_prefix+p.id+'" '+e.creatFor(f,p)+">":""}\n                        <input ${h} ${m} class="ymq-options-img-input ${u} ${e.isShopify?"ymq-shopify-option":""} ${e.config.attrib_prefix}${e.selectedYmqOption.id}" id="${e.config.attrib_prefix}${p.id}" data-id="${p.id}" data-one_time="${p.one_time}" data-price="0" value="${p.value}" type="${t}" name="${e.creatName()}" id="tool-${p.id}" ${1==Number(p.default)?"checked":""}>\n                        <label ${m} data-show="${y}" style="${r}background-color: ${_};" class="ymq-options-img-label ymq-dicopy ${e.config.attrib_item_prefix}${p.id}" ${e.creatFor(f,p)}>\n                        \n                    `,e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")&&(this.optionHtml+=`<img class="ymq-selected-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-selected-upper-url","")}" alt="">`),e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")&&(this.optionHtml+=`<img class="ymq-disabled-img-up-img ymq-img-up-img" src="${e.config.util.getValue(e.config.ymq_option_branding.img,"--img-disabled-upper-url","")}" alt="">`),this.optionHtml+=`\n                        </label>\n                       ${l?'<span class="ymq-canvas-text">'+p.value+"</span></"+e.creatLabel(f)+">":""}\n        \n                    `,this.optionHtml+=e.creatHref(f,p,1)}e.selectedQtyInput&&(e.optionHtml+=`<div class="ymq-qty-input-wrappe-div ymq-qty-input-wrappe-div-${e.selectedYmqOption.id}" id="ymq-qty-input-wrappe-div-${p.id}" data-id="${p.id}">${e.config.qty_input_text}<span class="ymq-qty-input-trigger-div ymq-qty-input-trigger-div-${e.selectedYmqOption.id}"><span data-clazz=".ymq-qty-input-${p.id}" data-num="-1" class="ymq-qty-input-trigger ymq-qty-input-trigger-cut">-</span><input value="1" min="1" class="ymq-qty-input ymq-qty-input-${e.selectedYmqOption.id} ymq-qty-input-${p.id}" id="ymq-qty-input-${p.id}" data-id="${p.id}" type="number"><span data-clazz=".ymq-qty-input-${p.id}" data-num="1" class="ymq-qty-input-trigger ymq-qty-input-trigger-add">+</span></span></div></div>`)}return this.optionHtml+="\n                </div>\n            ",e}creatDate(){var t=this;return t.optionHtml=`\n                    \n                    <input class="ymq-input-text ${t.config.attrib_prefix}${t.selectedYmqOption.id}" data-price="0" readonly type="text" name="${t.creatName()}" id="${t.config.attrib_prefix}${t.selectedYmqOption.id}">\n            `,t}creatMultipleName(t){return t}creatName(t=null,e=!1){var i=this,n=i.config.properties;return e&&(n="properties"),t?i.creatMultipleName(`${n}[${t}]`):i.isShopify?"ymq-option"+(i.selectedYmqOption.optionsIndex- -1):-1!=bestJq.inArray(i.selectedYmqOption.label,i.needAddLabel)?i.creatMultipleName(`${n}[${i.selectedYmqOption.label}-${i.selectedYmqOption.id.toString().split("tem").join("-")}]`):i.creatMultipleName(`${n}[${i.selectedYmqOption.label}]`)}YmqGetDay(t=0){t=Number(t);var e=new Date;return e.setDate(e.getDate()+t),e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}initData(){var t=this,e={};e={theme:t.config.ymq_jedateblue,isToday:!1,onClose:!1,trigger:"click",language:t.config.ymq_enLang,format:t.selectedYmqOption.date_format,donefun:function(t){bestJq(t.elem).change()}},10==Number(t.selectedYmqOption.type)&&(e.range=" ~ ",e.multiPane=!1);var i="",n="";1==Number(t.selectedYmqOption.date_minDateType)?i=(new Date).Format("yyyy-MM-dd")+" ":2==Number(t.selectedYmqOption.date_minDateType)?""!=t.selectedYmqOption.min_date&&(i=t.selectedYmqOption.min_date+" "):3==Number(t.selectedYmqOption.date_minDateType)&&(i=t.YmqGetDay(t.config.util.getValue(t.selectedYmqOption,"min_days",1))),1==Number(t.selectedYmqOption.date_maxDateType)?n=(new Date).Format("yyyy-MM-dd")+" ":2==Number(t.selectedYmqOption.date_maxDateType)?""!=t.selectedYmqOption.max_date&&(n=t.selectedYmqOption.max_date+" "):3==Number(t.selectedYmqOption.date_maxDateType)&&(n=t.YmqGetDay(t.config.util.getValue(t.selectedYmqOption,"max_days",1))),i+t.selectedYmqOption.min_time!=""&&(e.minDate=i+t.selectedYmqOption.min_time),n+t.selectedYmqOption.max_time!=""&&(e.maxDate=n+t.selectedYmqOption.max_time);var a="";t.selectedYmqOption.day_limit.length>0&&(a="%"+t.selectedYmqOption.day_limit.join(",%"));var o="";return t.selectedYmqOption.weekly_limit.length>0&&(o="ymq"+(o=t.selectedYmqOption.weekly_limit.join("-"))),a+o!=""&&(e.valiDate=[a+o,!1]),window.best_option.jeDate("#"+t.config.attrib_prefix+t.selectedYmqOption.id,e),this}initDropdown(t=null){var e=this;return t||(t=bestJq("#"+e.config.attrib_prefix+e.selectedYmqOption.id)),t.dropdown({variantChange:function(t){t.hasClass("ymq-shopify-option")}}),e}initColpick(){var t=this;return bestJq("#"+t.config.attrib_prefix+t.selectedYmqOption.id).colpick({submit:0,onChange:function(t,e,i,n,a){bestJq(n).next().css("background","#"+e),bestJq(n).val("#"+e),bestJq(n).trigger("keyup")}}),t}initFile(){return this}setJson(t={},e={}){var i=this;return i.json=t,i.conditionJson=e,i}static getInstance(e){return this.instance||(this.instance=new t(e)),this.instance}},Product=class t{constructor(){var t=this;t.initConfig(),t.instance=null,t.variant=Variant.getInstance(),t.htmlBuilder=Html.getInstance(),t.validate=Validate.getInstance(),t.upload=Upload.getInstance(),t.init()}initMemberVariables(){var t=this;t.variantJson={},t.scriptArr=[],t.quantityDomInited=!1,t.conditionArr=[],t.formData={},t.selectedValue={},t.ymq_condition={},t.ymq_total_price=0,t.ymq_total_price_single=0,t.ymq_option_price=0,t.ymq_option_price_single=0,t.quantityback=0,t.ogFormData=new FormData,t.needchange=!0,t.paymentButtonDom=""}init(){this.initMemberVariables(),this.doHook("before_init_product").buildStyle().buildUploadModalDom().isShowBuyItNow().hideShopifyDomAndRegisterAddCartEvent().disabledJqEvent().getShopifySelectDom().buildShopifyDom().buildYmqDom().buildHiddenInputForDwanTheme().qtyInputIsDisabled().isRadioCanBeUnchecked().textAreaAutoHeight().triggerThemeOptions().buildQuantityDom().buildVariantConditionName().hidePaymentButton().doCancelAjaxCart().buildShowAddTotalPriceInfoDom().buildAddToCartDom().disabledSubmit().registerDeleteFileViewEvent().registerInputChangeEvent().buildFormData()}doHook(t){return this.config.ymqHook(t),this}qtyInputIsDisabled(){return bestJq(".ymq-options-qty-box .ymq-qty-input").attr("disabled",!0),bestJq(".ymq-options-qty-box select option:selected:not(:disabled),input[type=radio]:checked:not(:disabled),input[type=checkbox]:checked:not(:disabled)").each((function(){var t=bestJq(this).data("id");t&&bestJq(`.ymq-qty-input-${t}`).attr("disabled",!1)})),this}isShowBuyItNow(){var t=this;return t.config.hideByNow=!1,t.config.cancelAjaxCart=!1,0==Number(t.config.form_box_dom.find("[name='id']"))||0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"bunow","1"))?(t.config.hideByNow=!0,t.config.cancelAjaxCart=!0,t):(t.config.hideByNow=window.best_option.hideByNow,t.config.cancelAjaxCart=window.best_option.cancelAjaxCart,window.best_option.buy_now_new&&(0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"open-theme-buy-now","0"))&&(t.config.hideByNow=!0),0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"open-theme-ajax-cart","0"))&&(t.config.cancelAjaxCart=!0)),t)}registerDeleteFileViewEvent(){var t=this;return bestJq(document).on("click",".ymq_upload_file_item_del",(function(){var e=bestJq(this),i=e.data("name"),n=e.data("num");t.upload.fileData.hasOwnProperty(i)&&t.upload.fileData[i].hasOwnProperty(n)&&delete t.upload.fileData[i][n],e.parents(".ymq-options-box").find('input[type="file"]').change().parents(".ymq_upload_new").removeClass("ymq_disabled"),e.parents(".ymq_upload_file_item").fadeOut().remove()})),t}buildUploadModalDom(){return this}de(t,e,i,n,a){if(t){var o={};if(ymq.$&&(o=ymq.$._data(t))&&o.events&&o.events[e])for(var s=0;s<o.events[e].length;s+=1)o.events[e][s].namespace!=n&&""!=n||(o.events[e][s].handler=function(){});if((o=bestJq._data(t))&&o.events&&o.events[e])for(s=0;s<o.events[e].length;s+=1)o.events[e][s].namespace!=n&&""!=n||(o.events[e][s].handler=function(){})}}disabledJqEvent(){var t=this;return t.intervalResult(1e4,100,(function(){return window.$&&$.fn&&$.fn.jquery?ymq.$=$:window.jQuery&&jQuery.fn&&jQuery.fn.jquery&&(ymq.$=jQuery),ymq.$?(t.buildQuantityDom(),t.doAddCart(),!0):"complete"==document.readyState})),t}intervalResult(t,e,i,n){"function"==typeof t?(n=e,i=t,e=1e3,t=20):"function"==typeof e&&(n=i,i=e,e=1e3),"function"!=typeof i&&(i=function(){return!1});var a=0,o=setInterval((function(){++a>t||i(a)?clearInterval(o):"function"==typeof n&&n()}),e)}doCancelAjaxCart(){var t=this;return t.config.cancelAjaxCart||(bestJq(document).on("click","body",(function(e){t.I.each((function(){if(bestJq(this).length>0&&e.pageX>=bestJq(this).offset().left&&e.pageX<=bestJq(this).offset().left+bestJq(this).outerWidth()&&e.pageY>=bestJq(this).offset().top&&e.pageY<=bestJq(this).offset().top+bestJq(this).outerHeight())return t.controllerPaymentButton(!0,!0),!1}))})),t.controllerPaymentButton()),t}doAddCart(){var t=this;try{if(window.imageUploader&&window.imageUploader.hasOwnProperty("settings")&&(t.config.ymq_option_branding.extra["other-form-data"]=1,0==window.imageUploader.validate()))return window.imageUploader.alertErrorMsg(),!1}catch(t){}try{if("function"==typeof ymqBeforeAddcartValidate&&!ymqBeforeAddcartValidate())return!1}catch(t){}var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"cart-ajax","0");if(1==Number(e))return!1;if(!t.config.cancelAjaxCart)return!1;var i=t.config.form_box_dom;t.I.each((function(e,i){t.de(i,"click","namespace","","disable")})),t.I.on("click.ymq",(function(e){if(t.config.ymqHook("doAddCart_before_validate"),t.buildFormData().buildOtherFormData(),t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;t.config.ymqHook("doAddCart_after_validate"),t.buildFormData().buildOtherFormData();var n=bestJq(this);if(t.startLoading(n),i.attr("action"))var a=i.attr("action").match(/\/(\w{2})\/cart\/add/);else a="".match(/\/(\w{2})\/cart\/add/);t.config.ymqHook("doAddCart_before_getAjaxData"),t.getAjaxDataByFormData(),t.ogFormData.set("quantity",t.getQuantity()),t.ogFormData.set("id",t.variant.variant_id);try{var o=bestJq('[data-bsub-selling-plan-input]:checked, [name="selling_plan"]:first');t.config.selling_plan_id="",0===o.closest("#shopify-section-carousel-related-products").length&&o.length>0?t.config.selling_plan_id=o.val():bestJq('[name="selling_plan"]:checked').length>0&&(t.config.selling_plan_id=bestJq('[name="selling_plan"]:checked').val()),t.config.selling_plan_id&&t.ogFormData.set("selling_plan",t.config.selling_plan_id)}catch(e){}if(t.config.ymqHook("doAddCart_after_getAjaxData"),window.fbq){var s=0;if(t.config.variantData.hasOwnProperty(t.variant.variant_id)){var r=t.config.variantData[t.variant.variant_id],c=(s=r.price,{content_type:"product_group",content_ids:[t.config.product.id],currency:Shopify.currency.active,value:s/100+t.ymq_total_price,num_items:t.getQuantity(),content_name:r.title,content_category:t.config.product.type});"tecnologias-mjm.myshopify.com"==Shopify.shop?fbq("track","AddToCart",c,{event_id:t.ymqUUID()}):fbq("track","AddToCart",c)}}bestJq.ajax({type:"POST",url:"/cart/add",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,data:t.ogFormData}).done((function(e){t.config.ymqHook("doAddCart_success"),setTimeout((function(){t.endLoading(n)}),5e3);var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-cart-url","");""==i?window.location.href=a?"/"+a[1]+"/cart":"/cart":0==i?location.reload():window.location.href=a?"/"+a[1]+`/${i}`:`/${i}`})).fail((function(e){if(t.config.ymqHook("doAddCart_error"),setTimeout((function(){t.endLoading(n)}),5e3),console.log(e),t.config.variantData.hasOwnProperty(t.variant.variant_id)){var i=t.config.variantData[t.variant.variant_id].name,a=t.config.util.getValue(t.config.ymq_option_branding.lan,"inventory_reminder","The product %s is already sold out.");alert(a.replace("%s",i))}})),e.stopImmediatePropagation(),e.preventDefault()}))}ymqUUID(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")}hideShopifyDomAndRegisterAddCartEvent(){var t=this,e=t.config.form_box_dom,i=t.config.shop,n=Shopify.theme.name?Shopify.theme.name.toLowerCase():"",a=null,o=t.config.product;["slimedotnet.myshopify.com","ridesharegear.myshopify.com","shoretees-ca.myshopify.com","winspear-picks.myshopify.com","sallureofficial.myshopify.com","the-million-roses-romania.myshopify.com","eventtechrentals.myshopify.com","hocwoman.myshopify.com","wigirlhair.myshopify.com","petshopmalta.myshopify.com","the2tails-mermaid-tails.myshopify.com","gwyllem.myshopify.com","kirudansk.myshopify.com","us-jewels-gems.myshopify.com","neweditionshop.myshopify.com","olemasonjar.myshopify.com","ronniemac69.myshopify.com","3bdshop0004.myshopify.com","teddy-winthrop.myshopify.com"].indexOf(i);if(0==bestJq("#ymq-box").length)for(var s=bestJq('\x3c!-- ymq custom product options by YMQ --\x3e\x3c!-- https://apps.shopify.com/ymq-options --\x3e<div id="ymq-box" class="ymq-box"></div>'),r=(e.find('[name="id"]'),bestJq('<select id="test1111" name="id" style="display: none;"></select>')),c=0;c<o.variants.length;c+=1)r.append('<option value="'+o.variants[c].id+'"></option>');else s=bestJq("#ymq-box");var l,d=[".productForm-block--options-inline .selector-wrapper",".swatches__container","#variations-content-product-template > .selector-wrapper",".product__variants__wrap",'.variations [class^="nt_select_pr_"]',".product__selectors .selector-wrapper, .selector-wrapper-secton .selector-wrapper",".ProductForm__Option","> .product-options.no-options > .product-type","div.select:not(.shopify-select)",".inline-field-wrapper","> .row > .col-sm-12.col-xs-12",".row .col-md-6.col-sm-12",".product-details-wrapper .product-options","> .product-options .swatches","> .product-options",".radio-wrapper",".product-single__variant","table.variations",".selection-wrapper.variant .selector-wrapper",".selection-wrapper.variant",".details_wrapper .color_product__options, .details_wrapper .size_product__options, .details_wrapper .single_product__options",".product-options--mobile, .product-options--desktop",".product-options",".select-container",".product-single__swatch",".lh-swatch-images, .lh-swatch-simple",".selector-wrapper:not(.full-width):not(.quantity-product-template)",".gf_swatches-selector",".product-form__option",".product-form__item:not(.product-form__item--quantity):not(.product-form__item--submit):not(.product-form__quantity-selector)",".variant-wrapper, > .swatches","[data-product-options-contariner]",".form__control","div.option",".form__control","#product-variants",".option-selectors",".variant-group",".form-field-swatch",'[class*="medium-item-grid"] .item, [class*="small-item-grid"] .item',".col-md-6.col-sm-12.col-xs-12:not(.selector-wrapper)",".product-options .swatches",".swatches-container",".tt-swatches-container .tt-wrapper",".tt-swatches-container",".variant-option",".option-header, .option-values",".product-option-list",'div[class="input-row"]',".product-form__controls-group .pf-container",".product-form__item",".variations","div[data-product-options-container]","[data-product-options-container]",".gf_variants-wrapper",".product-form__variants",'[data-label="(P) Variants"]','[data-label="(P) Swatches"]','[data-pf-type="ProductVariant"]',"> .js-product-options",".form__input-wrapper--select",".prd-block_options",".materialize-select",".c-cartform__label",".product-page--variants",".variants",".so-product-variants-wrap",".gt_product-swatches",".product-form--variants .radios--root, .product-form--variants .disclosure--root",".product-details__options .product-details__option-wrapper",".product-form-option",".so-custom-field-wrap",".sh-product-options",".product-page-info__variants"],p=t.config.util.getValue(t.config.ymq_option_branding.extra,"theme-variant-class",""),m=t.config.util.getValue(t.config.ymq_option_branding.extra,"theme-variant-class-no","");if(window.best_option.ymq_has_only_default_variant&&""!=m&&(p=m),""!=p&&d.unshift(p),t.config.replace&&(l=bestJq(t.config.replace)),!l||!l.length)for(c=0;c<d.length;c+=1)if(0<(l=e.find(d[c])).length){".product-options--mobile, .product-options--desktop"===d[c]&&(l=l.add(e.find(".selector-wrapper:not(.full-width):not(.quantity-product-template)")));break}".product-form-wrapper .selector-wrapper"===d[c]&&setTimeout((function(){bestJq(".product-form-options-wrapper").removeClass("large--hide")}),1e4);var u=":not(.scr-open-size-chart):not([data-quantity-action]):not(.js-qty-button):not(.uploadkit-button):not(.accordion__header):not(.quantity--input__button):not(.btn-num-product-down):not(.btn-num-product-up)";if("loft"===n&&0<e.find('[name="add"], .add-to-cart-btn').length?a=e.find('[name="add"], .add-to-cart-btn'):0<e.find("input#pre-order[type=submit]").length?a=e.find("input#pre-order[type=submit]").first():0<e.find("button[name=add]:not(.dummy_button_for)").length?a=e.find("button[name=add]:not(.dummy_button_for)"):0<e.find("input.add_to_cart, button.add_to_cart").length?a=e.find("input.add_to_cart, button.add_to_cart").first():0<e.find("button.add-to-cart, button.ProductForm__AddToCart").length?a=e.find("button.add-to-cart, button.ProductForm__AddToCart").first():0<e.find(".addToCart").length?a=e.find(".addToCart").first():0<e.find('button[type="submit"]'+u+", input[type=submit]").length?a=e.find('button[type="submit"]'+u+", input[type=submit]"):0<e.find("button"+u).length?a=e.find("button"+u).first():0<e.find(".btn-addtocart").length?a=e.find(".btn-addtocart").first():0<e.find(".shg-btn, .paira-add-to-cart").length&&(a=e.find(".shg-btn, .paira-add-to-cart").first()),a){if(o&&("pf-atc-button"===a.attr("id")||a.is('[data-pf-type="ProductATC"]')))(s=bestJq("<button></button>")).html(a.html()),s.attr("class",a.attr("class")),a.replaceWith(s),a=s;setTimeout((function(){a.removeClass("disabled");try{a.attr("type","submit")}catch(t){}}),20)}if("optimizeinstagram.myshopify.com"===i?l=e.find(d[6]):"marei1998.myshopify.com"===i&&(l=e.find(".product-options label[for], .product-options label[for] + .select-wrapper")),a&&a.hasClass&&a.hasClass("shg-btn")){var h=bestJq('<button type="submit" style="border: 0;" class="shg-btn" id="'+a.get(0).id+'">ADD TO CART</button>');a.replaceWith(h),(a=h).click((function(t){e.submit()}))}if(0<l.length){t.config.replace=d[c],l.parent().removeClass("d-none").removeClass("hide-for-all");var f=l.first().find('select, input[type="radio"], input[type="checkbox"]').first();f.length&&bestJq._data(f.get(0),"events");".row .col-md-6.col-sm-12"!==d[c]&&".col-md-6.col-sm-12.col-xs-12:not(.selector-wrapper)"!==d[c]||s.find(".selector-wrapper").css({paddingLeft:15}),t.config.variantOriginal?l.last().css("marginBottom",Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-original-margin-bottom",0))).after(s):l.first().before(s),s.parent().hide(),s.parent().show(),s.parent().removeClass("hide"),s.parent().parent().hide(),s.parent().parent().show(),s.parent().removeClass("hidden"),".gf_variants-wrapper"===d[c]&&bestJq(d[c]+":first").closest('[data-label="(P) Variants"]').attr("id",""),s.last().after(e.find(".size-chart-link, .size-chart-container")),t.config.variantOriginal||l.each((function(t,e){0===bestJq(e).find('input[name="quantity"]:not(.product-single__swatch__input), input[type="text"]:not(.select-dropdown):not([disabled="disabled"]), input[type="number"], input[type="submit"], button:not([aria-controls="modal-bohobi-size-chart"]):not(.custom-style-select-box)').filter(':not(.ProductForm__Item):not(.Popover__Value):not(.Popover__Close):not([data-activates]):not(.product-option-quantity):not([id^="SingleOptionSelector-"]):not([aria-controls="modal-size-chart"])').length&&bestJq(e).hide()}))}else t.config.replace="no valid option found",e.prepend(s);var y=t.config.util.getValue(t.config.ymq_option_branding.extra,"hide-shopify-option","");""!=y&&bestJq(y).hide();var _=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-hide","");""!=_&&bestJq(_).hide();var b=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-show","");""!=b&&bestJq(b).show();var g=e.find(".product-form-grid.product-form-grid-select");g.length&&(g.first().after(g.find(".product-quantity-label, .product-quantity-input")),e.find(".swatch, .product-form-grid.product-form-grid-select, .fake-choice, .product-variants-radio-btns").hide(),bestJq(".product-single__meta > [itemscope] > .product-variants-item").hide());var q=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-add-to-cart","");if(""!=q)var v=`${q},.shopify-payment-button__button [role="button"], .shopify-payment-button__button [role="button"] span, .sticky_atc_js`;else v='.shopify-payment-button__button [role="button"], .shopify-payment-button__button [role="button"] span, .sticky_atc_js';var w=bestJq('form[action*="/cart/add"]'),x=(w=w.not('.ssw-product-form, #add-item-qv, [id^="product-actions"], .product-form--mini, .ca-form')).find('[name="add"], .add-to-cart-btn,#addToCart');return x=x.add(a).add(v),t.I=x,t.listenAddToCartButtonIsReload(),t.doAddCart(),t}listenAddToCartButtonIsReload(){var t=this;if(!window.bestAdmin&&t.config.cancelAjaxCart&&1==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"add-button-reload",0)))try{var e=t.config.listen_add_to_cart_v;t.config.add_dom_len=t.I.length,t.I.each((function(){bestJq(this).attr("ymq-add-to-cart-tags","ymq")})),t.intervalResult(1e6,100,(function(){return e!=t.config.listen_add_to_cart_v||(bestJq("[ymq-add-to-cart-tags=ymq]").length!=t.config.add_dom_len&&(t.config.listen_add_to_cart_v++,t.hideShopifyDomAndRegisterAddCartEvent()),!1)}))}catch(t){}return t}startLoading(t){t.addClass("ymq-btn-progress")}endLoading(t){t.removeClass("ymq-btn-progress")}controllerPaymentButton(t=!0,e=!1){var i=this;1==t&&i.buildFormData(),1==e?(i.validate.validateAll(i.formData,!0),0!=i.validate.validateCount?(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","none"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","none"),i.I.css("pointerEvents","none")):(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","auto"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","auto"),i.I.css("pointerEvents","auto"))):i.validate.validateAllWithOutPrompt(i.formData)?(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","none"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","none"),i.I.css("pointerEvents","none")):(bestJq(i.config.form_box).find(i.paymentButtonDom).css("pointerEvents","auto"),i.config.form_box_dom.find(i.paymentButtonDom).css("pointerEvents","auto"),i.I.css("pointerEvents","auto"))}hidePaymentButton(){var t=this;0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"qty-input-trigger",0))&&(i+="\n                    .ymq-qty-input-trigger{\n                        display: none!important;\n                    }\n                ");var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"payment-button-hide","");if(!t.config.hideByNow)return t.paymentButtonDom='#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]',""!=e&&bestJq(t.config.form_box).find(e).length>0&&(t.paymentButtonDom=e),bestJq(document).on("click","body",(function(e){bestJq(t.config.form_box).find(t.paymentButtonDom).each((function(){if(bestJq(this).length>0&&e.pageX>=bestJq(this).offset().left&&e.pageX<=bestJq(this).offset().left+bestJq(this).outerWidth()&&e.pageY>=bestJq(this).offset().top&&e.pageY<=bestJq(this).offset().top+bestJq(this).outerHeight())return t.controllerPaymentButton(!0,!0),!1}))})),t.controllerPaymentButton(),t;var i="";return""!=e&&(i+=`\n                    ${e}{\n                        display: none!important;\n                    }\n                `,bestJq(e).hide()),i+='\n                #dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons,[data-shopify="payment-button"]{\n                    display: none!important;\n                }\n            ',bestJq("#dynamic-checkout-cart, .shopify-cleanslate, .additional-checkout-buttons").hide(),bestJq('[data-shopify="payment-button"]').hide().remove(),bestJq(t.config.styleDomId).append(i),t}buildVariantConditionName(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-condition-label-class",""),i=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-condition-value-parent-class","");return t.config.variantOriginal&&""!=e&&""!=i&&bestJq(e).length>0&&bestJq(i).length>0&&bestJq(e).each((function(){bestJq(this).parents(i).attr("name",`option-box-ymq-variant-${t.config.util.htmlSpecialChars(bestJq(this).text()).trim()}`)})),e=".ymq-options-box .ymq-option-title .ymq_lable",i=".ymq-options-box",bestJq(e).each((function(){bestJq(this).parents(i).attr("name",`option-box-ymq-variant-${t.config.util.htmlSpecialChars(bestJq(this).text()).trim()}`)})),this}buildStyle(){var t=this,e=":root{";t.config.ymq_option_branding.hasOwnProperty("original-select")||(e+="\n                    --no-strong-padding-t: 6;\n                    --no-strong-padding-r: 22;\n                    --no-strong-padding-b: 6;\n                    --no-strong-padding-l: 8;\n                    --no-strong-border: 1;\n                    --no-strong-border-color: #a0a0a0;\n                    --no-strong-border-radius: 4;\n                    --no-strong-min-height: 36;\n                    --no-strong-color: #000;\n                    --no-strong-background: #fff;\n                    --no-strong-line-height: 1.2;\n                    --no-strong-max-width: 400;\n                    --no-strong-border-color-focus: #a0a0a0;\n                    --no-strong-color-focus: #000;\n                    --no-strong-background-focus: #fff;\n                "),t.config.ymq_option_branding.hasOwnProperty("qty")||(e+="\n                    --qty-border-color: #000000;\n                    --qty-border-radius: 0;\n                    --qty-disabled-background-color: #CCCCCC;\n                    --qty-font-color: #000000;\n                    --qty-font-size: 14;\n                    --qty-height: 22;\n                    --qty-width: 44;\n                    --qty-margin-l-r: 2;\n                    --qty-margin-t-b: 2;\n                    --qty-max-width: 400;\n                "),Object.keys(t.config.ymq_option_branding).forEach((function(i){"lan"!=i&&"extra"!=i&&Object.keys(t.config.ymq_option_branding[i]).forEach((function(n){e+=`\n                        ${n}: ${t.config.ymq_option_branding[i][n]};\n                    `}))})),e+="}";var i=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");(i=i.split(",")).push(18,19);var n=[];i.forEach((function(t){n.push(`.ymq-options-box-${t} .ymq_option_text_span`)})),e+=`\n                ${n.join(",")}{\n                    display: none;\n                }\n            `,e+=t.config.util.getValue(t.config.ymq_option_branding.extra,"extra-style-code",""),bestJq(t.config.styleDomId).html(e);var a=`<style type="text/css">${t.config.util.getValue(t.config.ymq_option_branding.extra,"customecss","")}</style>`;return bestJq("body").append(a),t}buildShopifyDom(){var t=this;return t.config.variantOriginal||t.variant.buildVariantHtml().isSoldOut(),t}isRadioCanBeUnchecked(){var t=this;return 1==t.config.util.getValue(t.config.ymq_option_branding.extra,"radio-unchecked",0)&&bestJq('.ymq-options-box:not(.ymq-shopify-option-box) input[type="radio"]').on("click",(function(){var t=bestJq(this).attr("name");bestJq(this).attr("checked")?bestJq(this).attr("checked",!1).prop("checked",!1).trigger("change"):(bestJq(`.ymq-options-box input[type="radio"][name="${t}"]`).attr("checked",!1).prop("checked",!1),bestJq(this).attr("checked",!0).prop("checked",!0))})),t}buildYmqDom(){var t=this;return t.config.ymqHook("buildYmqDom_b"),t.htmlBuilder.setJson(t.config.ymq_option_data,t.config.ymq_option_condition).buildtHtml(),t.config.ymqHook("buildYmqDom_a"),t}buildHiddenInputForDwanTheme(){var t=this;try{var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-to-cart-form",""),i='form[id^="AddToCartForm-template"],form[id^="product-form-template"]';if(""!=(e=""!=e?`${e},${i}`:i)&&bestJq(e).length>0){var n=bestJq('<div class="add-to-cart-form-input-box"></div>');bestJq(e).append(n),bestJq(".ymq-options-box .ymq-hidden-input").each((function(){bestJq(".add-to-cart-form-input-box").append(bestJq(this).clone())}))}}catch(t){}return bestJq(".ymq-hidden-input:not(.ymq-hidden-file-input)").each((function(){bestJq(this).data("ymq-empty-name",bestJq(this).attr("name"))})),t}triggerThemeOptions(){var t=this;try{var e=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-option-dom","");e&&bestJq(document).on("change",".ymq-shopify-option",(function(){if(bestJq(this).hasClass("ymq-dropdown"))var i=bestJq(this).find("option:selected").attr("id");else i=bestJq(this).attr("id");var n=(i=i.split("-")).length,a=i[n-2],o=i[n-1];i=e.replace(/ymq1/g,a).replace(/ymq2/g,o);bestJq(i).length>0&&("OPTION"==bestJq(i).get(0).tagName&&(bestJq(i).prop("selected",!0).parent("select").trigger("change"),t.config.util.jstrigger(bestJq(i).parent("select")[0],"change")),bestJq(i).trigger("click"),bestJq(i)[0].click())}))}catch(t){console.log(t)}return t}textAreaAutoHeight(){return bestJq.fn.ymqAutoHeight=function(){function t(t){t.style.height="auto",t.scrollTop=0,t.style.height=t.scrollHeight+"px"}this.each((function(){t(this),bestJq(this).on("input",(function(){t(this)}))}))},bestJq(".ymq-options-box textarea").ymqAutoHeight(),this}disabledSubmit(){var t=this;return t.config.hideByNow,t}buildAddToCartDom(){var t=this;return t}getQuantity(){return parseInt(this.quantityDom.val())||1}reSetQtyByRadioValue(){var t=this.getQuantityGradeByRadioInput();null!=t&&this.setQuantity(t.quantity)}setQuantity(t){return isNaN(t)&&(t=1),t<1&&(t=1),this.quantityDom.val(t),this}setQuantityByQty(){var t=this;if(t.config.quantity_is_fix_type){var e=t.getQuantity();if(null!=(n=t.getQuantityGradeByRadioInput())){var i=n.quantity;e>i&&(bestJq(".ymq-quantity-radio:checked").parents(".ymq-quantity-radio-box").next(".ymq-quantity-radio-box").find(".ymq-quantity-radio").trigger("click"),t.reSetQtyByRadioValue()),e<i&&(bestJq(".ymq-quantity-radio:checked").parents(".ymq-quantity-radio-box").prev(".ymq-quantity-radio-box").find(".ymq-quantity-radio").trigger("click"),t.reSetQtyByRadioValue())}}else{var n,a=t.getQuantity();a=parseInt(a),isNaN(a)&&(a=1),!isNaN(t.config.min_quantity)&&a<t.config.min_quantity&&(a=t.config.min_quantity),!isNaN(t.config.max_quantity)&&a>t.config.max_quantity&&(a=t.config.max_quantity),t.setQuantity(a),null!=(n=t.getQuantityGradeByQtyInput())&&(0==bestJq(`.ymq-quantity-radio-${n.quantity}`).length?bestJq(".ymq-quantity-radio:checked").attr("checked",!1).prop("checked",!1):bestJq(`.ymq-quantity-radio-${n.quantity}`).attr("checked")&&bestJq(`.ymq-quantity-radio-${n.quantity}`).prop("checked")||(t.needchange=!1,bestJq(`.ymq-quantity-radio-${n.quantity}`).trigger("click")))}}setQuantityByRadio(){var t=this,e=t.getQuantityGradeByRadioInput();return null!=e?t.setQuantity(e.quantity):isNaN(t.config.min_quantity)?t.setQuantity(1):t.setQuantity(t.config.min_quantity),t}getShopifyJqDom(t){return ymq.$?ymq.$(t):bestJq(t)}buildQuantityDom(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"show-quantity",""),i="";if(""!=t.config.form_class_name&&(i=`,${t.config.form_class_name} [name="quantity"]`),""!=e&&bestJq(e).length>0)var n=t.getShopifyJqDom(`${e}${i}`);else(n=t.getShopifyJqDom(`${t.config.form_box} [name="quantity"]${i}`)).length>1&&(n=t.getShopifyJqDom(`${t.config.form_class_name} [name="quantity"]`));if(n.length>=1)t.quantityDom=n;else{if(!t.quantityDomInited){if(0==t.config.util.getValue(t.config.ymq_option_branding.extra,"quantity-box",1))var a=`\n                            <div id="${t.config.quantity_box}" style="display: none!important;">\n                                <input id="${t.config.quantity_input}" value="1" readonly type="hidden">\n                            </div>\n                        `;else a=`\n                            <div id="${t.config.quantity_box}">\n                                <div class="${t.config.quantity_change}" data-type="cut" id="${t.config.quantity_add}">-</div>\n                                <input id="${t.config.quantity_input}" name="quantity" value="1" type="text">\n                                <div class="${t.config.quantity_change}" data-type="add" id="${t.config.quantity_cut}">+</div>\n                            </div>\n                        `;bestJq("#ymq-box").append(a),t.quantityDomInited=!0}t.quantityDom=t.getShopifyJqDom(`#${t.config.quantity_input}`),t.config.quantity_is_fix_type&&t.config.quantity_has_value&&t.quantityDom.attr("readonly",!0).prop("readonly",!0)}return t.registerQuantityChangeEvent(),t.setQuantityByRadio(),t}buildShowAddTotalPriceInfoDom(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-price-in-product-page",""),i=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-compare-at-price-in-product-page","");if(!(""!=e&&bestJq(e).length>0||""!=i&&bestJq(i).length>0)){var n=`\n                    <div id="ymq-price-addons">\n                        ${t.config.ymq_option_branding.lan.add_price_text.replace("%s",'<span id="ymq-addons-price"></span>')}\n                    </div>\n                `;bestJq("#ymq-box").append(n)}return t}registerQuantityChangeEvent(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"quantity-change","");return bestJq(".ymq-quantity-change").each((function(e,i){t.de(i,"click","namespace","","disable")})),t.quantityDom.each((function(e,i){t.de(i,"change","namespace","ymq","disable")})),""!=e&&bestJq(e).each((function(e,i){t.de(i,"click","namespace","ymq","disable")})),bestJq(".ymq-quantity-change").on("click",(function(){var e=-1;"add"==bestJq(this).data("type")&&(e=1);var i=t.getQuantity();i=Number(i),i+=e,t.setQuantity(i),t.quantityDom.change()})),""!=e&&bestJq(e).on("click.ymq",(function(){t.quantityDom.change()})),t.quantityDom.on("change.ymq",(function(){console.log("qty change"),t.quantityChange()})),this}quantityChange(){this.setQuantityByQty(),this.buildFormData()}getQuantityGradeByQtyInput(){var t=this.getQuantity();return this.doGetQuantityGrade(t)}getQuantityGradeByRadioInput(){var t=bestJq(".ymq-quantity-radio:checked").val();return this.doGetQuantityGrade(parseInt(t))}doGetQuantityGrade(t){var e=this,i=null;if(e.config.hasQuantity&&e.config.quantity_has_value)if(e.config.quantity_is_fix_type)try{Object.keys(e.config.quantity.options).forEach((function(n){if(t==n)throw i=e.config.quantity.options[n],new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}else try{Object.keys(e.config.quantity.options).forEach((function(n){if(t>=n&&t<=e.config.quantity.options[n].quantity_max)throw i=e.config.quantity.options[n],new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}return i}getShopifySelectDom(){var t=this;t.config.form_box_dom.css("cssText","display:block !important;");var e=[],i=[],n=[],a=[];try{t.config.form_box_dom.find("select").each((function(){e=[],i=[],n=[];var a=bestJq(this);bestJq(this).find("option").each((function(){e.push(bestJq(this).html()),i.push(bestJq(this).val()),n.push(t.config.util.htmlSpecialChars(bestJq(this).val()))})),Object.keys(t.config.ymq_shopify_options).forEach((function(o,s){t.config.shopifySelectDom.hasOwnProperty(o)||JSON.stringify(t.config.ymq_shopify_options[o])!=JSON.stringify(e)&&JSON.stringify(t.config.ymq_shopify_options[o])!=JSON.stringify(i)&&JSON.stringify(t.config.ymq_shopify_options[o])!=JSON.stringify(n)||(t.config.shopifySelectDom[o]={},t.config.shopifySelectDom[o].jq=a,t.config.shopifySelectDom[o].type="select",a.attr("id")?t.config.shopifySelectDom[o].id=a.attr("id"):(t.config.shopifySelectDom[o].id=`ymq_shopify_select_id_${o}`,a.attr("id",`ymq_shopify_select_id_${o}`)))}))})),t.config.form_box_dom.find(":radio").each((function(){a.push(bestJq(this).attr("name"))})),(a=bestJq.unique(a)).forEach((function(e){i=[],n=[];var a=e.replace("'","\\'");bestJq(`input[name='${a}']`).each((function(){i.push(bestJq(this).val()),n.push(t.config.util.htmlSpecialChars(bestJq(this).val()))}));var o=bestJq(`input[name='${a}']`);Object.keys(t.config.ymq_shopify_options).forEach((function(a,s){t.config.shopifySelectDom.hasOwnProperty(a)||JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(i)&&JSON.stringify(t.config.ymq_shopify_options[a])!=JSON.stringify(n)||(t.config.shopifySelectDom[a]={},t.config.shopifySelectDom[a].jq=o,t.config.shopifySelectDom[a].type="radio",t.config.shopifySelectDom[a].name=e)}))}))}catch(t){console.log(t)}return t}registerInputChangeEvent(){var t=this;bestJq(document).on("keydown","input.ymq-input-text",(function(t){if(13==t.keyCode)return t.preventDefault(),!1})),bestJq(document).on("keyup","input.ymq-input-text",(function(t){if(13==t.keyCode)return t.preventDefault(),!1})),bestJq(document).on("keyup",".ymq-input-text",(function(t){bestJq(this).change()})),bestJq(t.config.form_box).find('input[type="text"],input[type="number"],textarea').on("keyup",(function(){var e=bestJq(this).parents(".ymq-options-box");t.buildFormData().validateOne(e),t.config.hideByNow&&t.config.cancelAjaxCart||t.controllerPaymentButton(!1)}));var e="input,select,textarea";return""!=t.config.form_class_name&&(e=`${t.config.form_class_name} input,${t.config.form_class_name} select,${t.config.form_class_name} textarea`),bestJq(document).on("change",e,(function(){var e=bestJq(this).parents(".ymq-options-box");bestJq(this).hasClass("ymq-shopify-option")&&(t.variant.isSoldOut(),t.variant.changeUriByVariantId()),e.hasClass("ymq-options-qty-box")&&!bestJq(this).hasClass("ymq-qty-input")&&("SELECT"==bestJq(this).get(0).tagName?(e.find(".ymq-qty-input").attr("disabled",!0),bestJq(this).find("option:selected:not(:disabled)").each((function(){var t=bestJq(this).data("id");t&&bestJq(`.ymq-qty-input-${t}`).attr("disabled",!1)}))):("radio"==bestJq(this).attr("type")&&e.find(".ymq-qty-input").attr("disabled",!0),bestJq(this).prop("checked")&&!bestJq(this).prop("disabled")?bestJq(`.ymq-qty-input-${bestJq(this).data("id")}`).attr("disabled",!1):bestJq(`.ymq-qty-input-${bestJq(this).data("id")}`).attr("disabled",!0))),bestJq(this).hasClass("ymq-qty-input")&&bestJq(this).val(t.config.util.getIntValue(bestJq(this).val())),t.buildFormData().validateOne(e),t.config.hideByNow&&t.config.cancelAjaxCart||t.controllerPaymentButton(!1)})),bestJq(document).on("change",".ymq-quantity-radio",(function(){t.needchange&&t.setQuantityByRadio().buildFormData(),t.needchange=!0})),bestJq(".ymq-qty-input-trigger").on("click",(function(){var t=bestJq(this).data("clazz");if(bestJq(t).prop("disabled")){var e=`#ymq-attrib-${bestJq(t).data("id")}`;bestJq(e).length>0&&bestJq(e).is("input")&&bestJq(e).trigger("click").change()}else{var i=Number(bestJq(this).data("num"));bestJq(t).val(Number(bestJq(t).val())+i).change()}})),t}validateOne(t){var e=this,i=t.data("name");return e.validate.validateOne(e.formData[i]),e}validateAll(t=!1){var e=this;return e.validate.validateAll(e.formData,t),e}registerBuyItNowEvent(){var t=this;return bestJq("body").on("click",`#${t.config.buy_id_now}`,(function(){if(t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;var e={};e.item_count=bestJq(`#${t.config.quantity_input}`).val(),e.items=[];var i={};i.variant_id=t.variant.variant_id,i.quantity=e.item_count,i.product_id=t.config.product.id,i.product_title=t.config.product.title,i.line_price=t.config.variantData[t.variant.variant_id].price*e.item_count,i.properties=t.getAjaxDataByFormData(!0),e.items.push(i),bestJq.ajax({type:"POST",url:"https://option.ymq.cool/api/checkout",data:{data:e,shop:t.config.shop,token:t.config.token,timestamp:t.config.timestamp,customer_id:t.config.customer_id},dataType:"json",success:function(t){window.location.href=t.data},error:function(t){}})})),t}getAjaxDataByFormData(t=!1){var e=this,i={};return e.ogFormData=new FormData,Object.keys(e.formData).forEach((function(n){if((0!=e.formData[n].value.length||e.formData[n].hasOwnProperty("isFile"))&&e.formData[n].addToCart){e.selectedValue=e.formData[n];var a=e.selectedValue.value.join(",");if(Number(0)>0&&(a+=` | ${e.config.doFormat(0,e.selectedValue.onetime)}`),t)i[n.substring(11,n.length-1)]=a;else if(e.formData[n].hasOwnProperty("isFile")){if(e.upload.fileData.hasOwnProperty(n)){var o=Object.keys(e.upload.fileData[n]).length;o>0&&Object.keys(e.upload.fileData[n]).forEach((function(t,i){e.ogFormData.set(1==o?n:e.reCreatName(n,i),e.upload.fileData[n][t].file,e.upload.fileData[n][t].name)}))}}else e.ogFormData.set(n,a),i[n]=a}})),i}reCreatName(t=null,e=0){return`properties[${t=t.substring(11,t.length-1)}_${e}]`}registerAddToCartEvent(){var t=this;return bestJq("body").on("click",`#${t.config.add_to_cart}`,(function(){if(t.validate.validateAll(t.formData,!0),0!=t.validate.validateCount)return!1;bestJq(this).addClass("ymq-btn-progress");var e=t.getAjaxDataByFormData();e.id=t.variant.variant_id,e.quantity=t.getQuantity(),bestJq.ajax({type:"POST",url:"/cart/add.js",data:e,dataType:"json",success:function(t){window.location.href="/cart"},error:function(t){bestJq(this).removeClass("ymq-btn-progress")}})})),t}getMultiple(t){return-1!=this.config.multipleTypeArray.indexOf(Number(t))}buildOtherFormData(){var t=this;if(0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"other-form-data",0)))return t;try{bestJq("[name^='properties']").length>0&&bestJq("[name^='properties']").each((function(){if(!bestJq(this).prop("disabled")){var e="",i=bestJq(this).attr("name"),n=bestJq(this).get(0).tagName.toLowerCase(),a=bestJq(this).attr("ymq-other-validate");if(bestJq(this).attr("ymq-other-name"))var o=bestJq(this).attr("ymq-other-name");else o=i.match(/\[(.+?)\]/g)[0].replace("[","").replace("]","");if(!t.formData.hasOwnProperty(i)){"select"==n?e="select":"textarea"==n?e="textarea":"input"==n&&(e=bestJq(this).attr("type")?bestJq(this).attr("type"):"text");var s=[];if("select"==e){var r=bestJq(this).val();r instanceof Array?s=r:s.push(bestJq(this).val())}else["textarea","text","hidden"].includes(e)?""!=bestJq(this).val()&&s.push(bestJq(this).val()):["checkbox","radio"].includes(e)&&bestJq(`[name='${i}']:not(:disabled):checked`).each((function(){s.push(bestJq(this).val())}));s=s.filter((t=>""!=t)),t.formData[i]={onetime:0,price:0,validate:a,value:s,nameStr:o,name:i,addToCart:!0,hasQty:!1,otherValidate:!0},"file"==e&&(t.formData[i]={isFile:!0,onetime:0,price:0,validate:a,value:[],nameStr:o,name:i,addToCart:!0,hasQty:!1,otherValidate:!0})}}}))}catch(t){}return t}getOptionValueWithQty(t,e,i){if(i&&""!=t)try{var n=this.config.util.getOptionValueQty(e);return`${t}${this.config.qty_split}${n}`}catch(e){return t}return t}getOptionPriceWithQty(t,e,i){if(i)try{var n=this.config.util.getOptionValueQty(e);return Number(t*n)}catch(e){return Number(t)}return Number(t)}buildFormData(){var t=this;if(t.config.variantOriginal){if(t.config.iddom.length>0&&0==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-id-from",0)))var e=t.config.iddom.val();else e=t.config.util.getUrlParam("variant");e&&(t.variant.variant_id=e,t.variant.changeVariantId())}t.config.ymqHook("buildFormData_b"),t.formData={},t.config.form_box_dom.find(".ymq-options-box").each((function(){var e=bestJq(this).data("name"),i=Number(bestJq(this).data("type")),n=bestJq(this).data("class"),a=Number(bestJq(this).data("onetime")),o=bestJq(this).hasClass("ymq-options-qty-box"),s=1==Number(bestJq(this).data("ymq-add-to-cart"));window.best_option.ymq_option_branding.extra.plan<2&&(a=0);var r={},c=bestJq(this).find(`.${n}`),l=bestJq(this).find(`.${n}:disabled`),d=bestJq(this).data("validate");if(18==i||19==i){var p=t.getQuantityGradeByQtyInput();if(null!=p){var m=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-rang","qtyRange"),u=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount","discount"),h=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type","discountType"),f=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type-percentage","percentage"),y=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-discount-type-fixed","fixed"),_=t.config.util.getValue(t.config.ymq_option_branding.lan,"max-quantity","999999"),b=`${m}: ${p.quantity} - ${999999==Number(p.quantity_max?p.quantity_max:p.quantity)?_:Number(p.quantity_max?p.quantity_max:p.quantity)} | ${u}: ${p.discount} | ${h}: ${1==Number(p.discount_type)?f:y}`;r={onetime:0,price:0,validate:"",value:[b]}}else if(!(19!=i||isNaN(t.config.min_quantity)&&isNaN(t.config.max_quantity))){var g=1,q=t.config.max_num;isNaN(t.config.min_quantity)||(g=t.config.min_quantity),isNaN(t.config.max_quantity)||(q=t.config.max_quantity);m=t.config.util.getValue(t.config.ymq_option_branding.lan,"qty-rang","qtyRange");r={onetime:0,price:0,validate:"",value:[b=`${m}: ( ${g} - ${q} ) `]}}}else if(1==c.length){if(!c.prop("disabled"))if(r.onetime=a,7==i||3==i||20==i||21==i){r.value=[];var v=0;bestJq(this).find("option").each((function(){bestJq(this).prop("selected")&&""!=bestJq(this).val()&&!bestJq(this).prop("disabled")&&(r.value.push(t.getOptionValueWithQty(bestJq(this).val(),bestJq(this),o)),bestJq(this).data("price")&&(v-=-t.getOptionPriceWithQty(bestJq(this).data("price"),bestJq(this),o)))})),r.price=v,r.validate=d}else if(!0,"radio"==c.attr("type")||"checkbox"==c.attr("type")){r.value=[];v=0;c.prop("checked")&&(r.value.push(t.getOptionValueWithQty(c.val(),c,o)),c.data("price")&&(v-=-t.getOptionPriceWithQty(c.data("price"),c,o))),r.price=v,r.validate=d}else if("file"==c.prop("type")){if(r.value=[],""!=t.config.util.getValue(t.config.ymq_option_branding.extra,"upload-num-prompt","")){var w=0;t.upload.fileData.hasOwnProperty(e)&&(w=Object.keys(t.upload.fileData[e]).length),r.value.push(`(${w} / ${c.data("file-num")})`)}r.price=0,0!=r.value.length&&(r.price=c.data("price")?Number(c.data("price")):0),r.isFile=!0,r.name=e,r.validate=d}else r.value=""==c.val()?[]:[c.val()],r.price=0,0!=r.value.length&&(r.price=c.data("price")?Number(c.data("price")):0),r.validate=d}else if(c.length!=l.length){r.onetime=a,r.value=[];v=0;c.each((function(){bestJq(this).prop("disabled")||bestJq(this).prop("checked")&&(r.value.push(t.getOptionValueWithQty(bestJq(this).val(),bestJq(this),o)),bestJq(this).data("price")&&(v-=-t.getOptionPriceWithQty(bestJq(this).data("price"),bestJq(this),o)))})),r.price=v,r.validate=d}if(!bestJq.isEmptyObject(r)){r.dom=c.eq(0),r.hasQty=o,r.addToCart=s,t.selectedValue=r;var x=t.selectedValue.value.join(",");if(Number(0)>0&&(x+=` | ${t.config.doFormat(0,a,!0)}`),Number(0)>0){var $=t.config.util.getValue(t.config.ymq_option_branding.extra,"title-value","1,2,9,10");$=$.split(","),(bestJq.inArray(i,$)>=0||bestJq.inArray(i.toString(),$)>=0)&&bestJq(this).find(".ymq_option_price_span").html(t.config.doFormat(0,a,!0))}else bestJq(this).find(".ymq_option_price_span").html("");bestJq(this).find(".ymq_option_text_span").html(x),bestJq(this).hasClass("ymq-shopify-option-box")||(t.formData[e]=r)}})),t.ymq_total_price=0,t.ymq_total_price_single=0,t.ymq_option_price=0,t.ymq_option_price_single=0;var i=t.getQuantity();return bestJq(".ymq-hidden-input:not(.ymq-hidden-file-input)").each((function(){bestJq(this).val("").attr("name",`empty-${bestJq(this).data("ymq-empty-name")}`)})),Object.keys(t.formData).forEach((function(e){try{if(bestJq(`[name="empty-${e}"]`).length>0&&!t.formData[e].isFile){var n="";t.formData[e].value.length>0&&t.formData[e].addToCart&&(n=t.formData[e].value.join(t.config.option_value_split),bestJq(`[name="empty-${e}"]`).val(n).attr("name",e))}}catch(t){}1==Number(t.formData[e].onetime)?(t.ymq_total_price=Number(t.ymq_total_price)+Number(t.formData[e].price),t.ymq_option_price_single=Number(t.ymq_option_price_single)+Number(t.formData[e].price)):(t.ymq_total_price=Number(t.ymq_total_price)+Number(t.formData[e].price)*i,t.ymq_option_price=Number(t.ymq_option_price)+Number(t.formData[e].price)),t.ymq_total_price_single=Number(t.ymq_total_price_single)+Number(t.formData[e].price)})),t.price(),t.buildQuantityDiscount(),t.config.ymqHook("buildFormData_a"),t}buildQuantityDiscount(){var t=this,e=t.config.variantData[t.variant.variant_id].price,i=t.config.util.getValue(t.config.ymq_option_branding.lan,"q-save","Save");return bestJq(".ymq-quantity-radio-box").each((function(){var n,a=0,o=2,s=1,r=0;if(bestJq(this).hasClass("ymq-quantity-show-box")){var c=t.getQuantityGradeByQtyInput();null!=c?(bestJq(this).show(),a=Number(c.discount),o=Number(c.discount_type),s=t.getQuantity(),bestJq(this).find(".ymq-quantity-buy-quantity").html(s),1==o?bestJq(this).find(".ymq-quantity-discount").html(`${i} ${a}%`):bestJq(this).find(".ymq-quantity-discount").html(`-${t.config.doFormat(a)}`)):bestJq(this).hide()}else a=Number(bestJq(this).find(".ymq-quantity-discount-price").data("discount")),o=Number(bestJq(this).find(".ymq-quantity-discount-price").data("discount_type")),s=Number(bestJq(this).find(".ymq-quantity-discount-price").data("quantity"));n=(Number(e)/100+Number(t.ymq_option_price))*s+Number(t.ymq_option_price_single),r=1==o?n*(1-a/100):n-a,bestJq(this).find(".ymq-quantity-discount-price").html(t.config.doFormat(r)),bestJq(this).find(".ymq-quantity-compared-price,.ymq-quantity-compared-price-no-discount").html(t.config.doFormat(n))})),t}price(){var t=this,e=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-price-in-product-page",""),i=t.config.util.getValue(t.config.ymq_option_branding.extra,"product-compare-at-price-in-product-page","");if(""!=e&&bestJq(e).length>0||""!=i&&bestJq(i).length>0){if(t.config.variantData.hasOwnProperty(t.variant.variant_id)){var n=t.config.variantData[t.variant.variant_id],a=n.price,o=n.compare_at_price;""!=e&&bestJq(e).length>0&&bestJq(e).html(t.config.doFormatWithoutRate((100*Number(t.ymq_total_price_single)*Shopify.currency.rate+Number(a))/100)),""!=i&&bestJq(i).length>0&&o&&bestJq(i).html(t.config.doFormatWithoutRate((100*Number(t.ymq_total_price_single)*Shopify.currency.rate+Number(o))/100))}}else 0==Number(t.ymq_total_price)?bestJq("#ymq-price-addons").slideUp(300,"swing"):bestJq("#ymq-price-addons").slideDown(300,"swing"),bestJq("#ymq-addons-price").html(t.config.doFormat(t.ymq_total_price,0,!0));return t}reset(t,e,i,n,a){var o=this;o.config.form_box_dom.html(""),o.config.ymq_variantjson=t,o.config.ymq_option_data=e,o.config.ymq_option_condition=i,o.config.ymq_option_template=n,o.config.ymq_option_template_condition=a,o.config.hasQuantity=!1,o.variant.init(),o.init()}initConfig(){var t=this;t.config=Config.getInstance("productInstance",t),t.config.shop=window.best_option.shop,t.config.token=window.best_option.token,t.config.timestamp=window.best_option.timestamp,t.config.customer_id=window.best_option.customer_id,t.config.product=window.best_option.product,t.config.ymq_shopify_options=window.best_option.ymq_shopify_options,t.config.ymq_has_only_default_variant=window.best_option.ymq_has_only_default_variant,t.config.automic_variant_swatch={};var e=window.best_option.product.options;window.best_option.hasOwnProperty("ymq_shopify_options")?t.config.ymq_shopify_options=window.best_option.ymq_shopify_options:window.best_option.ymq_has_only_default_variant?t.config.ymq_shopify_options={Title:["Default Title"]}:(t.config.ymq_shopify_options={},window.best_option.product.variants.forEach((function(i){i.options.forEach((function(i,n){var a=e[n];i=t.config.util.htmlSpecialChars(i),t.config.ymq_shopify_options.hasOwnProperty(a)||(t.config.ymq_shopify_options[a]=[]),t.config.ymq_shopify_options[a].includes(i)||t.config.ymq_shopify_options[a].push(i)}))}))),t.config.color_swatch_title=t.config.util.getValue(window.best_option.ymq_option_branding.extra,"color-swatch-title",""),t.config.color_swatch=Number(t.config.util.getValue(window.best_option.ymq_option_branding.extra,"color-swatch","2")),t.config.color_matching=t.config.util.getValue(window.best_option.ymq_option_branding.extra,"color-matching","{}"),t.config.color_swatch_lower=Number(t.config.util.getValue(window.best_option.ymq_option_branding.extra,"color-swatch-lower","1"));try{t.config.color_matching=JSON.parse(t.config.color_matching)}catch(t){}try{t.config.color_swatch_title=t.config.color_swatch_title.split(",")}catch(e){t.config.color_swatch_title=[]}if(1==t.config.color_swatch_lower){var i=[];t.config.color_swatch_title.forEach((function(t){i.push(t.toLowerCase())})),t.config.color_swatch_title=i}if(t.config.ymq_has_only_default_variant||window.best_option.product.variants.forEach((function(i){Array.isArray(i.options)&&i.options.forEach((function(n,a){var o=e[a];try{t.config.color_swatch_title.includes(1==t.config.color_swatch_lower?o.toLowerCase():o)&&0!=t.config.color_swatch&&(t.config.automic_variant_swatch.hasOwnProperty(o)||(t.config.automic_variant_swatch[o]={}),t.config.automic_variant_swatch[o].hasOwnProperty(n)||(2==t.config.color_swatch&&i.hasOwnProperty("featured_image")&&null!=i.featured_image&&i.featured_image.hasOwnProperty("src")?t.config.automic_variant_swatch[o][n]={canvas_type:2,canvas1:"",canvas2:i.featured_image.src,automic_bgcolor:1}:t.config.automic_variant_swatch[o][n]={canvas_type:1,canvas1:t.config.color_matching.hasOwnProperty(n)?t.config.color_matching[n]:t.config.util.htmlSpecialChars(n),canvas2:"",automic_bgcolor:1}))}catch(t){}}))})),t.config.money_format=window.best_option.ymq_option_branding.lan.currency,t.config.form_box="",t.config.shopifySelectDom=[],1==t.config.util.getValue(window.best_option.ymq_option_branding.extra,"form-box-new",0))t.config.form_box='form[action*="/cart/add"]';else if(bestJq('form[action="/cart/add"]').length>=1)t.config.form_box='form[action="/cart/add"]';else if(bestJq('form[action*="/cart/add"]').length>=1){var n=bestJq('form[action*="/cart/add"]').attr("action");t.config.form_box=`form[action="${n}"]`}t.config.ymq_variantjson=window.best_option.ymq_variantjson,t.config.ymq_option_data=window.best_option.ymq_option_data,t.config.ymq_option_condition=window.best_option.ymq_option_condition,t.config.ymq_option_template=window.best_option.ymq_option_template,t.config.ymq_option_template_condition=window.best_option.ymq_option_template_condition,t.config.ymq_option_settings=window.best_option.ymq_option_settings,t.config.ymq_option_branding=window.best_option.ymq_option_branding,t.config.variantData={},t.config.product.variants.forEach((function(e){t.config.variantData[e.id]=e})),t.config.variantOriginal=!1,1==t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-original",0)&&(t.config.variantOriginal=!0),t.config.onetimetag=` ( ${t.config.util.getValue(t.config.ymq_option_branding.lan,"one-time-tag","one time")} )`,t.config.form_box_dom="";var a=t.config.util.getValue(t.config.ymq_option_branding.extra,"add-cart-form-number",0);t.config.form_class_name="",Number(a)==a?(t.config.form_box_dom=bestJq(t.config.form_box).eq(Number(a)),t.config.form_class_name=t.config.form_box):bestJq(a).length>0?(t.config.form_box_dom=bestJq(a),t.config.form_class_name=a):(t.config.form_box_dom=bestJq(t.config.form_box).eq(0),t.config.form_class_name=t.config.form_box);var o=t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-id-dom","");o&&bestJq(o).length>0?t.config.iddom=bestJq(o):t.config.iddom=t.config.form_box_dom.find("[name='id']"),window.best_option.hasOwnProperty("ymq_option_template_sort")?""==window.best_option.ymq_option_template_sort?t.config.ymq_option_template_sort=[]:t.config.ymq_option_template_sort=window.best_option.ymq_option_template_sort.split(","):t.config.ymq_option_template_sort=!1}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Upload=class t{constructor(){var t=this;t.instance=null,t.config=Config.getInstance("uploadInstance",t),t.init()}init(){this.disabledFileInput().initMemberVariables().initModal().initOptions().registerEvent(),this.registerFileInputChangeEvent()}initMemberVariables(){var t=this;return t.cropper=null,t.files=null,t.num=0,t.fileData={},t.rectangleRatios=[],t.formData=new FormData,t.inputDom=null,t.previewReady=!1,t.imgDom=null,t}disabledFileInput(){return bestJq(document).on("click",".ymq_upload_new.ymq_disabled",(function(t){return t.stopImmediatePropagation(),t.preventDefault(),!1})),this}initOptions(){var t=this;return t.options={ready:function(){var e=this.cloneNode();e.className="",e.style.cssText="display: block;width: 100%;min-width: 0;min-height: 0;max-width: none;max-height: none;",bestJq(".ymq-img-review")[0].appendChild(e.cloneNode()),t.previewReady=!0},viewMode:Number(t.config.util.getValue(window.best_option.ymq_option_branding.extra,"cropper-show",1)),dragMode:"move",isRound:!1,crop:function(e){if(t.previewReady){var i=e.detail,n=this.cropper.getImageData(),a=i.width/i.height,o=bestJq(".ymq-img-review")[0];if(o){var s=o.getElementsByTagName("img").item(0),r=o.offsetWidth,c=r/a,l=i.width/r;o.style.height=c+"px",s&&(s.style.width=n.naturalWidth/l+"px",s.style.height=n.naturalHeight/l+"px",s.style.marginLeft=-i.x/l+"px",s.style.marginTop=-i.y/l+"px")}}}},t}resetAspectRatio(t){var e=this;return 2==(t=t.split(":")).length?(t=t[0]/t[1],e.options.aspectRatio=t):delete e.options.aspectRatio,e}registerEvent(){var t=this;return bestJq(document).on("click",".ymq-cropper-button-resize",(function(){t.destroyCropper().resetAspectRatio(bestJq(this).data("aspect-ratio")).newCropper()})),bestJq(document).on("click",".ymq-cropper-rotate-left",(function(){t.cropper.rotate(-30)})),bestJq(document).on("click",".ymq-cropper-rotate-right",(function(){t.cropper.rotate(30)})),t.modal.find("#ymq-do-cropper").on("click",(function(){if(t.cropper&&!t.modal.find("#ymq-do-cropper").hasClass("ymq-btn-progress")){t.modal.find("#ymq-do-cropper").addClass("ymq-btn-progress");t.getCanvas().toDataURL("image/jpeg",1);t.getCanvas().toBlob((function(e){t.addImg(e),t.modal.find("#ymq-do-cropper").removeClass("ymq-btn-progress")}))}})),t}destroyCropper(){var t=this;return t.cropper.destroy(),t.cropper=null,t}newCropper(){var t=this;return t.cropper=new Cropper(t.imgDom[0],t.options),t.modal.resize(),t}initRectangleRatio(){var t=this;t.rectangleRatios=[],t.resetAspectRatio("");var e=t.inputDom.data("rectangle-ratio");e&&(e=e.split(",")).length>0&&(t.rectangleRatios=e,t.resetAspectRatio(t.rectangleRatios[0])),t.options.isRound=!1,bestJq(".ymq-img-container").removeClass("cropper-container-round"),2==t.inputDom.data("cropper")&&(t.resetAspectRatio("1:1"),bestJq(".ymq-img-container").addClass("cropper-container-round"));var i="";return t.rectangleRatios.forEach((function(t){i+=`<div class="ymq-cropper-button ymq-cropper-button-resize" data-aspect-ratio="${t}">${t}</div>`})),t.modal.find(".ymq-img-action_m").html(i),t.modal.find(".ymq-img-action_pc").html(i),t}getCanvas(){var t=this;if(2==t.inputDom.data("cropper")){var e=t.cropper.getCroppedCanvas(),i=document.createElement("canvas"),n=i.getContext("2d"),a=e.width,o=e.height;return i.width=a,i.height=o,n.imageSmoothingEnabled=!0,n.drawImage(e,0,0,a,o),n.globalCompositeOperation="destination-in",n.beginPath(),n.arc(a/2,o/2,Math.min(a,o)/2,0,2*Math.PI,!0),n.fill(),i}return t.cropper.getCroppedCanvas()}registerFileInputChangeEvent(){var t=this,e='input[type="file"]';return""!=t.config.form_class_name&&(e=`${t.config.form_class_name} input[type="file"]`),bestJq(document).on("change",e,(function(e){if(t.inputDom=bestJq(this),t.files=e.target.files,t.inputDom.val())if(bestJq(this).hasClass("ymq-options-file-input")){0!=t.inputDom.data("cropper")?t.initRectangleRatio().doCropper():t.addFile();var i="";i+='<div class="ymq-cropper-button ymq-cropper-rotate-left"><svg t="1625460890766" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6401" width="16" height="16"><path d="M950.930517 512q0 89.161143-34.889143 170.276571t-93.696 139.995429-139.995429 93.696-170.276571 34.889143q-98.304 0-186.88-41.398857t-150.820571-116.882286q-4.022857-5.705143-3.730286-12.873143t4.827429-11.702857l78.262857-78.848q5.705143-5.12 14.262857-5.12 9.142857 1.170286 13.165714 6.875429 41.691429 54.272 102.253714 83.968t128.585143 29.696q59.465143 0 113.444571-23.113143t93.403429-62.537143 62.537143-93.403429 23.113143-113.444571-23.113143-113.444571-62.537143-93.403429-93.403429-62.537143-113.444571-23.113143q-56.027429 0-107.446857 20.260571t-91.428571 58.002286l78.262857 78.848q17.700571 17.115429 7.972571 39.424-9.728 22.820571-33.718857 22.820571l-256 0q-14.848 0-25.746286-10.825143t-10.825143-25.746286l0-256q0-23.990857 22.820571-33.718857 22.308571-9.728 39.424 7.972571l74.313143 73.728q61.147429-57.709714 139.702857-89.453714t162.596571-31.744q89.161143 0 170.276571 34.889143t139.995429 93.696 93.696 139.995429 34.889143 170.276571z" p-id="6402" fill="#ffffff"></path></svg></div><div class="ymq-cropper-button ymq-cropper-rotate-right"><svg t="1625461123473" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6636" width="16" height="16"><path d="M950.857143 146.285714l0 256q0 14.857143-10.857143 25.714286t-25.714286 10.857143l-256 0q-24 0-33.714286-22.857143-9.714286-22.285714 8-39.428571l78.857143-78.857143q-84.571429-78.285714-199.428571-78.285714-59.428571 0-113.428571 23.142857t-93.428571 62.571429-62.571429 93.428571-23.142857 113.428571 23.142857 113.428571 62.571429 93.428571 93.428571 62.571429 113.428571 23.142857q68 0 128.571429-29.714286t102.285714-84q4-5.714286 13.142857-6.857143 8 0 14.285714 5.142857l78.285714 78.857143q5.142857 4.571429 5.428571 11.714286t-4.285714 12.857143q-62.285714 75.428571-150.857143 116.857143t-186.857143 41.428571q-89.142857 0-170.285714-34.857143t-140-93.714286-93.714286-140-34.857143-170.285714 34.857143-170.285714 93.714286-140 140-93.714286 170.285714-34.857143q84 0 162.571429 31.714286t139.714286 89.428571l74.285714-73.714286q16.571429-17.714286 40-8 22.285714 9.714286 22.285714 33.714286z" p-id="6637" fill="#ffffff"></path></svg></div>',t.modal.find(".ymq-img-action_m").append(i),t.modal.find(".ymq-img-action_pc").append(i)}else t.addOtherFile()})),t}doCropper(){var t,e,i=this;try{i.files&&i.files.length>0&&(t=i.files[0],/^image\/\w+/.test(t.type)?URL?i.done(URL.createObjectURL(t)):FileReader&&((e=new FileReader).onload=function(t){i.done(e.result)},e.readAsDataURL(t)):i.addFile())}catch(t){}}done(t){var e=this;e.inputDom.val(""),e.imgDom.prop("src",t),e.modal.modal("show")}isDisabled(){var t=this,e=t.inputDom.prop("name"),i=t.inputDom.data("file-num"),n=0;t.fileData.hasOwnProperty(e)&&(n=Object.keys(t.fileData[e]).length),n>=i?t.inputDom.parents(".ymq_upload_new").addClass("ymq_disabled"):t.inputDom.parents(".ymq_upload_new").removeClass("ymq_disabled")}addOtherFile(){var t=this,e=t.inputDom.prop("name");t.fileData.hasOwnProperty(e)||(t.fileData[e]={});var i=t.files.length;for(let n=0;n<i;n++)t.fileData[e][n]={file:t.files[n],name:t.files[n].name}}addFile(){var t=this,e="",i=t.inputDom.prop("name"),n=t.inputDom.parents(".ymq-options-box").find(".ymq_upload_img_view"),a=t.inputDom.parents(".ymq-options-box").find(".ymq_upload_file_view"),o=t.inputDom.data("file-num"),s=t.files.length,r="";t.fileData.hasOwnProperty(i)||(t.fileData[i]={}),(o-=Object.keys(t.fileData[i]).length)<=t.files.length&&(s=o);for(let o=0;o<s;o++)t.fileData[i][t.num]={file:t.files[o],name:t.files[o].name},/^image\/\w+/.test(t.files[o].type)?(URL&&(e=URL.createObjectURL(t.files[o])),r=`\n                        <div class="ymq_upload_img_item ymq_upload_file_item ymq_upload_file_item_${t.num}" style="display: none;" data-name="${i}" data-num="${t.num}">\n                            <img class="ymq_img_item" src="${e}" alt="">\n                            <div class="ymq_upload_img_item_bg">\n                                <span data-name="${i}" data-num="${t.num}" class="ymq_upload_img_item_del ymq_upload_file_item_del"></span>\n                                <div class="spotlight" data-src="${e}"></div>\n                            </div>\n                        </div>\n                    `,n.prepend(r),bestJq(`.ymq_upload_file_item_${t.num}`).fadeIn()):(r=`\n                        <div class="ymq_upload_item ymq_upload_file_view_item ymq_upload_file_item ymq_upload_file_item_${t.num}">\n                            <div class="ymq_upload_type ymq_upload_img"></div>\n                            <div class="ymq_upload_name">${t.files[o].name}</div>\n                            <div data-name="${i}" data-num="${t.num}" class="ymq_upload_status ymq_upload_success ymq_upload_file_item_del"></div>\n                            <div class="ymq_clear_both"></div>\n                        </div>\n                    `,a.append(r),bestJq(`.ymq_upload_file_item_${t.num}`).fadeIn()),t.num++;t.inputDom.val("").change(),t.isDisabled()}addImg(t){var e=this,i=URL.createObjectURL(t),n=e.inputDom.parents(".ymq-options-box").find(".ymq_upload_img_view"),a=e.inputDom.prop("name"),o=`\n                <div class="ymq_upload_img_item ymq_upload_file_item ymq_upload_file_item_${e.num}" style="display: none;" data-name="${a}" data-num="${e.num}">\n                    <img class="ymq_img_item" src="${i}" alt="">\n                    <div class="ymq_upload_img_item_bg">\n                        <span data-name="${a}" data-num="${e.num}" class="ymq_upload_img_item_del ymq_upload_file_item_del"></span>\n                        <div class="spotlight" data-src="${i}"></div>\n                    </div>\n                </div>\n            `;e.fileData.hasOwnProperty(a)||(e.fileData[a]={}),e.fileData[a][e.num]={file:t,name:`${a}_${e.num}.jpg`},e.formData.append(a,t,`${a}.jpg`),n.prepend(o),bestJq(`.ymq_upload_file_item_${e.num}`).fadeIn(),e.modal.modal("hide"),e.num++,e.inputDom.val("").change(),e.isDisabled()}initModal(){var t=this;return bestJq("body").append('\n                <div class="ymq-bmodal ymq-modal-fade" id="ymqBootModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n                    <div class="ymq-modal-dialog ymq-modal-lg" role="document">\n                      <div class="ymq-bmodal-content">\n                        <div class="ymq-modal-header">\n                          <div class="ymq-modal-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></div>\n                        </div>\n                        <div class="ymq-modal-body">\n                          <div class="ymq-img-container">\n                            <div class="ymq-img-cropper-container">\n                              <img id="ymq-upload-cropper-img" src="">\n                            </div>\n                            <div class="ymq-img-review-container">\n                              <div class="ymq-img-review">\n                              </div>\n                              <div class="ymq-img-action ymq-img-action_m ymq_m_show">\n                                \n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div class="ymq-modal-footer">\n                          <div class="ymq-cropper-button ymq-cropper-button-close" data-dismiss="modal">Close</div>\n                          <div class="ymq-img-action ymq-img-action_pc ymq_pc_show">\n                            \n                          </div>\n                          <div class="ymq-cropper-button" id="ymq-do-cropper">Save</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n            '),t.imgDom=bestJq("#ymq-upload-cropper-img"),t.modal=bestJq("#ymqBootModal"),t.modal.on("shown.bs.modal",(function(){t.newCropper()})).on("hidden.bs.modal",(function(){t.destroyCropper(),bestJq(".ymq-img-review").html("")})),t}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Util=class t{constructor(t){this.instance=null,this.init()}init(){this.dateFormat().initSpotlight()}jstrigger(t,e){if(document.all)t.fireEvent("on"+e);else{var i=document.createEvent("Events");i.initEvent(e,!0,!0),t.dispatchEvent(i)}}getOptionValueQty(t){try{var e=t.data("id");return this.getIntValue(bestJq(`.ymq-qty-input-${e}`).val())}catch(t){return 1}return 1}getIntValue(t){try{return Number(t)&&Number(t)>0?parseInt(t):1}catch(t){return 1}return 1}getParenthesesStr(t){var e="";if(""==t)return e;var i=t.match(/\((.+?)\)/g);if(""!=i){let t=i[0];""!=t&&(e=t.substring(1,t.length-1))}return e}getShopifySmallImg(t,e=200,i=200){return"string"==typeof t&&1==this.getValue(window.best_option.ymq_option_branding.extra,"img_cdn",0)&&(t=t.replace("cdn.shopifycdn.net","cdn.shopify.com")),1==this.getValue(window.best_option.ymq_option_branding.extra,"is_small",1)&&-1!=t.indexOf("shopify")&&-1==t.search(".svg")?-1!=(t=(t=t.replace(/ /g,"")).replace(/	/g,"")).indexOf("?")?t+"&width="+e+"&height="+i:t+"?width="+e+"&height="+i:t}formatCurrency(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var e=t==(t=Math.abs(t)),i=(t=Math.floor(100*t+.50000000001))%100;t=Math.floor(t/100).toString(),i<10&&(i="0"+i);for(var n=0;n<Math.floor((t.length-(1+n))/3);n++)t=t.substring(0,t.length-(4*n+3))+","+t.substring(t.length-(4*n+3));return(e?"":"-")+t+"."+i}changeUriByVariantId(t){var e=this.makeJsonByGet(),i=document.URL,n=i.indexOf("?"),a=i.substring(0,n),o=[];e.variant=t,Object.keys(e).forEach((function(t){""!==e[t]&&o.push(`${t}=${e[t]}`)})),history.replaceState(null,null,`${a}${o.length>0?"?":""}${o.join("&")}`)}htmlSpecialChars(t){return"string"==typeof(t=this.reHtmlSpecialChars(t))&&(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")),t}reHtmlSpecialChars(t){return"string"==typeof t&&(t=(t=(t=(t=(t=t.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")),t}variantIsSelect(t,e){return t==e||this.htmlSpecialChars(t)==e}makeJsonByGet(){for(var t=this,e={},i={},n=window.location.href,a=(n=n.replace(/.*\?/,"")).split("&"),o=0;o<a.length;o++)e[a[o].split("=")[0]]="";return Object.keys(e).forEach((function(e){var n=t.getUrlParam(e);n&&(i[e]=n)})),i}getUrlParam(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null}getValue(t,e,i){return t.hasOwnProperty(e)?t[e]:i}dateFormat(){return Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},this}initSpotlight(){var t,e,i=!1;bestJq("#spotlight .drag").mousedown((function(n){t=n.pageX,e=n.pageY,i=!1})),bestJq("#spotlight .drag").mouseup((function(n){(Math.abs(Number(t)-Number(n.pageX))>7||Math.abs(Number(e)-Number(n.pageY))>7)&&(i=!0)})),bestJq(document).on("click","#spotlight .drag",(function(){i||(bestJq(".preloader").removeClass("show"),bestJq("#spotlight .icon.close").click())})),bestJq(document).on("#spotlight .icon.close",(function(){bestJq(".preloader").removeClass("show")}))}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Validate=class t{constructor(){var t=this;t.instance=null,t.dom=null,t.config=Config.getInstance("validateInstance",t),t.upload=Upload.getInstance(),t.init()}initMemberVariables(){var t=this;t.selectDom=null,t.selectValueArray=[],t.selectValue="",t.domErrorArray=[],t.validateCount=0,t.validateOtherCount=0,t.validateArray=[],t.validateValue=[],t.form=bestJq(t.config.form_box)}init(){this.initMemberVariables()}doOtherValidate(){var t=this;t.domErrorArray=[],t.validateArray.forEach((function(e){"required"==e&&(t.json.hasOwnProperty("isFile")?t.upload.fileData.hasOwnProperty(t.json.name)?bestJq.isEmptyObject(t.upload.fileData[t.json.name])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require):t.domErrorArray.push(t.config.ymq_option_branding.lan.require):""==t.selectValue&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require)),""!=t.selectValue&&(e.search("minchar:")>-1&&t.selectValue.length<e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min_char.replace("%s",e.split(":")[1])),e.search("maxchar:")>-1&&t.selectValue.length>e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max_char.replace("%s",e.split(":")[1])),e.search("min:")>-1&&Number(t.selectValue)<Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min.replace("%s",e.split(":")[1])),e.search("max:")>-1&&Number(t.selectValue)>Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max.replace("%s",e.split(":")[1])),"email"!=e||t.config.emailRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.email),"url"!=e||t.config.urlRe.test(t.selectValue)||t.domErrorArray.push(t.config.util.getValue(t.config.ymq_option_branding.lan,"url","Please enter a valid url.")),"integer"==e&&t.selectValue%1!=0&&t.domErrorArray.push(t.config.ymq_option_branding.lan.integer),"number"!=e||t.config.numberRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.number),e.search("float:")>-1&&t.selectValue%1!=0&&t.selectValue.toString().split(".")[1].length>e.split(":")[1]&&t.domErrorArray.push(`${e.split(":")[1]}小数`))}))}doValidate(){var t=this,e=t.selectDom.parents(".ymq-options-box");t.domErrorArray=[];var i=0,n=99999,a=t.selectValueArray.length;if(t.json.hasOwnProperty("hasQty")&&t.json.hasQty){var o=0;t.selectValueArray.forEach((function(e){var i=e.split(t.config.qty_split);2==i.length?o+=1*i[1]:o+=1})),a=o}t.validateArray.forEach((function(t){t.search("min_s:")>-1&&(i=Number(t.split(":")[1])),t.search("max_s:")>-1&&(n=Number(t.split(":")[1]))})),0==i&&0==n||(i==n?(a>n-1?bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!0):bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!1),a!=i&&(t.config.ymq_option_branding.lan.hasOwnProperty("total_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.total_s.replace("%s",i)):t.domErrorArray.push("You need to choose "+i+"."))):(a<i&&(t.config.ymq_option_branding.lan.hasOwnProperty("min_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.min_s.replace("%s",i)):t.domErrorArray.push("You need to choose more than "+i+".")),a>n&&(t.config.ymq_option_branding.lan.hasOwnProperty("max_s")?t.domErrorArray.push(t.config.ymq_option_branding.lan.max_s.replace("%s",n)):t.domErrorArray.push("You need to choose less than "+n+".")),a>n-1?bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!0):bestJq(`#${e.prop("id")} input:checkbox:not([data-title]):not(:checked)`).prop("disabled",!1))),t.validateArray.forEach((function(e){"required"==e&&(t.json.hasOwnProperty("isFile")?t.upload.fileData.hasOwnProperty(t.json.name)?bestJq.isEmptyObject(t.upload.fileData[t.json.name])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require):t.domErrorArray.push(t.config.ymq_option_branding.lan.require):""==t.selectValue&&t.domErrorArray.push(t.config.ymq_option_branding.lan.require)),""!=t.selectValue&&(e.search("minchar:")>-1&&t.selectValue.length<e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min_char.replace("%s",e.split(":")[1])),e.search("maxchar:")>-1&&t.selectValue.length>e.split(":")[1]&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max_char.replace("%s",e.split(":")[1])),e.search("min:")>-1&&Number(t.selectValue)<Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.min.replace("%s",e.split(":")[1])),e.search("max:")>-1&&Number(t.selectValue)>Number(e.split(":")[1])&&t.domErrorArray.push(t.config.ymq_option_branding.lan.max.replace("%s",e.split(":")[1])),"email"!=e||t.config.emailRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.email),"url"!=e||t.config.urlRe.test(t.selectValue)||t.domErrorArray.push(t.config.util.getValue(t.config.ymq_option_branding.lan,"url","Please enter a valid url.")),"integer"==e&&t.selectValue%1!=0&&t.domErrorArray.push(t.config.ymq_option_branding.lan.integer),"number"!=e||t.config.numberRe.test(t.selectValue)||t.domErrorArray.push(t.config.ymq_option_branding.lan.number),e.search("float:")>-1&&t.selectValue%1!=0&&t.selectValue.toString().split(".")[1].length>e.split(":")[1]&&t.domErrorArray.push(`${e.split(":")[1]}小数`))}))}validateOne(t,e=!1){var i=this;if(i.json=t,t&&t.validate)if(i.validateArray=t.validate.split("|"),i.selectDom=t.dom,i.selectValueArray=t.value,i.selectValue=t.value.join(","),t.hasOwnProperty("otherValidate")&&t.hasOwnProperty("nameStr"))i.doOtherValidate(),0==i.validateOtherCount&&i.domErrorArray.length&&(alert(`${t.nameStr} ${i.domErrorArray[0]}`),i.validateOtherCount++,i.validateCount++);else{i.doValidate();var n="";if(i.domErrorArray.length){i.domErrorArray.forEach((function(t){n+=`\n                                <div class="ymq-error-item">${t}</div>\n                            `}));var a=t.dom.parents(".ymq-options-box");if(0==i.validateCount&&e){if(a.offset().top+a.outerHeight()<bestJq(window).scrollTop()){var o=a.offset().top-200;bestJq("html, body").animate({scrollTop:o},500)}t.dom.focus()}i.validateCount++,t.dom.parents(".ymq-options-box").find("textarea,select,input[type='text']").addClass("ymq_error_border"),t.dom.parents(".ymq-options-box").find(".selectDropdown").find("span").addClass("ymq_error_border")}else t.dom.parents(".ymq-options-box").find("textarea,select,input[type='text']").removeClass("ymq_error_border"),t.dom.parents(".ymq-options-box").find(".selectDropdown").find("span").removeClass("ymq_error_border");t.dom.parents(".ymq-options-box").find(".ymq-error-box").html(n)}}validateAll(t,e=!1){var i=this;i.validateCount=0,i.validateOtherCount=0,Object.keys(t).forEach((function(n){i.validateOne(t[n],e)}))}validateOneWithOutPrompt(t){var e=this;return e.json=t,!!(t&&t.validate&&(e.validateArray=t.validate.split("|"),e.selectDom=t.dom,e.selectValueArray=t.value,e.selectValue=t.value.join(","),e.doValidate(),e.domErrorArray.length))}validateAllWithOutPrompt(t){var e=this,i=!1;try{Object.keys(t).forEach((function(n){if(e.validateOneWithOutPrompt(t[n]))throw i=!0,new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}return i}require(){}testValidate(t){t?this.success():this.error()}success(){}error(){this.dom.addClass("ymq_error")}static getInstance(){return this.instance||(this.instance=new t),this.instance}},Variant=class t{constructor(){var t=this;t.instance=null,t.htmlBuilder=Html.getInstance(),t.config=Config.getInstance("variantInstance",t),t.addVariantIdInput().init()}initMemberVariables(){var t=this;t.variantJson={},t.variant_id=0,t.allVariantJson={},t.notAvailableVariantJson={},t.ymq_shopify_options_with_index_key={}}init(){this.initMemberVariables(),this.initVariantId().initNotAvailableVariantJson().initVariantJson()}initNotAvailableVariantJson(){var t=this;return t.config.product.variants.forEach((function(e){e.available||(t.notAvailableVariantJson[e.id]=e.options),t.allVariantJson[e.id]=e.options})),t}isSoldOut(){var t=this;if(1==Number(t.config.util.getValue(t.config.ymq_option_branding.extra,"variant-not-disabled",0)))return t;var e=[],i=[];return bestJq(".ymq-shopify-option-box").each((function(t){"3"==bestJq(this).data("type").toString()?(i.push(1),"multiple"==bestJq(this).find("select").attr("multiple")?e.push(bestJq(this).find("select").val().join(",").toString()):e.push(bestJq(this).find("select").val().toString()),bestJq(this).find("option").prop("disabled",!1)):(i.push(0),e.push(bestJq(this).find("input:checked").val().toString()),bestJq(this).find("input").prop("disabled",!1))})),e.forEach((function(n,a){var o=n,s=!1;t.ymq_shopify_options_with_index_key[a]&&t.ymq_shopify_options_with_index_key[a].forEach((function(n,r){n=t.config.util.reHtmlSpecialChars(n);var c=Object.assign([],e);if(n!=o&&(c[a]=n,Object.keys(t.notAvailableVariantJson).forEach((function(e){JSON.stringify(c)==JSON.stringify(t.notAvailableVariantJson[e])&&(1==i[a]?(bestJq(`#ymq-attrib-ymq-variant-${a}`).find("option").eq(r).prop("disabled",!0),bestJq(`#option-box-ymq-variant-${a} .ymq-multiple-ul li`).eq(r).data("title",t.config.ymq_option_branding.lan.sold_out)):bestJq(`#ymq-attrib-ymq-variant-${a}-0`).parents(".ymq-shopify-option-box").find("input").eq(r).prop("disabled",!0).next().data("title",t.config.ymq_option_branding.lan.sold_out),s=!0)})),0==s)){var l=!1;try{Object.keys(t.allVariantJson).forEach((function(e){if(JSON.stringify(c)==JSON.stringify(t.allVariantJson[e]))throw l=!0,new Error("breakForEach")}))}catch(t){if("breakForEach"!=t.message)throw t}0==l&&(1==i[a]?(bestJq(`#ymq-attrib-ymq-variant-${a}`).find("option").eq(r).prop("disabled",!0),bestJq(`#option-box-ymq-variant-${a} .ymq-multiple-ul li`).eq(r).data("title",t.config.ymq_option_branding.lan.sold_out)):bestJq(`#ymq-attrib-ymq-variant-${a}-0`).parents(".ymq-shopify-option-box").find("input").eq(r).prop("disabled",!0).next().data("title",t.config.ymq_option_branding.lan.sold_out))}}))})),bestJq(".ymq-shopify-option-box select").each((function(e){t.htmlBuilder.initDropdown(bestJq(`#ymq-attrib-ymq-variant-${e}`))})),t}initTypeVariantJson(t,e,i=null,n,a=null){var o=this,s={};return s.help=i?i.help:"",s.id=`ymq-variant-${e}`,s.label=t,s.options={},s.isShopify=!0,s.optionsIndex=e,s.required="",s.type=n,null!=a&&(s.style=a),s.tooltip=i?i.tooltip:"",s.tooltip_position=i?i.tooltip_position:"",s.alert_text=i&&i.hasOwnProperty("alert_text")?i.alert_text:"",s.hide_title=i&&i.hasOwnProperty("hide_title")?i.hide_title:0,s.class=i&&i.hasOwnProperty("class")?i.class:"",s.a_t1=i&&i.hasOwnProperty("a_t1")?i.a_t1:"",s.a_t2=i&&i.hasOwnProperty("a_t2")?i.a_t2:"",s.a_width=i&&i.hasOwnProperty("a_width")?i.a_width:"",o.config.ymq_shopify_options[t].forEach((function(t,i){s.options[`${s.id}-${i}`]={id:`${s.id}-${i}`,one_time:0,price:0,price_type:"1",sku:"",value:t},window.bestAdmin?0==Number(i)?s.options[`${s.id}-${i}`].default=1:s.options[`${s.id}-${i}`].default="":o.config.util.variantIsSelect(o.config.variantData[o.variant_id].options[e],t)?s.options[`${s.id}-${i}`].default=1:s.options[`${s.id}-${i}`].default=""})),s}initDrodownVariantJson(t,e,i=null){return this.initTypeVariantJson(t,e,i,"3")}initRadioVariantJson(t,e,i=null){return this.initTypeVariantJson(t,e,i,"4",1)}initButtonVariantJson(t,e,i=null){return this.initTypeVariantJson(t,e,i,"15",2)}initCanvasDrodownVariantJson(t,e,i){var n=this.initCanvasVariantJson(t,e,i);return n.type=20,n}initCanvasVariantJson(t,e,i){var n=this;null==i&&(i={});var a={};return a.help=n.config.util.getValue(i,"help",""),a.id=`ymq-variant-${e}`,a.label=t,a.options={},a.isShopify=!0,a.optionsIndex=e,a.style=1,a.required="",a.tooltip=n.config.util.getValue(i,"tooltip",""),a.tooltip_position=n.config.util.getValue(i,"tooltip_position",""),a.style=n.config.util.getValue(i,"style",1),a.width=n.config.util.getValue(i,"width",""),a.height=n.config.util.getValue(i,"height",""),a.b_radius=n.config.util.getValue(i,"b_radius",""),a.zoom=n.config.util.getValue(i,"zoom",n.config.util.getValue(n.config.ymq_option_branding.extra,"img-option-bigger",1)),a.type="5",a.alert_text=n.config.util.getValue(i,"alert_text",""),a.hide_title=Number(n.config.util.getValue(i,"hide_title",0)),a.class=n.config.util.getValue(i,"class",""),a.a_t1=n.config.util.getValue(i,"a_t1",""),a.a_t2=n.config.util.getValue(i,"a_t2",""),a.a_width=n.config.util.getValue(i,"a_width",""),n.config.ymq_shopify_options[t].forEach((function(o,s){var r=n.getCanvasObj(i,s,t,o);a.options[`${a.id}-${s}`]={id:`${a.id}-${s}`,one_time:0,price:0,price_type:"1",sku:"",canvas1:r.canvas1,canvas2:r.canvas2,canvas_type:r.canvas_type,automic_bgcolor:r.automic_bgcolor,value:o},n.config.util.variantIsSelect(n.config.variantData[n.variant_id].options[e],o)?a.options[`${a.id}-${s}`].default=1:a.options[`${a.id}-${s}`].default=""})),a}getCanvasObj(t,e,i,n){var a=this;i=a.config.util.reHtmlSpecialChars(i),n=a.config.util.reHtmlSpecialChars(n);var o=2;if(o=null==t||bestJq.isEmptyObject(t)?1:a.config.util.getValue(t,"show_type",2),1==Number(o)&&a.config.automic_variant_swatch.hasOwnProperty(i)&&a.config.automic_variant_swatch[i].hasOwnProperty(n))return a.config.automic_variant_swatch[i][n];try{return{canvas1:t.values[e].canvas1,canvas2:t.values[e].canvas2,canvas_type:t.values[e].canvas_type,automic_bgcolor:0}}catch(t){return{canvas1:"",canvas2:"",canvas_type:1,automic_bgcolor:0}}}initVariantJson(){var t=this;return t.config.ymq_has_only_default_variant||Object.keys(t.config.ymq_shopify_options).forEach((function(e,i){t.ymq_shopify_options_with_index_key[i]=t.config.ymq_shopify_options[e];var n="",a={},o=null;switch(n=t.config.ymq_variantjson.hasOwnProperty(i)?(o=t.config.ymq_variantjson[i]).type.toString():t.config.util.getValue(t.config.ymq_option_branding.extra,"init-variant-type",1).toString(),1==(null==o?1:t.config.util.getValue(o,"show_type",2))&&(n=t.config.automic_variant_swatch.hasOwnProperty(t.config.util.reHtmlSpecialChars(e))?"4":t.config.util.getValue(t.config.ymq_option_branding.extra,"init-variant-type",1).toString()),n){case"1":default:a=t.initDrodownVariantJson(e,i,o);break;case"2":a=t.initRadioVariantJson(e,i,o);break;case"3":a=t.initButtonVariantJson(e,i,o);break;case"4":a=t.initCanvasVariantJson(e,i,o);break;case"20":a=t.initCanvasDrodownVariantJson(e,i,o)}t.variantJson[a.id]=a})),t}buildVariantHtml(){var t=this;return t.config.ymq_has_only_default_variant||t.htmlBuilder.setJson(t.variantJson).buildtHtml(),t}initVariantId(){var t=this;if(t.variant_id=Number(t.config.util.getUrlParam("variant")),t.variant_id&&t.config.variantData.hasOwnProperty(t.variant_id)||(t.variant_id=Number(t.config.product.variants[0].id)),t.changeVariantId(),!t.config.variantData[t.variant_id].available)try{Object.keys(t.config.variantData).forEach((function(e){if(t.config.variantData[e].available)throw t.variant_id=Number(e),t.changeVariantId(),t.config.util.changeUriByVariantId(t.variant_id),new Error("LoopTerminates")}))}catch(t){if("LoopTerminates"!==t.message)throw t}return t}changeUriByVariantId(){var t=this,e=[],i={},n=[];t.config.hideByNow&&bestJq(".shopify-payment-button").hide().remove(),bestJq(".ymq-shopify-option-box").each((function(){var t=bestJq(this).find(".ymq_lable").text();"3"==bestJq(this).data("type").toString()||"20"==bestJq(this).data("type").toString()?bestJq(this).find(".ymq-shopify-option").each((function(){e.push(bestJq(this).val().toString()),i[t]=bestJq(this).val().toString(),n.push(bestJq(this).val().toString())})):bestJq(this).find(".ymq-shopify-option:checked").each((function(){e.push(bestJq(this).val().toString()),i[t]=bestJq(this).val().toString(),n.push(bestJq(this).val().toString())}))}));var a=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-select",""),o=t.config.util.getValue(t.config.ymq_option_branding.extra,"trigger-select-join","");return""!=a&&(bestJq(a).val(n.join(o)).trigger("change"),t.config.util.jstrigger(bestJq(a).get(0),"change")),Object.keys(i).forEach((function(e,n){var a=i[e];if(t.config.shopifySelectDom[e]&&"select"==t.config.shopifySelectDom[e].type){t.config.shopifySelectDom[e].jq.find("option").each((function(){bestJq(this).val()==a?bestJq(this).prop("selected",!0).trigger("click"):bestJq(this).prop("selected",!1)})),t.config.shopifySelectDom[e].jq.val(a).trigger("change");var o=document.getElementById(t.config.shopifySelectDom[e].id);t.config.util.jstrigger(o,"change")}t.config.shopifySelectDom[e]&&"radio"==t.config.shopifySelectDom[e].type&&t.config.shopifySelectDom[e].jq.each((function(i){if(bestJq(this).val()==a){bestJq(this).prop("checked",!0).trigger("click");var n=document.getElementsByName(t.config.shopifySelectDom[e].name)[i];t.config.shopifySelectDom[e].jq.trigger("change"),t.config.util.jstrigger(n,"change")}else bestJq(this).prop("checked",!1)}))})),t.config.product.variants.forEach((function(i){JSON.stringify(i.options)==JSON.stringify(e)&&(t.variant_id=Number(i.id),t.changeVariantId())})),t.config.util.changeUriByVariantId(t.variant_id),t}addVariantIdInput(){var t=this;if(!bestJq(`#${t.config.ymq_variant_id}`).length){var e=`\n                    <input id="${t.config.ymq_variant_id}" type="hidden" value="">\n                `;t.config.form_box_dom.append(e)}return t}changeVariantId(){var t=this;t.config.iddom.val(t.variant_id),bestJq(`#${t.config.ymq_variant_id}`).val(t.variant_id)}static getInstance(){return this.instance||(this.instance=new t),this.instance}};return{Product:Product}},factory=function(t){var e,i,n,a,o,s,r,c,l,d,p,m,u,h,f,y,_,b,g,q,v,w,x,$,J,k,O,C,D=(e={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156,hsl:!1},i=function(e,i){var n=t(i).data("colpick").hsl?T(e):I(e);t(i).data("colpick").fields.eq(1).val(n.r).end().eq(2).val(n.g).end().eq(3).val(n.b).end()},n=function(e,i){t(i).data("colpick").fields.eq(4).val(Math.round(e.h)).end().eq(5).val(Math.round(e.s)).end().eq(6).val(Math.round(e.x)).end()},a=function(e,i){t(i).data("colpick").fields.eq(0).val(t(i).data("colpick").hsl?P(e):H(e))},o=function(e,i){t(i).data("colpick").selector.css("backgroundColor","#"+(t(i).data("colpick").hsl?P({h:e.h,s:100,x:50}):H({h:e.h,s:100,x:100}))),t(i).data("colpick").selectorIndic.css({left:parseInt(t(i).data("colpick").height*e.s/100,10),top:parseInt(t(i).data("colpick").height*(100-e.x)/100,10)})},s=function(e,i){t(i).data("colpick").hue.css("top",parseInt(t(i).data("colpick").height-t(i).data("colpick").height*e.h/360,10))},r=function(e,i){t(i).data("colpick").currentColor.css("backgroundColor","#"+(t(i).data("colpick").hsl?P(e):H(e)))},c=function(e,i){t(i).data("colpick").newColor.css("backgroundColor","#"+(t(i).data("colpick").hsl?P(e):H(e)))},l=function(e){var r,l=t(this).parent().parent();if(this.parentNode.className.indexOf("_hex")>0)l.data("colpick").color=r=l.data("colpick").hsl?S(O(this.value)):Y(O(this.value)),i(r,l.get(0)),n(r,l.get(0));else if(this.parentNode.className.indexOf("_hsx")>0)l.data("colpick").color=r=J({h:parseInt(l.data("colpick").fields.eq(4).val(),10),s:parseInt(l.data("colpick").fields.eq(5).val(),10),x:parseInt(l.data("colpick").fields.eq(6).val(),10)}),i(r,l.get(0)),a(r,l.get(0));else{var d={r:parseInt(l.data("colpick").fields.eq(1).val(),10),g:parseInt(l.data("colpick").fields.eq(2).val(),10),b:parseInt(l.data("colpick").fields.eq(3).val(),10)};l.data("colpick").color=r=l.data("colpick").hsl?j(k(d)):E(k(d)),a(r,l.get(0)),n(r,l.get(0))}o(r,l.get(0)),s(r,l.get(0)),c(r,l.get(0)),l.data("colpick").onChange.apply(l.parent(),[r,l.data("colpick").hsl?P(r):H(r),l.data("colpick").hsl?T(r):I(r),l.data("colpick").el,0])},d=function(e){t(this).parent().removeClass("colpick_focus")},p=function(){t(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),t(this).parent().addClass("colpick_focus")},m=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=t(this).parent().find("input").focus(),n={el:t(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsx_h")>0?360:this.parentNode.className.indexOf("_hsx")>0?100:255,y:e.pageY,field:i,val:parseInt(i.val(),10),preview:t(this).parent().parent().data("colpick").livePreview};t(document).mouseup(n,h),t(document).mousemove(n,u)},u=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val-t.pageY+t.data.y,10)))),t.data.preview&&l.apply(t.data.field.get(0),[!0]),!1},h=function(e){return l.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colpick_slider").find("input").focus(),t(document).off("mouseup",h),t(document).off("mousemove",u),!1},f=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i={cal:t(this).parent(),y:t(this).offset().top};t(document).on("mouseup touchend",i,_),t(document).on("mousemove touchmove",i,y);var n="touchstart"==e.type?e.originalEvent.changedTouches[0].pageY:e.pageY;return l.apply(i.cal.data("colpick").fields.eq(4).val(parseInt(360*(i.cal.data("colpick").height-(n-i.y))/i.cal.data("colpick").height,10)).get(0),[i.cal.data("colpick").livePreview]),!1},y=function(t){var e="touchmove"==t.type?t.originalEvent.changedTouches[0].pageY:t.pageY;return l.apply(t.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(t.data.cal.data("colpick").height-Math.max(0,Math.min(t.data.cal.data("colpick").height,e-t.data.y)))/t.data.cal.data("colpick").height,10)).get(0),[t.data.preview]),!1},_=function(e){return t(document).off("mouseup touchend",_),t(document).off("mousemove touchmove",y),!1},b=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var i,n={cal:t(this).parent(),pos:t(this).offset()};return n.preview=n.cal.data("colpick").livePreview,t(document).on("mouseup touchend",n,q),t(document).on("mousemove touchmove",n,g),"touchstart"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,i=e.originalEvent.changedTouches[0].pageY):(pageX=e.pageX,i=e.pageY),l.apply(n.cal.data("colpick").fields.eq(6).val(parseInt(100*(n.cal.data("colpick").height-(i-n.pos.top))/n.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-n.pos.left)/n.cal.data("colpick").height,10)).get(0),[n.preview]),!1},g=function(t){var e;return"touchmove"==t.type?(pageX=t.originalEvent.changedTouches[0].pageX,e=t.originalEvent.changedTouches[0].pageY):(pageX=t.pageX,e=t.pageY),l.apply(t.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(t.data.cal.data("colpick").height-Math.max(0,Math.min(t.data.cal.data("colpick").height,e-t.data.pos.top)))/t.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(t.data.cal.data("colpick").height,pageX-t.data.pos.left))/t.data.cal.data("colpick").height,10)).get(0),[t.data.preview]),!1},q=function(e){return t(document).off("mouseup touchend",q),t(document).off("mousemove touchmove",g),!1},v=function(e){var i=t(this).parent(),n=i.data("colpick").color;i.data("colpick").origColor=n,r(n,i.get(0)),i.data("colpick").onSubmit(n,i.data("colpick").hsl?P(n):H(n),i.data("colpick").hsl?T(n):I(n),i.data("colpick").el)},w=function(e){e.stopPropagation();var i=t("#"+t(this).data("colpickId"));i.data("colpick").onBeforeShow.apply(this,[i.get(0)]);var n=t(this).offset(),a=n.top+this.offsetHeight,o=n.left,s=$(),r=i.width();o+r>s.l+s.w&&(o-=r),i.css({left:o+"px",top:a+"px"}),0!=i.data("colpick").onShow.apply(this,[i.get(0)])&&i.show(),t("html").mousedown({cal:i},x),i.mousedown((function(t){t.stopPropagation()}))},x=function(e){0!=e.data.cal.data("colpick").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),t("html").off("mousedown",x)},$=function(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth)}},J=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),x:Math.min(100,Math.max(0,t.x))}},k=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},O=function(t){var e=6-t.length;if(e>0){for(var i=[],n=0;n<e;n++)i.push("0");i.push(t),t=i.join("")}return t},C=function(){var e=t(this).parent(),r=e.data("colpick").origColor;e.data("colpick").color=r,i(r,e.get(0)),a(r,e.get(0)),n(r,e.get(0)),o(r,e.get(0)),s(r,e.get(0)),c(r,e.get(0))},{init:function(u){if(u=t.extend({},e,u||{}),t(this).val()&&(u.color=t(this).val()),"string"==typeof u.color)u.color=u.hsl?S(u.color):Y(u.color);else if(null!=u.color.r&&null!=u.color.g&&null!=u.color.b)u.color=u.hsl?j(u.color):E(u.color);else{if(null==u.color.h||null==u.color.s||null==u.color.b)return this;u.color=u.hsl?fixHsl(u.color):fixHsb(u.color)}return this.each((function(){if(!t(this).data("colpickId")){var e=t.extend({},u);e.origColor=u.color;var h="collorpicker_"+parseInt(1e3*Math.random());t(this).data("colpickId",h);var y=t('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsx_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsx_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsx_x colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",h);y.addClass("colpick_"+e.layout+(e.submit?"":" colpick_"+e.layout+"_ns")),"light"!=e.colorScheme&&y.addClass("colpick_"+e.colorScheme),e.hsl&&y.addClass("colpick_hsl"),y.find("div.colpick_submit").html(e.submitText).click(v),e.fields=y.find("input").change(l).blur(d).focus(p),y.find("div.colpick_field_arrs").mousedown(m).end().find("div.colpick_current_color").click(C),e.selector=y.find("div.colpick_color").on("mousedown touchstart",b),e.selectorIndic=e.selector.find("div.colpick_selector_outer"),e.el=this,e.hue=y.find("div.colpick_hue_arrs"),huebar=e.hue.parent();var _,g,q=navigator.userAgent.toLowerCase(),x="Microsoft Internet Explorer"===navigator.appName,$=x?parseFloat(q.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,J=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(x&&$<10)for(_=0;_<=11;_++)g=t("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+J[_]+", endColorstr="+J[_+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+J[_]+", endColorstr="+J[_+1]+')";'),huebar.append(g);else stopList=J.join(","),huebar.attr("style","background:-webkit-linear-gradient(top center,"+stopList+"); background:-moz-linear-gradient(top center,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");y.find("div.colpick_hue").on("mousedown touchstart",f),e.newColor=y.find("div.colpick_new_color"),e.currentColor=y.find("div.colpick_current_color"),y.data("colpick",e),i(e.color,y.get(0)),n(e.color,y.get(0)),a(e.color,y.get(0)),s(e.color,y.get(0)),o(e.color,y.get(0)),r(e.color,y.get(0)),c(e.color,y.get(0)),e.flat?(y.appendTo(this).show(),y.css({position:"relative",display:"block"})):(y.appendTo(document.body),t(this).on(e.showEvent,w),y.css({position:"absolute"}))}}))},showPicker:function(){return this.each((function(){t(this).data("colpickId")&&w.apply(this)}))},hidePicker:function(){return this.each((function(){t(this).data("colpickId")&&t("#"+t(this).data("colpickId")).hide()}))},setColor:function(e,l){if(l=void 0===l?1:l,"string"==typeof e)e=Y(e);else if(null!=e.r&&null!=e.g&&null!=e.b)e=E(e);else{if(null==e.h||null==e.s||null==e.b)return this;e=fixHsb(e)}return this.each((function(){if(t(this).data("colpickId")){var d=t("#"+t(this).data("colpickId"));d.data("colpick").color=e,d.data("colpick").origColor=e,i(e,d.get(0)),n(e,d.get(0)),a(e,d.get(0)),s(e,d.get(0)),o(e,d.get(0)),c(e,d.get(0)),d.data("colpick").onChange.apply(d.parent(),[e,d.data("colpick").hsl?P(e):H(e),d.data("colpick").hsl?T(e):I(e),d.data("colpick").el,1]),l&&r(e,d.get(0))}}))}}),N=function(t){return{r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}},Y=function(t){return E(N(t))},S=function(t){return j(N(t))},E=function(t){var e={h:0,s:0,x:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),a=n-i;return e.x=n,e.s=0!=n?255*a/n:0,0!=e.s?t.r==n?e.h=(t.g-t.b)/a:t.g==n?e.h=2+(t.b-t.r)/a:e.h=4+(t.r-t.g)/a:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.x*=100/255,e},j=function(t){return V(E(t))},V=function(t){var e={h:0,s:0,x:0};return e.h=t.h,e.x=t.x*(200-t.s)/200,e.s=t.x*t.s/(100-Math.abs(2*e.x-100)),e},A=function(t){var e={h:0,s:0,x:0};return e.h=t.h,e.x=(200*t.x+t.s*(100-Math.abs(2*t.x-100)))/200,e.s=200*(e.x-t.x)/e.x,e},I=function(t){var e={},i=t.h,n=255*t.s/100,a=255*t.x/100;if(0==n)e.r=e.g=e.b=a;else{var o=a,s=(255-n)*a/255,r=i%60*(o-s)/60;360==i&&(i=0),i<60?(e.r=o,e.b=s,e.g=s+r):i<120?(e.g=o,e.b=s,e.r=o-r):i<180?(e.g=o,e.r=s,e.b=s+r):i<240?(e.b=o,e.r=s,e.g=o-r):i<300?(e.b=o,e.g=s,e.r=s+r):i<360?(e.r=o,e.g=s,e.b=o-r):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},T=function(t){return I(A(t))},M=function(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,(function(t,e){1==e.length&&(i[t]="0"+e)})),i.join("")},H=function(t){return M(I(t))},P=function(t){return H(A(t))};t.fn.extend({colpick:D.init,colpickHide:D.hidePicker,colpickShow:D.showPicker,colpickSetColor:D.setColor}),t.extend({colpick:{rgbToHex:M,rgbToHsb:E,rgbToHsl:j,hsbToHex:H,hsbToRgb:I,hsbToHsl:V,hexToHsb:Y,hexToHsl:S,hexToRgb:N,hslToHsb:A,hslToRgb:T,hslToHex:P}})},"function"==typeof best_define&&best_define.amd?best_define(["jquery"],factory):factory(bestJq),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Cropper=e()}(this,(function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var r="undefined"!=typeof window&&void 0!==window.document,c=r?window:{},l=!(!r||!c.document.documentElement)&&"ontouchstart"in c.document.documentElement,d=!!r&&"PointerEvent"in c,p="cropper",m="all",u="crop",h="move",f="zoom",y="e",_="w",b="s",g="n",q="ne",v="nw",w="se",x="sw",$="".concat(p,"-crop"),J="".concat(p,"-disabled"),k="".concat(p,"-hidden"),O="".concat(p,"-hide"),C="".concat(p,"-invisible"),D="".concat(p,"-modal"),N="".concat(p,"-move"),Y="".concat(p,"Action"),S="".concat(p,"Preview"),E="crop",j="move",V="none",A="crop",I="cropend",T="cropmove",M="cropstart",H="dblclick",P=d?"pointerdown":l?"touchstart":"mousedown",B=d?"pointermove":l?"touchmove":"mousemove",R=d?"pointerup pointercancel":l?"touchend touchcancel":"mouseup",F="ready",L="resize",W="wheel",z="zoom",Q="image/jpeg",U=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,X=/^data:/,G=/^data:image\/jpeg;base64,/,K=/^img|canvas$/i,Z={viewMode:0,dragMode:E,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},tt=Number.isNaN||c.isNaN;function et(t){return"number"==typeof t&&!tt(t)}var it=function(t){return t>0&&t<1/0};function nt(t){return void 0===t}function at(e){return"object"===t(e)&&null!==e}var ot=Object.prototype.hasOwnProperty;function st(t){if(!at(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&ot.call(i,"isPrototypeOf")}catch(t){return!1}}function rt(t){return"function"==typeof t}var ct=Array.prototype.slice;function lt(t){return Array.from?Array.from(t):ct.call(t)}function dt(t,e){return t&&rt(e)&&(Array.isArray(t)||et(t.length)?lt(t).forEach((function(i,n){e.call(t,i,n,t)})):at(t)&&Object.keys(t).forEach((function(i){e.call(t,t[i],i,t)}))),t}var pt=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return at(t)&&i.length>0&&i.forEach((function(e){at(e)&&Object.keys(e).forEach((function(i){t[i]=e[i]}))})),t},mt=/\.\d*(?:0|9){12}\d*$/;function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return mt.test(t)?Math.round(t*e)/e:t}var ht=/^width|height|left|top|marginLeft|marginTop$/;function ft(t,e){var i=t.style;dt(e,(function(t,e){ht.test(e)&&et(t)&&(t="".concat(t,"px")),i[e]=t}))}function yt(t,e){if(e)if(et(t.length))dt(t,(function(t){yt(t,e)}));else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function _t(t,e){e&&(et(t.length)?dt(t,(function(t){_t(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function bt(t,e,i){e&&(et(t.length)?dt(t,(function(t){bt(t,e,i)})):i?yt(t,e):_t(t,e))}var gt=/([a-z\d])([A-Z])/g;function qt(t){return t.replace(gt,"$1-$2").toLowerCase()}function vt(t,e){return at(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(qt(e)))}function wt(t,e,i){at(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(qt(e)),i)}var xt=/\s\s*/,$t=function(){var t=!1;if(r){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});c.addEventListener("test",i,n),c.removeEventListener("test",i,n)}return t}();function Jt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;e.trim().split(xt).forEach((function(e){if(!$t){var o=t.listeners;o&&o[e]&&o[e][i]&&(a=o[e][i],delete o[e][i],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,a,n)}))}function kt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;e.trim().split(xt).forEach((function(e){if(n.once&&!$t){var o=t.listeners,s=void 0===o?{}:o;a=function(){delete s[e][i],t.removeEventListener(e,a,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];i.apply(t,r)},s[e]||(s[e]={}),s[e][i]&&t.removeEventListener(e,s[e][i],n),s[e][i]=a,t.listeners=s}t.addEventListener(e,a,n)}))}function Ot(t,e,i){var n;return rt(Event)&&rt(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function Ct(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Dt=c.location,Nt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Yt(t){var e=t.match(Nt);return null!==e&&(e[1]!==Dt.protocol||e[2]!==Dt.hostname||e[3]!==Dt.port)}function St(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function Et(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,a=t.translateX,o=t.translateY,s=[];et(a)&&0!==a&&s.push("translateX(".concat(a,"px)")),et(o)&&0!==o&&s.push("translateY(".concat(o,"px)")),et(e)&&0!==e&&s.push("rotate(".concat(e,"deg)")),et(i)&&1!==i&&s.push("scaleX(".concat(i,")")),et(n)&&1!==n&&s.push("scaleY(".concat(n,")"));var r=s.length?s.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}function jt(t,e){var i=t.pageX,n=t.pageY,o={endX:i,endY:n};return e?o:a({startX:i,startY:n},o)}function Vt(t){var e=t.aspectRatio,i=t.height,n=t.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=it(n),s=it(i);if(o&&s){var r=i*e;"contain"===a&&r>n||"cover"===a&&r<n?i=n/e:n=i*e}else o?i=n/e:s&&(n=i*e);return{width:n,height:i}}var At=String.fromCharCode;var It=/^data:.*,/;function Tt(t){var e,i=new DataView(t);try{var n,a,o;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var s=i.byteLength,r=2;r+1<s;){if(255===i.getUint8(r)&&225===i.getUint8(r+1)){a=r;break}r+=1}if(a){var c=a+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var a=e;a<i;a+=1)n+=At(t.getUint8(a));return n}(i,a+4,4)){var l=i.getUint16(c);if(((n=18761===l)||19789===l)&&42===i.getUint16(c+2,n)){var d=i.getUint32(c+4,n);d>=8&&(o=c+d)}}}if(o){var p,m,u=i.getUint16(o,n);for(m=0;m<u;m+=1)if(p=o+12*m+2,274===i.getUint16(p,n)){p+=8,e=i.getUint16(p,n),i.setUint16(p,1,n);break}}}catch(t){e=1}return e}var Mt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,a=Number(e.minContainerWidth),o=Number(e.minContainerHeight);yt(n,k),_t(t,k);var s={width:Math.max(i.offsetWidth,a>=0?a:200),height:Math.max(i.offsetHeight,o>=0?o:100)};this.containerData=s,ft(n,{width:s.width,height:s.height}),yt(t,k),_t(n,k)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,a=n?e.naturalHeight:e.naturalWidth,o=n?e.naturalWidth:e.naturalHeight,s=a/o,r=t.width,c=t.height;t.height*s>t.width?3===i?r=t.height*s:c=t.width/s:3===i?c=t.width/s:r=t.height*s;var l={aspectRatio:s,naturalWidth:a,naturalHeight:o,width:r,height:c};this.canvasData=l,this.limited=1===i||2===i,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(t.width-l.width)/2,l.top=(t.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=pt({},l)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,a=this.canvasData,o=this.cropBoxData,s=i.viewMode,r=a.aspectRatio,c=this.cropped&&o;if(t){var l=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;s>1?(l=Math.max(l,n.width),d=Math.max(d,n.height),3===s&&(d*r>l?l=d*r:d=l/r)):s>0&&(l?l=Math.max(l,c?o.width:0):d?d=Math.max(d,c?o.height:0):c&&(l=o.width,(d=o.height)*r>l?l=d*r:d=l/r));var p=Vt({aspectRatio:r,width:l,height:d});l=p.width,d=p.height,a.minWidth=l,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(s>(c?0:1)){var m=n.width-a.width,u=n.height-a.height;a.minLeft=Math.min(0,m),a.minTop=Math.min(0,u),a.maxLeft=Math.max(0,m),a.maxTop=Math.max(0,u),c&&this.limited&&(a.minLeft=Math.min(o.left,o.left+(o.width-a.width)),a.minTop=Math.min(o.top,o.top+(o.height-a.height)),a.maxLeft=o.left,a.maxTop=o.top,2===s&&(a.width>=n.width&&(a.minLeft=Math.min(0,m),a.maxLeft=Math.max(0,m)),a.height>=n.height&&(a.minTop=Math.min(0,u),a.maxTop=Math.max(0,u))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=n.width,a.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var a=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var a=n%90*Math.PI/180,o=Math.sin(a),s=Math.cos(a),r=e*s+i*o,c=e*o+i*s;return n>90?{width:c,height:r}:{width:r,height:c}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),o=a.width,s=a.height,r=i.width*(o/i.naturalWidth),c=i.height*(s/i.naturalHeight);i.left-=(r-i.width)/2,i.top-=(c-i.height)/2,i.width=r,i.height=c,i.aspectRatio=o/s,i.naturalWidth=o,i.naturalHeight=s,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,ft(this.canvas,pt({width:i.width,height:i.height},Et({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),a=i.naturalHeight*(e.height/e.naturalHeight);pt(i,{width:n,height:a,left:(e.width-n)/2,top:(e.height-a)/2}),ft(this.image,pt({width:i.width,height:i.height},Et(pt({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,a={width:e.width,height:e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*n),a.height=Math.max(a.minHeight,a.height*n),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=pt({},a)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,a=this.canvasData,o=this.cropBoxData,s=this.limited,r=i.aspectRatio;if(t){var c=Number(i.minCropBoxWidth)||0,l=Number(i.minCropBoxHeight)||0,d=s?Math.min(n.width,a.width,a.width+a.left,n.width-a.left):n.width,p=s?Math.min(n.height,a.height,a.height+a.top,n.height-a.top):n.height;c=Math.min(c,n.width),l=Math.min(l,n.height),r&&(c&&l?l*r>c?l=c/r:c=l*r:c?l=c/r:l&&(c=l*r),p*r>d?p=d/r:d=p*r),o.minWidth=Math.min(c,d),o.minHeight=Math.min(l,p),o.maxWidth=d,o.maxHeight=p}e&&(s?(o.minLeft=Math.max(0,a.left),o.minTop=Math.max(0,a.top),o.maxLeft=Math.min(n.width,a.left+a.width)-o.width,o.maxTop=Math.min(n.height,a.top+a.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=n.width-o.width,o.maxTop=n.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&wt(this.face,Y,i.width>=e.width&&i.height>=e.height?h:m),ft(this.cropBox,pt({width:i.width,height:i.height},Et({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ot(this.element,A,this.getData())}},Ht={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,a=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=n,o.alt=a,this.viewBox.appendChild(o),this.viewBoxImage=o,i){var s=i;"string"==typeof i?s=t.ownerDocument.querySelectorAll(i):i.querySelector&&(s=[i]),this.previews=s,dt(s,(function(t){var i=document.createElement("img");wt(t,S,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=a,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)}))}},resetPreview:function(){dt(this.previews,(function(t){var e=vt(t,S);ft(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(at(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(qt(e)))}(t,S)}))},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,a=i.height,o=t.width,s=t.height,r=i.left-e.left-t.left,c=i.top-e.top-t.top;this.cropped&&!this.disabled&&(ft(this.viewBoxImage,pt({width:o,height:s},Et(pt({translateX:-r,translateY:-c},t)))),dt(this.previews,(function(e){var i=vt(e,S),l=i.width,d=i.height,p=l,m=d,u=1;n&&(m=a*(u=l/n)),a&&m>d&&(p=n*(u=d/a),m=d),ft(e,{width:p,height:m}),ft(e.getElementsByTagName("img")[0],pt({width:o*u,height:s*u},Et(pt({translateX:-r*u,translateY:-c*u},t))))})))}},Pt={bind:function(){var t=this.element,e=this.options,i=this.cropper;rt(e.cropstart)&&kt(t,M,e.cropstart),rt(e.cropmove)&&kt(t,T,e.cropmove),rt(e.cropend)&&kt(t,I,e.cropend),rt(e.crop)&&kt(t,A,e.crop),rt(e.zoom)&&kt(t,z,e.zoom),kt(i,P,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&kt(i,W,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&kt(i,H,this.onDblclick=this.dblclick.bind(this)),kt(t.ownerDocument,B,this.onCropMove=this.cropMove.bind(this)),kt(t.ownerDocument,R,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&kt(window,L,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;rt(e.cropstart)&&Jt(t,M,e.cropstart),rt(e.cropmove)&&Jt(t,T,e.cropmove),rt(e.cropend)&&Jt(t,I,e.cropend),rt(e.crop)&&Jt(t,A,e.crop),rt(e.zoom)&&Jt(t,z,e.zoom),Jt(i,P,this.onCropStart),e.zoomable&&e.zoomOnWheel&&Jt(i,W,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Jt(i,H,this.onDblclick),Jt(t.ownerDocument,B,this.onCropMove),Jt(t.ownerDocument,R,this.onCropEnd),e.responsive&&Jt(window,L,this.onResize)}},Bt={resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,a=this.containerData,o=n.offsetWidth/a.width;if(1!==o||n.offsetHeight!==a.height)i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(dt(t,(function(e,i){t[i]=e*o}))),this.setCropBoxData(dt(e,(function(t,i){e[i]=t*o}))))}},dblclick:function(){var t,e;this.disabled||this.options.dragMode===V||this.setDragMode((t=this.dragBox,e=$,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?j:E))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(et(e)&&1!==e||et(i)&&0!==i||t.ctrlKey))){var n,a=this.options,o=this.pointers;t.changedTouches?dt(t.changedTouches,(function(t){o[t.identifier]=jt(t)})):o[t.pointerId||0]=jt(t),n=Object.keys(o).length>1&&a.zoomable&&a.zoomOnTouch?f:vt(t.target,Y),U.test(n)&&!1!==Ot(this.element,M,{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,n===u&&(this.cropping=!0,yt(this.dragBox,D)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==Ot(this.element,T,{originalEvent:t,action:e})&&(t.changedTouches?dt(t.changedTouches,(function(t){pt(i[t.identifier]||{},jt(t,!0))})):pt(i[t.pointerId||0]||{},jt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?dt(t.changedTouches,(function(t){delete i[t.identifier]})):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,bt(this.dragBox,D,this.cropped&&this.options.modal)),Ot(this.element,I,{originalEvent:t,action:e}))}}},Rt={change:function(t){var e,i=this.options,n=this.canvasData,o=this.containerData,s=this.cropBoxData,r=this.pointers,c=this.action,l=i.aspectRatio,d=s.left,p=s.top,$=s.width,J=s.height,O=d+$,C=p+J,D=0,N=0,Y=o.width,S=o.height,E=!0;!l&&t.shiftKey&&(l=$&&J?$/J:1),this.limited&&(D=s.minLeft,N=s.minTop,Y=D+Math.min(o.width,n.width,n.left+n.width),S=N+Math.min(o.height,n.height,n.top+n.height));var j=r[Object.keys(r)[0]],V={x:j.endX-j.startX,y:j.endY-j.startY},A=function(t){switch(t){case y:O+V.x>Y&&(V.x=Y-O);break;case _:d+V.x<D&&(V.x=D-d);break;case g:p+V.y<N&&(V.y=N-p);break;case b:C+V.y>S&&(V.y=S-C)}};switch(c){case m:d+=V.x,p+=V.y;break;case y:if(V.x>=0&&(O>=Y||l&&(p<=N||C>=S))){E=!1;break}A(y),($+=V.x)<0&&(c=_,d-=$=-$),l&&(J=$/l,p+=(s.height-J)/2);break;case g:if(V.y<=0&&(p<=N||l&&(d<=D||O>=Y))){E=!1;break}A(g),J-=V.y,p+=V.y,J<0&&(c=b,p-=J=-J),l&&($=J*l,d+=(s.width-$)/2);break;case _:if(V.x<=0&&(d<=D||l&&(p<=N||C>=S))){E=!1;break}A(_),$-=V.x,d+=V.x,$<0&&(c=y,d-=$=-$),l&&(J=$/l,p+=(s.height-J)/2);break;case b:if(V.y>=0&&(C>=S||l&&(d<=D||O>=Y))){E=!1;break}A(b),(J+=V.y)<0&&(c=g,p-=J=-J),l&&($=J*l,d+=(s.width-$)/2);break;case q:if(l){if(V.y<=0&&(p<=N||O>=Y)){E=!1;break}A(g),J-=V.y,p+=V.y,$=J*l}else A(g),A(y),V.x>=0?O<Y?$+=V.x:V.y<=0&&p<=N&&(E=!1):$+=V.x,V.y<=0?p>N&&(J-=V.y,p+=V.y):(J-=V.y,p+=V.y);$<0&&J<0?(c=x,p-=J=-J,d-=$=-$):$<0?(c=v,d-=$=-$):J<0&&(c=w,p-=J=-J);break;case v:if(l){if(V.y<=0&&(p<=N||d<=D)){E=!1;break}A(g),J-=V.y,p+=V.y,$=J*l,d+=s.width-$}else A(g),A(_),V.x<=0?d>D?($-=V.x,d+=V.x):V.y<=0&&p<=N&&(E=!1):($-=V.x,d+=V.x),V.y<=0?p>N&&(J-=V.y,p+=V.y):(J-=V.y,p+=V.y);$<0&&J<0?(c=w,p-=J=-J,d-=$=-$):$<0?(c=q,d-=$=-$):J<0&&(c=x,p-=J=-J);break;case x:if(l){if(V.x<=0&&(d<=D||C>=S)){E=!1;break}A(_),$-=V.x,d+=V.x,J=$/l}else A(b),A(_),V.x<=0?d>D?($-=V.x,d+=V.x):V.y>=0&&C>=S&&(E=!1):($-=V.x,d+=V.x),V.y>=0?C<S&&(J+=V.y):J+=V.y;$<0&&J<0?(c=q,p-=J=-J,d-=$=-$):$<0?(c=w,d-=$=-$):J<0&&(c=v,p-=J=-J);break;case w:if(l){if(V.x>=0&&(O>=Y||C>=S)){E=!1;break}A(y),J=($+=V.x)/l}else A(b),A(y),V.x>=0?O<Y?$+=V.x:V.y>=0&&C>=S&&(E=!1):$+=V.x,V.y>=0?C<S&&(J+=V.y):J+=V.y;$<0&&J<0?(c=v,p-=J=-J,d-=$=-$):$<0?(c=x,d-=$=-$):J<0&&(c=q,p-=J=-J);break;case h:this.move(V.x,V.y),E=!1;break;case f:this.zoom(function(t){var e=a({},t),i=0;return dt(t,(function(t,n){delete e[n],dt(e,(function(e){var n=Math.abs(t.startX-e.startX),a=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),s=Math.abs(t.endY-e.endY),r=Math.sqrt(n*n+a*a),c=(Math.sqrt(o*o+s*s)-r)/r;Math.abs(c)>Math.abs(i)&&(i=c)}))})),i}(r),t),E=!1;break;case u:if(!V.x||!V.y){E=!1;break}e=Ct(this.cropper),d=j.startX-e.left,p=j.startY-e.top,$=s.minWidth,J=s.minHeight,V.x>0?c=V.y>0?w:q:V.x<0&&(d-=$,c=V.y>0?x:v),V.y<0&&(p-=J),this.cropped||(_t(this.cropBox,k),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}E&&(s.width=$,s.height=J,s.left=d,s.top=p,this.action=c,this.renderCropBox()),dt(r,(function(t){t.startX=t.endX,t.startY=t.endY}))}},Ft={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&yt(this.dragBox,D),_t(this.cropBox,k),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=pt({},this.initialImageData),this.canvasData=pt({},this.initialCanvasData),this.cropBoxData=pt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(pt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),_t(this.dragBox,D),yt(this.cropBox,k)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,dt(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,_t(this.cropper,J)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,yt(this.cropper,J)),this},destroy:function(){var t=this.element;return t[p]?(t[p]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,a=i.top;return this.moveTo(nt(t)?t:n+Number(t),nt(e)?e:a+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(et(t)&&(i.left=t,n=!0),et(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,a=this.canvasData,o=a.width,s=a.height,r=a.naturalWidth,c=a.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var l=r*t,d=c*t;if(!1===Ot(this.element,z,{ratio:t,oldRatio:o/r,originalEvent:i}))return this;if(i){var p=this.pointers,m=Ct(this.cropper),u=p&&Object.keys(p).length?function(t){var e=0,i=0,n=0;return dt(t,(function(t){var a=t.startX,o=t.startY;e+=a,i+=o,n+=1})),{pageX:e/=n,pageY:i/=n}}(p):{pageX:i.pageX,pageY:i.pageY};a.left-=(l-o)*((u.pageX-m.left-a.left)/o),a.top-=(d-s)*((u.pageY-m.top-a.top)/s)}else st(e)&&et(e.x)&&et(e.y)?(a.left-=(l-o)*((e.x-a.left)/o),a.top-=(d-s)*((e.y-a.top)/s)):(a.left-=(l-o)/2,a.top-=(d-s)/2);a.width=l,a.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return et(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,et(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(et(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(et(t)&&(i.scaleX=t,n=!0),et(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,a=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-a.left,y:o.top-a.top,width:o.width,height:o.height};var s=n.width/n.naturalWidth;if(dt(t,(function(e,i){t[i]=e/s})),e){var r=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=r-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,a={};if(this.ready&&!this.disabled&&st(t)){var o=!1;e.rotatable&&et(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,o=!0),e.scalable&&(et(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,o=!0),et(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=i.width/i.naturalWidth;et(t.x)&&(a.left=t.x*s+n.left),et(t.y)&&(a.top=t.y*s+n.top),et(t.width)&&(a.width=t.width*s),et(t.height)&&(a.height=t.height*s),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?pt({},this.containerData):{}},getImageData:function(){return this.sized?pt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&dt(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){e[i]=t[i]})),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&st(t)&&(et(t.left)&&(e.left=t.left),et(t.top)&&(e.top=t.top),et(t.width)?(e.width=t.width,e.height=t.width/i):et(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,a=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&st(t)&&(et(t.left)&&(n.left=t.left),et(t.top)&&(n.top=t.top),et(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),et(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),a&&(e?n.height=n.width/a:i&&(n.width=n.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=function(t,e,i,n){var a=e.aspectRatio,s=e.naturalWidth,r=e.naturalHeight,c=e.rotate,l=void 0===c?0:c,d=e.scaleX,p=void 0===d?1:d,m=e.scaleY,u=void 0===m?1:m,h=i.aspectRatio,f=i.naturalWidth,y=i.naturalHeight,_=n.fillColor,b=void 0===_?"transparent":_,g=n.imageSmoothingEnabled,q=void 0===g||g,v=n.imageSmoothingQuality,w=void 0===v?"low":v,x=n.maxWidth,$=void 0===x?1/0:x,J=n.maxHeight,k=void 0===J?1/0:J,O=n.minWidth,C=void 0===O?0:O,D=n.minHeight,N=void 0===D?0:D,Y=document.createElement("canvas"),S=Y.getContext("2d"),E=Vt({aspectRatio:h,width:$,height:k}),j=Vt({aspectRatio:h,width:C,height:N},"cover"),V=Math.min(E.width,Math.max(j.width,f)),A=Math.min(E.height,Math.max(j.height,y)),I=Vt({aspectRatio:a,width:$,height:k}),T=Vt({aspectRatio:a,width:C,height:N},"cover"),M=Math.min(I.width,Math.max(T.width,s)),H=Math.min(I.height,Math.max(T.height,r)),P=[-M/2,-H/2,M,H];return Y.width=ut(V),Y.height=ut(A),S.fillStyle=b,S.fillRect(0,0,V,A),S.save(),S.translate(V/2,A/2),S.rotate(l*Math.PI/180),S.scale(p,u),S.imageSmoothingEnabled=q,S.imageSmoothingQuality=w,S.drawImage.apply(S,[t].concat(o(P.map((function(t){return Math.floor(ut(t))}))))),S.restore(),Y}(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),a=n.x,s=n.y,r=n.width,c=n.height,l=i.width/Math.floor(e.naturalWidth);1!==l&&(a*=l,s*=l,r*=l,c*=l);var d=r/c,p=Vt({aspectRatio:d,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),m=Vt({aspectRatio:d,width:t.minWidth||0,height:t.minHeight||0},"cover"),u=Vt({aspectRatio:d,width:t.width||(1!==l?i.width:r),height:t.height||(1!==l?i.height:c)}),h=u.width,f=u.height;h=Math.min(p.width,Math.max(m.width,h)),f=Math.min(p.height,Math.max(m.height,f));var y=document.createElement("canvas"),_=y.getContext("2d");y.width=ut(h),y.height=ut(f),_.fillStyle=t.fillColor||"transparent",_.fillRect(0,0,h,f);var b=t.imageSmoothingEnabled,g=void 0===b||b,q=t.imageSmoothingQuality;_.imageSmoothingEnabled=g,q&&(_.imageSmoothingQuality=q);var v,w,x,$,J,k,O=i.width,C=i.height,D=a,N=s;D<=-r||D>O?(D=0,v=0,x=0,J=0):D<=0?(x=-D,D=0,J=v=Math.min(O,r+D)):D<=O&&(x=0,J=v=Math.min(r,O-D)),v<=0||N<=-c||N>C?(N=0,w=0,$=0,k=0):N<=0?($=-N,N=0,k=w=Math.min(C,c+N)):N<=C&&($=0,k=w=Math.min(c,C-N));var Y=[D,N,v,w];if(J>0&&k>0){var S=h/r;Y.push(x*S,$*S,J*S,k*S)}return _.drawImage.apply(_,[i].concat(o(Y.map((function(t){return Math.floor(ut(t))}))))),y},setAspectRatio:function(t){var e=this.options;return this.disabled||nt(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var a=t===E,o=e.movable&&t===j;t=a||o?t:V,e.dragMode=t,wt(i,Y,t),bt(i,$,a),bt(i,N,o),e.cropBoxMovable||(wt(n,Y,t),bt(n,$,a),bt(n,N,o))}return this}},Lt=c.Cropper,Wt=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!K.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=pt({},Z,st(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var i,n,a;return i=t,a=[{key:"noConflict",value:function(){return window.Cropper=Lt,t}},{key:"setDefaults",value:function(t){pt(Z,st(t)&&t)}}],(n=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[p]){if(e[p]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(X.test(t))G.test(t)?this.read((a=t.replace(It,""),o=atob(a),s=new ArrayBuffer(o.length),dt(r=new Uint8Array(s),(function(t,e){r[e]=o.charCodeAt(e)})),s)):this.clone();else{var a,o,s,r,c=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=l,c.onerror=l,c.ontimeout=l,c.onprogress=function(){c.getResponseHeader("content-type")!==Q&&c.abort()},c.onload=function(){e.read(c.response)},c.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&Yt(t)&&i.crossOrigin&&(t=St(t)),c.open("GET",t,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===i.crossOrigin,c.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=Tt(t),a=0,o=1,s=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(At.apply(null,lt(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,Q);var r=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);a=r.rotate,o=r.scaleX,s=r.scaleY}e.rotatable&&(i.rotate=a),e.scalable&&(i.scaleX=o,i.scaleY=s),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&Yt(e)&&(i||(i="anonymous"),n=St(e)),this.crossOrigin=i,this.crossOriginUrl=n;var a=document.createElement("img");i&&(a.crossOrigin=i),a.src=n||e,a.alt=t.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),yt(a,O),t.parentNode.insertBefore(a,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=c.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(c.navigator.userAgent),n=function(e,i){pt(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=pt({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var a=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){n(a.width,a.height),i||o.removeChild(a)},a.src=e.src,i||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(a))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,a=document.createElement("div");a.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=a.querySelector(".".concat(p,"-container")),s=o.querySelector(".".concat(p,"-canvas")),r=o.querySelector(".".concat(p,"-drag-box")),c=o.querySelector(".".concat(p,"-crop-box")),l=c.querySelector(".".concat(p,"-face"));this.container=n,this.cropper=o,this.canvas=s,this.dragBox=r,this.cropBox=c,this.viewBox=o.querySelector(".".concat(p,"-view-box")),this.face=l,s.appendChild(i),yt(t,k),n.insertBefore(o,t.nextSibling),this.isImg||_t(i,O),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,yt(c,k),e.guides||yt(c.getElementsByClassName("".concat(p,"-dashed")),k),e.center||yt(c.getElementsByClassName("".concat(p,"-center")),k),e.background&&yt(o,"".concat(p,"-bg")),e.highlight||yt(l,C),e.cropBoxMovable&&(yt(l,N),wt(l,Y,m)),e.cropBoxResizable||(yt(c.getElementsByClassName("".concat(p,"-line")),k),yt(c.getElementsByClassName("".concat(p,"-point")),k)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),rt(e.ready)&&kt(t,F,e.ready,{once:!0}),Ot(t,F)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),_t(this.element,k))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&e(i.prototype,n),a&&e(i,a),t}();return pt(Wt.prototype,Mt,Ht,Pt,Bt,Rt,Ft),Wt})),function(t){"function"==typeof best_define&&best_define.amd?best_define(["jquery"],t):t(bestJq)}((function(t){var e=function(e,i){this.options=i,this.bestJqbody=t(document.body),this.bestJqelement=t(e),this.bestJqdialog=this.bestJqelement.find(".ymq-modal-dialog"),this.bestJqbackdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.bestJqelement.find(".ymq-modal-content").load(this.options.remote,t.proxy((function(){this.bestJqelement.trigger("loaded.bs.modal")}),this))};function i(i,n){return this.each((function(){var a=t(this),o=a.data("bs.modal"),s=t.extend({},e.DEFAULTS,a.data(),"object"==typeof i&&i);o||a.data("bs.modal",o=new e(this,s)),"string"==typeof i?o[i](n):s.show&&o.show(n)}))}e.VERSION="3.3.7",e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},e.prototype.show=function(i){var n=this,a=t.Event("show.bs.modal",{relatedTarget:i});if(this.bestJqelement.trigger(a),"ymqBootModal"!=this.bestJqelement.attr("id"))return!1;this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.bestJqbody.addClass("ymq-modal-open"),this.escape(),this.resize(),this.bestJqelement.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.bestJqdialog.on("mousedown.dismiss.bs.modal",(function(){n.bestJqelement.one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(n.bestJqelement)&&(n.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var a=t.support.transition&&n.bestJqelement.hasClass("ymq-modal-fade");n.bestJqelement.parent().length||n.bestJqelement.appendTo(n.bestJqbody),n.bestJqelement.show().scrollTop(0),n.adjustDialog(),a&&n.bestJqelement[0].offsetWidth,n.bestJqelement.addClass("in"),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:i});a?n.bestJqdialog.one("bsTransitionEnd",(function(){n.bestJqelement.trigger("focus").trigger(o)})).emulateTransitionEnd(e.TRANSITION_DURATION):n.bestJqelement.trigger("focus").trigger(o)})))},e.prototype.hide=function(i){i&&i.preventDefault(),i=t.Event("hide.bs.modal"),this.bestJqelement.trigger(i),this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.bestJqelement.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.bestJqdialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.bestJqelement.hasClass("ymq-modal-fade")?this.bestJqelement.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){document===t.target||this.bestJqelement[0]===t.target||this.bestJqelement.has(t.target).length||this.bestJqelement.trigger("focus")}),this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.bestJqelement.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.bestJqelement.off("keydown.dismiss.bs.modal")},e.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},e.prototype.hideModal=function(){var t=this;this.bestJqelement.hide(),this.backdrop((function(){t.bestJqbody.removeClass("ymq-modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.bestJqelement.trigger("hidden.bs.modal")}))},e.prototype.removeBackdrop=function(){this.bestJqbackdrop&&this.bestJqbackdrop.remove(),this.bestJqbackdrop=null},e.prototype.backdrop=function(i){var n=this,a=this.bestJqelement.hasClass("ymq-modal-fade")?"ymq-modal-fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&a;if(this.bestJqbackdrop=t(document.createElement("div")).addClass("ymq-modal-backdrop "+a).appendTo(this.bestJqbody),this.bestJqelement.on("click.dismiss.bs.modal",t.proxy((function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.bestJqelement[0].focus():this.hide())}),this)),o&&this.bestJqbackdrop[0].offsetWidth,this.bestJqbackdrop.addClass("in"),!i)return;o?this.bestJqbackdrop.one("bsTransitionEnd",i).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.bestJqbackdrop){this.bestJqbackdrop.removeClass("in");var s=function(){n.removeBackdrop(),i&&i()};t.support.transition&&this.bestJqelement.hasClass("ymq-modal-fade")?this.bestJqbackdrop.one("bsTransitionEnd",s).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):s()}else i&&i()},e.prototype.handleUpdate=function(){this.adjustDialog()},e.prototype.adjustDialog=function(){var t=this.bestJqelement[0].scrollHeight>document.documentElement.clientHeight;this.bestJqelement.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},e.prototype.resetAdjustments=function(){this.bestJqelement.css({paddingLeft:"",paddingRight:""})},e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},e.prototype.setScrollbar=function(){var t=parseInt(this.bestJqbody.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.bestJqbody.css("padding-right",t+this.scrollbarWidth)},e.prototype.resetScrollbar=function(){this.bestJqbody.css("padding-right",this.originalBodyPad)},e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="ymq-modal-scrollbar-measure",this.bestJqbody.append(t);var e=t.offsetWidth-t.clientWidth;return this.bestJqbody[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=i,t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var n=t(this),a=n.attr("href"),o=t(n.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+bestJq)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(a)&&a},o.data(),n.data());n.is("a")&&e.preventDefault(),o.one("show.bs.modal",(function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",(function(){n.is(":visible")&&n.trigger("focus")}))})),i.call(o,s,this)}))}));;(function(window,factory){if(typeof best_define==='function'&&best_define.amd){best_define(factory);}else if(typeof exports==='object'){module.exports=factory();}else{window.jeDate=factory();}})(this,function(){var doc=document,win=window;var jet={},doc=document,regymdzz="YYYY|MM|DD|hh|mm|ss|zz",gr=/\-/g,regymd="YYYY|MM|DD|hh|mm|ss|zz".replace("|zz",""),parseInt=function(n){return window.parseInt(n,10);};var $Q=function(selector,content){content=content||document;return selector.nodeType?selector:content.querySelector(selector);};var jeDate=function(elem,options){var opts=typeof(options)==="function"?options():options;return new jeDatePick(elem,opts);};jeDate.dateVer="V6.5.0";jeDate.extend=jet.extend=function(){var options,name,src,copy,deep=false,target=arguments[0],i=1,length=arguments.length;if(typeof(target)==="boolean")deep=target,target=arguments[1]||{},i=2;if(typeof(target)!=="object"&&typeof(target)!=="function")target={};if(length===i)target=this,--i;for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name],copy=options[name];if(target===copy)continue;if(copy!==undefined)target[name]=copy;}}}
return target;};jeDate.nowDate=function(val,format){format=format||'YYYY-MM-DD hh:mm:ss';if(!isNaN(val))val={DD:val};return jet.parse(jet.getDateTime(val),format);};jeDate.convert=function(obj){obj.format=obj.format||'YYYY-MM-DD hh:mm:ss';obj.addval=obj.addval||[];var mats=jet.reMatch(obj.format),objVal={};jet.each(jet.reMatch(obj.val),function(i,cval){objVal[mats[i]]=parseInt(cval);});var result=new DateTime(obj.addval,objVal),redate={YYYY:result.GetYear(),MM:result.GetMonth(),DD:result.GetDate(),hh:result.GetHours(),mm:result.GetMinutes(),ss:result.GetSeconds()};return redate;};jeDate.valText=function(elem,value){return jet.valText(elem,value);}
jeDate.timeStampDate=function(date,format){format=format||'YYYY-MM-DD hh:mm:ss';var dateTest=(/^(-)?\d{1,10}$/.test(date)||/^(-)?\d{1,13}$/.test(date));if(/^[1-9]*[1-9][0-9]*$/.test(date)&&dateTest){var vdate=parseInt(date);if(/^(-)?\d{1,10}$/.test(vdate)){vdate=vdate*1000;}else if(/^(-)?\d{1,13}$/.test(vdate)){vdate=vdate*1000;}else if(/^(-)?\d{1,14}$/.test(vdate)){vdate=vdate*100;}else{alert("时间戳格式不正确");return;}
var setdate=new Date(vdate);return jet.parse({YYYY:setdate.getFullYear(),MM:jet.digit(setdate.getMonth()+1),DD:jet.digit(setdate.getDate()),hh:jet.digit(setdate.getHours()),mm:jet.digit(setdate.getMinutes()),ss:jet.digit(setdate.getSeconds())},format);}else{var arrs=jet.reMatch(date),newdate=new Date(arrs[0],arrs[1]-1,arrs[2],arrs[3]||0,arrs[4]||0,arrs[5]||0),timeStr=Math.round(newdate.getTime()/1000);return timeStr;}};jeDate.getLunar=function(obj){var lunars=jeLunar(obj.YYYY,parseInt(obj.MM)-1,obj.DD);return{nM:lunars.lnongMonth,nD:lunars.lnongDate,cY:parseInt(lunars.solarYear),cM:parseInt(lunars.solarMonth),cD:parseInt(lunars.solarDate),cW:lunars.inWeekDays,nW:lunars.solarWeekDay};};jeDate.parse=jet.parse=function(ymdhms,format){return format.replace(new RegExp(regymdzz,"g"),function(str,index){return str=="zz"?"00":jet.digit(ymdhms[str]);});}
function DateTime(arr,valObj){var that=this,newdate=new Date(),narr=["FullYear","Month","Date","Hours","Minutes","Seconds"];var vb=jet.extend({YYYY:null,MM:null,DD:null,hh:newdate.getHours(),mm:newdate.getMinutes(),ss:newdate.getSeconds()},valObj);var ND=valObj==undefined?newdate:new Date(vb.YYYY,vb.MM,vb.DD,vb.hh,vb.mm,vb.ss);if((arr||[]).length>0)jet.each(arr,function(i,par){ND["set"+narr[i]](narr[i]=="Month"?parseInt(par)-1:parseInt(par));});that.reDate=function(){return new DateTime();};that.GetValue=function(){return ND;};that.GetYear=function(){return ND.getFullYear();};that.GetMonth=function(){return ND.getMonth()+1;};that.GetDate=function(){return ND.getDate();};that.GetHours=function(){return ND.getHours();};that.GetMinutes=function(){return ND.getMinutes();};that.GetSeconds=function(){return ND.getSeconds();};};jet.extend(jet,{isType:function(obj,type){var firstUper=function(str){str=str.toLowerCase();return str.replace(/\b(\w)|\s(\w)/g,function(m){return m.toUpperCase();});}
return Object.prototype.toString.call(obj)=="[object "+firstUper(type)+"]";},each:function(obj,callback,args){var name,i=0,length=obj.length,iselem=(length===undefined||obj==="function");if(iselem){for(name in obj){if(callback.call(obj[name],name,obj[name])===false){break}}}else{for(;i<length;){if(callback.call(obj[i],i,obj[i++])===false){break}}}
return obj;},on:function(elm,type,fn){if(elm.addEventListener){elm.addEventListener(type,fn,false);return true;}else if(elm.attachEvent){return elm.attachEvent("on"+type,fn);}else{elm["on"+type]=fn;}},isObj:function(obj){for(var i in obj){return true;}
return false;},trim:function(str){return str.replace(/(^\s*)|(\s*$)/g,"");},reMatch:function(str){var smarr=[],maStr="",parti=/(^\w{4}|\w{2}\B)/g;if(jet.isNum(str)){maStr=str.replace(parti,"$1-");}else{maStr=/^[A-Za-z]+$/.test(str)?str.replace(parti,"$1-"):str;}
jet.each(maStr.match(/\w+|d+/g),function(i,val){smarr.push(jet.isNum(val)?parseInt(val):val);});return smarr;},equals:function(arrA,arrB){if(!arrB)return false;if(arrA.length!=arrB.length)return false;for(var i=0,l=arrA.length;i<l;i++){if(arrA[i]instanceof Array&&arrB[i]instanceof Array){if(!arrA[i].equals(arrB[i]))return false;}else if(arrA[i]!=arrB[i]){return false;}}
return true;},docScroll:function(type){type=type?"scrollLeft":"scrollTop";return document.body[type]|document.documentElement[type];},docArea:function(type){return document.documentElement[type?"clientWidth":"clientHeight"];},digit:function(num){return num<10?"0"+(num|0):num;},isNum:function(value){return /^[+-]?\d*\.?\d*$/.test(value)?true:false;},getDaysNum:function(y,m){var num=31,isLeap=(y%100!==0&&y%4===0)||(y%400===0);switch(parseInt(m)){case 2:num=isLeap?29:28;break;case 4:case 6:case 9:case 11:num=30;break;}
return num;},getYM:function(y,m,n){var nd=new Date(y,m-1);nd.setMonth(m-1+n);return{y:nd.getFullYear(),m:nd.getMonth()+1};},prevMonth:function(y,m,n){return jet.getYM(y,m,0-(n||1));},nextMonth:function(y,m,n){return jet.getYM(y,m,n||1);},setCss:function(elem,obj){for(var x in obj)elem.style[x]=obj[x];},html:function(elem,html){return typeof html==="undefined"?elem&&elem.nodeType===1?elem.innerHTML:undefined:typeof html!=="undefined"&&html==true?elem&&elem.nodeType===1?elem.outerHTML:undefined:elem.innerHTML=html;},text:function(elem,value){var innText=document.all?"innerText":"textContent";return typeof value==="undefined"?elem&&elem.nodeType===1?elem[innText]:undefined:elem[innText]=value;},val:function(elem,value){if(typeof value==="undefined"){return elem&&elem.nodeType===1&&typeof elem.value!=="undefined"?elem.value:undefined;}
value=value==null?"":value+"";elem.value=value;},attr:function(elem,value){return elem.getAttribute(value);},hasClass:function(obj,cls){return obj.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));},stopPropagation:function(ev){(ev&&ev.stopPropagation)?ev.stopPropagation():window.event.cancelBubble=true;},template:function(str,data){var strCell=!/[^\w\-\.:]/.test(str)?document.getElementById(str).innerHTML:str;var keys=function(obj){var arr=[];for(arr[arr.length]in obj);return arr;},dataVar=function(obj){var vars='';for(var key in obj){vars+='var '+key+'= $D["'+key+'"];';}
return vars;},compile=function(source,data){var code="var $out='"+source.replace(/[\r\n]/g,'').replace(/^(.+?)\{\%|\%\}(.+?)\{\%|\%\}(.+?)$/g,function(val){return val.replace(/(['"])/g,'\\\$1');}).replace(/\{\%\s*=\s*(.+?)\%\}/g,"';$out+=$1;$out+='").replace(/\{\%(.+?)\%\}/g,"';$1;$out+='")+"';return new String($out);";var vars=dataVar(data),Render=new Function('$D',vars+code);return new Render(data)+'';};return compile(strCell,data);},isValDiv:function(elem){return /textarea|input/.test(elem.tagName.toLocaleLowerCase());},valText:function(elem,value){var cell=$Q(elem),type=jet.isValDiv(cell)?"val":"text";if(value!=undefined){jet[type](cell,value);}else{return jet[type](cell);}},isBool:function(obj){return(obj==undefined||obj==true?true:false);},getDateTime:function(obj){var result=new DateTime(),objVal=jet.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},obj),matArr={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"};jet.each(["ss","mm","hh","DD","MM","YYYY"],function(i,mat){if(!jet.isNum(parseInt(objVal[mat])))return null;var reVal=result.GetValue();if(parseInt(objVal[mat])||parseInt(objVal[mat])==0){reVal["set"+matArr[mat]](result["Get"+matArr[mat]]()+(mat=="MM"?-1:0)+parseInt(objVal[mat]));}});var redate={YYYY:result.GetYear(),MM:result.GetMonth(),DD:result.GetDate(),hh:result.GetHours(),mm:result.GetMinutes(),ss:result.GetSeconds()};return redate;}});function jeDatePick(elem,options){var config={language:{name:"cn",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["日","一","二","三","四","五","六"],times:["小时","分钟","秒数"],timetxt:["时间选择","开始时间","结束时间"],backtxt:"返回日期",clear:"清空",today:"现在",yes:"确定"},format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59",isShow:true,multiPane:true,onClose:true,range:false,trigger:"click",position:[],valiDate:[],isinitVal:false,initDate:{},isTime:true,isClear:true,isToday:true,isYes:true,festival:false,fixed:true,zIndex:2099,method:{},theme:{},shortcut:[],donefun:null,before:null,succeed:null};this.$opts=jet.extend(config,options||{});this.valCell=$Q(elem);this.format=this.$opts.format;this.valCell!=null?this.init():alert(elem+"  ID\u6216\u7C7B\u540D\u4E0D\u5B58\u5728!");jet.extend(this,this.$opts.method);delete this.$opts.method;}
var searandom=function(){var str="",arr=[1,2,3,4,5,6,7,8,9,0];for(var i=0;i<8;i++)str+=arr[Math.round(Math.random()*(arr.length-1))];return str;};var jefix="jefixed",ymdzArr=jet.reMatch(regymdzz),elx="#jedate";jet.extend(jeDatePick.prototype,{init:function(){var that=this,opts=that.$opts,newDate=new Date(),shortArr=[],trigges=opts.trigger,ndate=opts.initDate||[],inVal,range=opts.range,zIndex=opts.zIndex==undefined?10000:opts.zIndex,isShow=jet.isBool(opts.isShow),isinitVal=(opts.isinitVal==undefined||opts.isinitVal==false)?false:true;that.setDatas();opts.before&&opts.before(that.valCell);if(isinitVal&&trigges&&isShow){if(ndate[1]){var addval=jet.getDateTime(ndate[0]);inVal=[{YYYY:addval.YYYY,MM:jet.digit(addval.MM),DD:jet.digit(addval.DD),hh:jet.digit(addval.hh),mm:jet.digit(addval.mm),ss:jet.digit(addval.ss)}];}else{inVal=that.getValue(jet.isObj(ndate[0])?ndate[0]:{});}
if(!range)that.setValue([inVal[0]],opts.format,true);}
var getCurrValue=function(){var mats=jet.reMatch(that.format),isEmpty=that.getValue()!="",curVal=[],parmat=that.dlen==7?"hh:mm:ss":"YYYY-MM"+(that.dlen<=2?"":"-DD");that.selectValue=[jet.parse(jet.getDateTime({}),parmat)];if(that.valCell.value!=''&&that.valCell.value!=undefined){var ymq_result=that.valCell.value.substr(0,10);that.selectValue[0]=ymq_result;}
if(isEmpty&&isShow){var getVal=that.getValue().split(range);jet.each(new Array(range?2:1),function(a){curVal[a]={};jet.each(jet.reMatch(getVal[a]),function(i,val){curVal[a][mats[i]]=parseInt(val);});});if(range)that.selectValue=getVal;}else{var parr=that.getValue({})[0],nmVal=jet.nextMonth(parr.YYYY,parr.MM||jet.getDateTime({}).MM),narr=(that.dlen>2&&that.dlen<=6)?{YYYY:nmVal.y,MM:nmVal.m}:{};curVal=[parr];}
that.selectDate=curVal;return curVal;},ymarr=[];that.minDate="";that.maxDate="";if(!isShow||!trigges)ymarr=getCurrValue();if(!isShow||!trigges){that.minDate=jet.isType(opts.minDate,"function")?opts.minDate(that):opts.minDate;that.maxDate=jet.isType(opts.maxDate,"function")?opts.maxDate(that):opts.maxDate;that.storeData(ymarr[0],ymarr[1]);that.renderDate();opts.succeed&&opts.succeed(that.dateCell);}else{if(trigges){jet.on(that.valCell,trigges,function(){if(document.querySelectorAll(elx).length>0)return;var gvarr=getCurrValue();that.minDate=jet.isType(opts.minDate,"function")?opts.minDate(that):opts.minDate;that.maxDate=jet.isType(opts.maxDate,"function")?opts.maxDate(that):opts.maxDate;that.storeData(gvarr[0],gvarr[1]);that.renderDate();});}}},setDatas:function(){var that=this,opts=that.$opts,range=opts.range,shortArr=[],isShow=jet.isBool(opts.isShow),multi=opts.multiPane;that.$data=jet.extend({year:false,month:false,day:true,time:false,timebtn:false},{shortcut:[],lang:opts.language,yaerlist:[],monthlist:[[],[]],ymlist:[[],[]],daylist:[[],[]],clear:opts.isClear,today:range?false:opts.isToday,yes:opts.isYes,pane:multi?1:2});if(opts.shortcut.length>0){jet.each(opts.shortcut,function(i,short){var tarr=[],shval=jet.isType(short.val,"function")?short.val():short.val;if(jet.isType(shval,"object")){for(var s in shval)tarr.push(s+':'+shval[s]);shortArr.push(jet.extend({},{name:short.name,val:"{"+tarr.join('#')+"}"}));}});that.$data.shortcut=shortArr;}
that.dlen=(function(){var mats=jet.reMatch(that.format),marr=[];jet.each(ymdzArr,function(i,val){jet.each(mats,function(m,mval){if(val==mval)marr.push(mval);});});var matlen=marr.length,lens=(marr[0]=="hh")&&matlen<=3?7:matlen;return lens;})();that.$data.dlen=that.dlen;that.timeInspect=false;if(that.dlen==1){jet.extend(that.$data,{year:true,day:false});}else if(that.dlen==2){jet.extend(that.$data,{month:true,day:false});}else if(that.dlen>3&&that.dlen<=6){that.$data.timebtn=true;}else if(that.dlen==7){jet.extend(that.$data,{day:false,time:true});}
if(!isShow){that.$data.clear=false;that.$data.yes=false;}},renderDate:function(){var that=this,opts=that.$opts,isShow=jet.isBool(opts.isShow),elxID=!isShow?elx+searandom():elx,setzin={"zIndex":(opts.zIndex==undefined?10000:opts.zIndex)};if(that.dateCell==undefined){that.dateCell=document.createElement("div");that.dateCell.id=elxID.replace(/\#/g,"");that.dateCell.className=elx.replace(/\#/g,"")+" "+(opts.shortcut.length>0?" leftmenu":"");that.dateCell.setAttribute("author","chen guojun");}
jet.html(that.dateCell,jet.template(that.dateTemplate(),that.$data));if(jet.isObj(opts.theme)){var styleDiv=document.createElement("style"),stCell=".jedate"+searandom(),t=opts.theme,BG="background-color:"+t.bgcolor,WC="color:"+(t.color==undefined?"#FFFFFF":t.color),OTH=(t.pnColor==undefined?"":"color:"+t.pnColor+";");that.dateCell.className=that.dateCell.className+" "+stCell.replace(/^./g,"");styleDiv.setAttribute("type","text/css");styleDiv.innerHTML=stCell+" .jedate-menu p:hover{"+BG+";"+WC+";}"+stCell+" .jedate-header em{"+WC+";}"+
stCell+" .jedate-content .yeartable td.action span,"+stCell+" .jedate-content .monthtable td.action span,"+
stCell+" .jedate-content .yeartable td.action span:hover,"+stCell+" .jedate-content .monthtable td.action span:hover{"+BG+";border:1px "+t.bgcolor+" solid;"+WC+";}"+stCell+" .jedate-content .daystable td.action,"+stCell+" .jedate-content .daystable td.action:hover,"+
stCell+" .jedate-content .daystable td.action .lunar,"+stCell+" .jedate-header,"+stCell+" .jedate-time .timeheader,"+
stCell+" .jedate-time .hmslist ul li.action,"+stCell+" .jedate-time .hmslist ul li.action:hover,"+
stCell+" .jedate-time .hmslist ul li.disabled.action,"+stCell+" .jedate-footbtn .timecon,"+stCell+" .jedate-footbtn .btnscon span{"+BG+";"+WC+";}"+
stCell+" .jedate-content .daystable td.other,"+stCell+" .jedate-content .daystable td.other .nolunar,"+stCell+" .jedate-content .daystable td.other .lunar{"+OTH+"}"+stCell+" .jedate-content .daystable td.contain,"+stCell+" .jedate-content .daystable td.contain:hover{background-"+OTH+"}";that.dateCell.appendChild(styleDiv);}
that.compileBindNode(that.dateCell);if(document.querySelectorAll(elxID).length>0)document.body.removeChild($Q(elxID));!isShow?that.valCell.appendChild(that.dateCell):document.body.appendChild(that.dateCell);jet.setCss(that.dateCell,jet.extend({position:(!isShow?"relative":(opts.fixed==true?"absolute":"fixed"))},isShow?setzin:{}));that.methodEventBind();if(that.dlen==7||(that.dlen>3&&that.dlen<=6))that.locateScroll();if(opts.festival&&opts.language.name=="cn")that.showFestival();if(isShow){that.dateOrien(that.dateCell,that.valCell);that.blankArea();}},setValue:function(fnStr,matStr,bool){var that=this,valCell=that.valCell,strVal;matStr=matStr||that.format;if((typeof fnStr=='string')&&fnStr!=''){var sprange=fnStr.split(that.$opts.range),inArr=[];jet.each(sprange,function(i,sval){var reVal=jet.reMatch(sval),inObj={};jet.each(jet.reMatch(matStr),function(r,val){inObj[val]=reVal[r];});inArr.push(inObj);});strVal=inArr;}else{strVal=fnStr;}
var vals=that.parseValue(strVal,matStr);if(bool!=false)jet.valText(valCell,vals);return vals;},getValue:function(valobj){var that=this,valCell=that.valCell,opts=that.$opts,reObj,result=new DateTime().reDate(),dateY=result.GetYear(),dateM=result.GetMonth(),dateD=result.GetDate(),timeh=result.GetHours(),timem=result.GetMinutes(),times=result.GetSeconds();if(valobj==undefined&&jet.isBool(opts.isShow)){reObj=jet.valText(valCell);}else{var isValShow=jet.isBool(opts.isShow)?(jet.valText(valCell)==""):!jet.isBool(opts.isShow),objarr=jet.extend({YYYY:null,MM:null,DD:null},valobj||{}),ranMat=[],newArr=new Array(2),unObj=function(obj){return[(objarr[obj]==undefined||objarr[obj]==null),objarr[obj]];},defObj=[{YYYY:dateY,MM:dateM,DD:dateD,hh:timeh,mm:timem,ss:times,zz:00},{YYYY:dateY,MM:dateM,DD:dateD,hh:timeh,mm:timem,ss:times,zz:00}];if(isValShow){jet.each(newArr,function(i){var inObj={};jet.each(ymdzArr,function(r,val){inObj[val]=parseInt(unObj(val)[0]?defObj[i][val]:unObj(val)[1]);});ranMat.push(jet.extend(defObj[i],inObj));});}else{var isunRange=opts.range!=false,initVal=that.getValue(),spVal=initVal.split(opts.range),reMat=jet.reMatch(that.format);jet.each(newArr,function(i){var inObj={},reVal=isunRange?jet.reMatch(spVal[i]):jet.reMatch(initVal);jet.each(reMat,function(r,val){inObj[val]=reVal[r];});var exVal=jet.extend(inObj,valobj||{});ranMat.push(jet.extend(defObj[i],exVal));});}
reObj=ranMat;}
return reObj;},storeData:function(curr,next){next=next||{};var that=this,opts=that.$opts,multi=opts.multiPane,valCell=that.valCell,days=new Date().getDate(),DTS=that.$data,isnext=jet.isObj(next),RES={yearlist:[],monthlist:[[],[]],daylist:[],daytit:[],timelist:[]},seltime,cday=curr.DD==null?days:curr.DD,nday=next.DD==null?days:next.DD,timeA={hh:curr.hh,mm:curr.mm,ss:curr.ss},timeB={hh:next.hh||0,mm:next.mm||0,ss:next.ss||0};RES.yearlist.push(that.eachYear(parseInt(curr.YYYY),1));if(multi==false){var yearNext=isnext?next.YYYY:curr.YYYY;RES.yearlist.push(that.eachYear(parseInt(yearNext),2));}
RES.monthlist[0]=that.eachMonth(curr.YYYY,0);if(multi==false){var monthNext=isnext?next.YYYY:curr.YYYY+1;RES.monthlist[1]=that.eachMonth(curr.YYYY+1,1);}
RES.daylist.push(that.eachDays(curr.YYYY,curr.MM,cday,0));RES.daytit.push({YYYY:curr.YYYY,MM:curr.MM});if(multi==false){var dayNext=jet.nextMonth(curr.YYYY,curr.MM);RES.daylist.push(that.eachDays(dayNext.y,dayNext.m,nday,1));RES.daytit.push({YYYY:dayNext.y,MM:dayNext.m});}
that.selectTime=[timeA,timeB];RES.timelist.push(that.eachTime(timeA,1));if(multi==false){seltime=that.dlen==7&&opts.range&&!isnext?timeA:timeB;if(that.dlen==7&&opts.range&&jet.valText(valCell)==""){that.selectTime[1]=jet.extend(timeB,timeA);}
RES.timelist.push(that.eachTime(seltime,2));}
jet.extend(that.$data,RES);},dateTemplate:function(){var that=this,opts=that.$opts,multi=opts.multiPane,YMDStr="",hmsStr="",lang=opts.language,ytxt=lang.name=="cn"?"年":"",mtxt=lang.name=="cn"?"月":"";var ymvals=multi?'{%=ymlist[0].YYYY%}-{%=ymlist[0].MM%}':'{%=ymlist[0].YYYY%}-{%=ymlist[0].MM%}#{%=ymlist[ynidx].YYYY%}-{%=ymlist[ynidx].MM%}';var aowArr=(function(){var butArr=[],ismu=multi?"11":"23";if(that.dlen==1){butArr=['{%=yearlist[i][0].y-'+ismu+'%}','{%=yearlist[i][yearlist[i].length-1].y%}'];}else if(that.dlen==2){butArr=multi?['{%=yearlist[0][0].y-1%}','{%=yearlist[0][0].y+1%}']:['{%=yearlist[i][0].y-'+ismu+'%}','{%=yearlist[i][yearlist[i].length-1].y%}'];}else if(that.dlen>2&&that.dlen<=6){butArr=['{%=yearlist[0][0].y-1%}','{%=yearlist[0][0].y+1%}'];}
return butArr;})();var lyPrev='<em class="yearprev yprev jedatefont" @on="yearBtn(lprev,'+aowArr[0]+')"></em>',lyNext='<em class="yearnext ynext jedatefont" on="yearBtn(lnext,'+aowArr[2]+')"></em>',ryPrev='<em class="yearprev yprev jedatefont" on="yearBtn(rprev,'+aowArr[3]+')"></em>',ryNext='<em class="yearnext ynext jedatefont" @on="yearBtn(rnext,'+aowArr[1]+')"></em>',mPrev='{% if(dlen>2){ %}<em class="monthprev mprev jedatefont" @on="monthBtn(mprev,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})"></em>{% } %}',mNext='{% if(dlen>2){ %}<em class="monthnext mnext jedatefont" @on="monthBtn(mnext,{%=daytit[i].YYYY%}-{%=daytit[i].MM%})"></em>{% } %}';var yaerHtml='<table class="yeartable year{%= i==0 ? "left":"right"%}" style="display:{%=year ? "block":"none"%};"><tbody><tr>'+
'{% for(var y=0;y<=11;y++){ %}<td class="{%=yearlist[i][y].style%}" @on="yearClick({%=yearlist[i][y].y%})"><span>{%=yearlist[i][y].y%}'+ytxt+'</span></td>{% if((y+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>';var monthHtml='<table class="monthtable month{%= i==0 ? "left":"right"%}" style="display:{%=month ? "block":"none"%};"><tbody><tr>'+
'{% for(var m=0;m<=11;m++){ %}<td class="{%=monthlist[i][m].style%}" ym="{%=monthlist[i][m].y%}-{%=monthlist[i][m].m%}" @on="monthClick({%=monthlist[i][m].y%}-{%=monthlist[i][m].m%})"><span>{%=monthlist[i][m].m%}'+mtxt+'</span></td>{% if((m+1)%3==0){ %} </tr>{% } %} {% } %} </tbody></table>';var daysHtml='<table class="daystable days{%= i==0 ? "left":"right"%}" style="display:{%=day ? "block":"none"%};"><thead><tr>'+
'{% for(var w=0;w<lang.weeks.length;w++){ %} <th>{%=lang.weeks[w]%}</th> {% } %}</tr></thead><tbody>'+
'<tr>{% for(var d=0;d<=41;d++){ %}<td class="{%=daylist[i][d].style%}" ymd="{%=daylist[i][d].ymd%}" @on="daysClick({%=daylist[i][d].ymd%})">{%=daylist[i][d].day%}</td>{% if((d+1)%7==0){ %} </tr>{% } %} {% } %} </tbody></table>';var hmsHtml='<div class="jedate-time">{% for(var h=0;h<timelist.length;h++){ %}<div class="timepane"><div class="timeheader">{%= timelist.length == 1 ? lang.timetxt[0]:lang.timetxt[h+1]%}</div><div class="timecontent">'+
'<div class="hmstitle"><p>{%=lang.times[0]%}</p><p>{%=lang.times[1]%}</p><p>{%=lang.times[2]%}</p></div>'+
'<div class="hmslist">{% for(var t=0;t<3;t++){ %}<div class="hmsauto"><ul>{% for(var s=0;s<timelist[h][t].length;s++){ %}<li class="{%=timelist[h][t][s].style%}" @on="hmsClick({%= h %},{%= h>0?3+t:t %})">{%= timelist[h][t][s].hms < 10 ? "0" + timelist[h][t][s].hms :timelist[h][t][s].hms %}</li>{% } %}</ul></div>{% } %}</div></div>'+'</div>{% } %}</div>';var shortHtml=opts.shortcut.length>0?"{% for(var s=0;s<shortcut.length;s++){ %}<p @on=shortClick({%= shortcut[s].val %})>{%=shortcut[s].name%}</p>{% } %}":'';var ymtitHtml=(function(){var ymtitStr="";if(that.dlen==1){ymtitStr='<span class="ymbtn">{%=yearlist[i][0].y%}'+ytxt+' ~ {%=yearlist[i][yearlist[i].length-1].y%}'+ytxt+'</span>';}else if(that.dlen==2){ymtitStr='<span class="ymbtn" @on="yearShow({%=yearlist[0][i].y%})">{%=yearlist[0][i].y%}'+ytxt+'</span>';}else if(that.dlen>2&&that.dlen<=6){ymtitStr='<span class="ymbtn" @on="monthShow({%=daytit[i].MM%})">{%=daytit[i].MM%}'+mtxt+'</span>'+
'<span class="ymbtn" @on="yearShow({%=daytit[i].YYYY%})">{%=daytit[i].YYYY%}'+ytxt+'</span>';}
return ymtitStr;})();var ymButton=(function(){var titStrBut="";if(that.dlen==1){titStrBut=multi?[lyPrev+ryNext]:[lyPrev,ryNext];}else if(that.dlen==2){titStrBut=multi?[lyPrev+ryNext]:[lyPrev,ryNext];}else if(that.dlen>2&&that.dlen<=6){titStrBut=multi?[lyPrev+mPrev+mNext+ryNext]:[lyPrev+mPrev,mNext+ryNext];}else if(that.dlen==7){titStrBut="";}
return titStrBut;})();if(that.dlen==1){YMDStr=yaerHtml;}else if(that.dlen==2){YMDStr=yaerHtml+monthHtml;}else if(that.dlen==3){YMDStr=yaerHtml+monthHtml+daysHtml;}else if(that.dlen>3&&that.dlen<=6){YMDStr=yaerHtml+monthHtml+daysHtml;hmsStr=hmsHtml;}else if(that.dlen==7){hmsStr=hmsHtml;}
var paneHtml='{% for(var i=0;i<pane;i++){ %}<div class="jedate-pane">'+
'<div class="jedate-header">{% if(i==0){ %}'+ymButton[0]+'{% }else{ %}'+ymButton[1]+'{% } %}'+ymtitHtml+'</div>'+
'<div class="jedate-content{%= i==1?" bordge":"" %}">'+YMDStr+'</div>'+
'</div>{% } %}';var btnStr='{% if(timebtn){%}<div class="timecon" style="cursor: pointer;" @on="timeBtn">{%=lang.timetxt[0]%}</div>{% } %}<div class="btnscon">{% if(clear){ %}<span class="clear" @on="clearBtn">{%=lang.clear%}</span>{% } %}{% if(today){ %}<span class="today" @on="nowBtn">{%=lang.today%}</span>{% } %}{% if(yes){ %}<span class="setok" @on="sureBtn">{%=lang.yes%}</span>{% } %}</div>';return '<div class="jedate-menu" style="display:{%=shortcut.length>0 ? "block":"none"%};">'+shortHtml+'</div><div class="jedate-wrap">'+paneHtml+'</div>'+hmsStr+'<div class="jedate-footbtn">'+btnStr+'</div><div class="jedate-tips"></div>';},compileBindNode:function(dom){var self=this,aton="@on";var acquireAttr=function(atVal){var args=/\(.*\)/.exec(atVal);if(args){args=args[0];atVal=atVal.replace(args,"");args=args.replace(/[\(\)\'\"]/g,'').split(",");}else args=[];return[atVal,args];};jet.each(dom.childNodes,function(i,node){if(node.nodeType===1){if(!self.$opts.festival)node.removeAttribute("ymd");self.compileBindNode(node);var geton=node.getAttribute(aton);if(geton!=null){var onarr=acquireAttr(geton);jet.on(node,"click",function(){self[onarr[0]]&&self[onarr[0]].apply(node,onarr[1]);});node.removeAttribute(aton);}}});},methodEventBind:function(){var that=this,opts=that.$opts,multi=opts.multiPane,DTS=that.$data,result=new DateTime().reDate(),dateY=result.GetYear(),dateM=result.GetMonth(),dateD=result.GetDate(),range=opts.range,elCell=that.dateCell;jet.extend(that,{yearBtn:function(type,val){var yarr=val.split("#"),pval=jet.reMatch(yarr[0]),tmval=that.selectTime;exarr=[jet.extend({YYYY:parseInt(val),MM:dateM,DD:dateD},tmval[0]),{}];var dateVal=that.parseValue([exarr[0]],that.format);that.storeData(exarr[0],exarr[1]);that.renderDate();opts.toggle&&opts.toggle({elem:that.valCell,val:dateVal,date:exarr[0]});},yearShow:function(val){DTS.year=DTS.year?false:true;DTS.month=that.dlen<3?true:false;if(that.dlen>2&&that.dlen<=6){var dayCell=$Q(".daystable",elCell);DTS.day=dayCell.style.display=="none"?true:false;}
that.renderDate();},monthBtn:function(type,val){var ymarr=jet.reMatch(val),tmval=that.selectTime,exarr=[],PrevYM,NextYM,year=parseInt(ymarr[0]),month=parseInt(ymarr[1]);if(range){if(type=="mprev"){PrevYM=jet.prevMonth(year,month);NextYM=jet.nextMonth(PrevYM.y,PrevYM.m);}else{NextYM=jet.nextMonth(year,month);PrevYM=jet.prevMonth(NextYM.y,NextYM.m);}
exarr=[jet.extend({YYYY:PrevYM.y,MM:PrevYM.m,DD:dateD},tmval[0]),{YYYY:NextYM.y,MM:NextYM.m,DD:dateD}];}else{var PNYM=(type=="mprev")?jet.prevMonth(year,month):jet.nextMonth(year,month);exarr=[jet.extend({YYYY:PNYM.y,MM:PNYM.m,DD:dateD},tmval[0]),{}];}
var dateVal=that.parseValue([exarr[0]],that.format);that.storeData(exarr[0],exarr[1]);that.renderDate();opts.toggle&&opts.toggle({elem:that.valCell,val:dateVal,date:exarr[0]});},monthShow:function(val){DTS.year=false;DTS.month=DTS.month?false:true;if(that.dlen>2&&that.dlen<=6){var dayCell=$Q(".daystable",elCell);DTS.day=dayCell.style.display=="none"?true:false;}
that.renderDate();},shortClick:function(val){var reval=val.replace(/\#/g,','),evobj=eval("("+reval+")"),gval=jet.getDateTime(evobj),tmval=that.selectTime;that.selectValue=[jet.parse(gval,"YYYY-MM-DD")];that.selectDate=[{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD}];if(opts.onClose){var nYM=jet.nextMonth(gval.YYYY,gval.MM),ymarr=[{YYYY:gval.YYYY,MM:gval.MM,DD:gval.DD},{YYYY:nYM.y,MM:nYM.m,DD:null}];that.storeData(jet.extend(ymarr[0],tmval[0]),jet.extend(ymarr[1],tmval[1]));that.renderDate();}else{that.setValue(gval,that.format);that.closeDate();}},yearClick:function(val){if(jet.hasClass(this,"disabled"))return;var yearVal="",lens=that.dlen;if(range&&lens==1){var ylen=that.selectValue.length;that.selectDate=(ylen==2)?[{YYYY:parseInt(val),MM:dateM}]:[{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(val),MM:dateM}];that.selectValue=(ylen==2)?[val+"-"+jet.digit(dateM)]:[that.selectValue[0],val+"-"+jet.digit(dateM)];if(that.selectValue.length==2){var svalarr=[that.selectValue[0],that.selectValue[1]],newArr=[{},{}];svalarr.sort(function(a,b){return a>b?1:-1;});that.selectValue=svalarr;jet.each(svalarr,function(i,strval){jet.each(jet.reMatch(strval),function(s,dval){newArr[i][ymdzArr[s]]=dval;});});that.selectDate=newArr;}}else if(lens>1&&lens<=6){yearVal=parseInt(val);}else{that.selectValue=[val+"-"+jet.digit(dateM)];that.selectDate=[{YYYY:parseInt(val),MM:dateM}];}
DTS.year=(lens==1)?true:false;DTS.month=(lens<3)?true:false;DTS.day=(lens>2&&lens<=6)?true:false;var electVal=(lens>1&&lens<=6)?yearVal:parseInt(that.selectDate[0].YYYY);that.storeData(jet.extend({YYYY:electVal,MM:dateM,DD:dateD},that.selectTime[0]),{});that.renderDate();},monthClick:function(val){if(jet.hasClass(this,"disabled"))return;var ymval=jet.reMatch(val),newArr=[{},{}],mlen=that.selectValue.length;if(range){that.selectDate=(mlen==2)?[{YYYY:ymval[0],MM:ymval[1]}]:[{YYYY:that.selectDate[0].YYYY,MM:that.selectDate[0].MM},{YYYY:parseInt(val),MM:ymval[1]}];that.selectValue=(mlen==2)?[val]:[that.selectValue[0],val];if(that.selectValue.length==2){var svalarr=[that.selectValue[0],that.selectValue[1]];svalarr.sort(function(a,b){return a>b?1:-1;});that.selectValue=svalarr;jet.each(svalarr,function(i,strval){jet.each(jet.reMatch(strval),function(s,dval){newArr[i][ymdzArr[s]]=dval;});});that.selectDate=newArr;}}else{that.selectValue=[val];that.selectDate=[{YYYY:ymval[0],MM:ymval[1]}];}
if(that.dlen>2){DTS.year=false;DTS.month=false;}
DTS.day=(that.dlen>2&&that.dlen<=6)?true:false;that.storeData(jet.extend({YYYY:parseInt(that.selectDate[0].YYYY),MM:parseInt(that.selectDate[0].MM),DD:dateD},that.selectTime[0]),{});that.renderDate();},daysClick:function(val){if(jet.hasClass(this,"disabled"))return;var tmval=that.selectTime,matVal=jet.reMatch(val),slen=that.selectValue.length,dateVal="",newArr=[{},{}],sday,nYM,ymarr;if(range){if(slen==1){var svalarr=[that.selectValue[0],val];svalarr.sort(function(a,b){return a>b?1:-1;});that.selectValue=svalarr;jet.each(svalarr,function(i,strval){jet.each(jet.reMatch(strval),function(s,dval){newArr[i][ymdzArr[s]]=dval;});});that.selectDate=newArr;}else{that.selectValue=[val];newArr=[{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]}];that.selectDate=[{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]},{}];}
nYM=jet.nextMonth(newArr[0].YYYY,newArr[0].MM);ymarr=[{YYYY:newArr[0].YYYY,MM:newArr[0].MM,DD:newArr[0].DD},{YYYY:nYM.y,MM:nYM.m,DD:null}];that.storeData(jet.extend(ymarr[0],tmval[0]),jet.extend(ymarr[1],tmval[1]));that.renderDate();}else{that.selectValue=[val];that.selectDate=[{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]},{YYYY:matVal[0],MM:matVal[1],DD:matVal[2]}];jet.each(new Array(range==false?1:2),function(a){jet.each(matVal,function(i,val){newArr[a][ymdzArr[i]]=val;});jet.extend(newArr[a],tmval[a]);});if(opts.onClose){that.storeData(jet.extend(newArr[0],tmval[0]),jet.extend(newArr[1],tmval[1]));that.renderDate();}else{dateVal=that.setValue(newArr,that.format);that.closeDate();opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:dateVal,date:newArr});}}},hmsClick:function(idx,num){var pidx=parseInt(num),vals=parseInt(jet.text(this)),paridx=parseInt(idx),act="action",mhms=["hh","mm","ss"],ulCell=$Q(".jedate-time",that.dateCell).querySelectorAll("ul")[pidx],tlen=that.$data.timelist[0].length;if(jet.hasClass(this,"disabled"))return;jet.each(ulCell.childNodes,function(i,node){var reg=new RegExp("(^|\\s+)"+act+"(\\s+|$)","g");node.className=reg.test(node.className)?node.className.replace(reg,''):node.className;});that.selectTime[paridx][paridx==1?mhms[pidx-tlen]:mhms[pidx]]=vals;this.className=this.className+act;var hmsCls=ulCell.querySelector("."+act);ulCell.scrollTop=hmsCls?(hmsCls.offsetTop-145):0;if(that.dlen==7&&idx==0&&range&&!multi){var nVal=that.getValue({}),nYM=jet.nextMonth(nVal[0].YYYY,nVal[0].MM),st=that.selectTime;that.storeData({YYYY:nVal[0].YYYY,MM:nVal[0].MM,DD:null,hh:st[0].hh,mm:st[0].mm,ss:st[0].ss},{YYYY:nYM.y,MM:nYM.m,DD:null,hh:st[1].hh,mm:st[1].mm,ss:st[1].ss});that.renderDate();}},timeBtn:function(){var timeCell=$Q(".jedate-time",elCell),disNo=timeCell.style.display=="none";jet.text(this,disNo?opts.language.backtxt:opts.language.timetxt[0]);jet.setCss(timeCell,{display:disNo?"block":"none"});},clearBtn:function(){jet.valText(that.valCell,"");that.selectDate=[jet.parse(jet.getDateTime({}),"YYYY-MM-DD hh:mm:ss")];that.closeDate();if("createEvent"in document){var evt=document.createEvent("HTMLEvents");evt.initEvent("change",false,true);that.valCell.dispatchEvent(evt);}
else
that.valCell.fireEvent("onchange");opts.clearfun&&opts.clearfun.call(that);opts.donefun&&opts.donefun.call(that,{elem:that.valCell});},nowBtn:function(){var newArr=jet.getDateTime({}),nYM=jet.nextMonth(newArr.YYYY,newArr.MM),dateVal;that.selectDate=[newArr];dateVal=opts.isShow?that.setValue([newArr],that.format,true):jet.parse(newArr,that.format);if(opts.onClose&&range||!opts.isShow){that.storeData(newArr,{YYYY:nYM.y,MM:nYM.m,DD:null,hh:0,mm:0,ss:0});that.renderDate();}else{that.closeDate();}
opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:dateVal,date:newArr});},sureBtn:function(){var newArr=that.selectValue.length>1?[{},{}]:[{}],dateVal="",tmval=that.selectTime;var equal=function(o){var h=o.hh==undefined?0:o.hh,m=o.mm==undefined?0:o.mm,s=o.ss==undefined?0:o.ss;return parseInt(jet.digit(h)+""+jet.digit(m)+""+jet.digit(s));};if(range){if(that.selectValue.length>1){var sortarr=that.selectValue;sortarr.sort(function(a,b){return a>b?1:-1;});jet.each(sortarr,function(i,arr){jet.each(jet.reMatch(arr),function(a,val){newArr[i][ymdzArr[a]]=val;});jet.extend(newArr[i],tmval[i]);});}else if(that.dlen==7&&tmval.length>1){newArr=tmval;}
var sameTime=equal(tmval[0])>=equal(tmval[1]),selVal=that.selectValue,sameDate="";if(selVal[1]!=undefined)sameDate=selVal[0].replace(/\-/g,"")==selVal[1].replace(/\-/g,"");if(selVal.length==1&&that.dlen<7){that.tips(opts.language.name=="cn"?"未选结束日期":"Please select the end date");return;}else if((that.dlen==7&&sameTime)||(sameDate&&sameTime)){that.tips(opts.language.name=="cn"?"结束时间必须大于开始时间":"The end time must be greater than the start time");return;}}else{jet.each(new Array(range==false?1:2),function(i){if(that.dlen!=7)jet.each(jet.reMatch(that.selectValue[0]),function(a,val){newArr[i][ymdzArr[a]]=val;});jet.extend(newArr[i],tmval[i]);});}
dateVal=that.setValue(newArr,that.format,opts.isShow?true:false);opts.isShow&&that.closeDate();opts.donefun&&opts.donefun.call(that,{elem:that.valCell,val:dateVal,date:newArr});},blankArea:function(){jet.on(document,"mouseup",function(ev){jet.stopPropagation(ev);that.closeDate();});jet.on($Q(elx),"mouseup",function(ev){jet.stopPropagation(ev);});}});},eachYear:function(val,type){var that=this,opts=that.$opts,yNum=parseInt(val),yarr=[],seCls='',selYear=that.selectDate,i,mins=jet.reMatch(that.minDate),maxs=jet.reMatch(that.maxDate);i=type==1?yNum:that.yindex;that.yindex=type==1?12+yNum:12+that.yindex;var endDate=selYear[1]==undefined?"":selYear[1].YYYY;for(;i<that.yindex;i++){if(i==selYear[0].YYYY||i==endDate){seCls="action";}else if(i>selYear[0].YYYY&&i<endDate){seCls="contain";}else if(i<mins[0]||i>maxs[0]){seCls="disabled";}else{seCls="";}
yarr.push({style:seCls,y:i});}
return yarr;},eachMonth:function(val,type){var that=this,opts=that.$opts,range=opts.range,marr=[],selMonth=that.selectDate,seCls='',monthArr=opts.language.month,mins=jet.reMatch(that.minDate),maxs=jet.reMatch(that.maxDate),minym=parseInt(mins[0]+""+jet.digit(mins[1])),maxym=parseInt(maxs[0]+""+jet.digit(maxs[1])),currStart=parseInt(selMonth[0].YYYY+""+jet.digit(selMonth[0].MM)),currEnd=selMonth[1]?parseInt(selMonth[1].YYYY+""+jet.digit(selMonth[1].MM)):0;jet.each(monthArr,function(i,months){var ival=parseInt(val+""+jet.digit(months));if(ival==currStart||ival==currEnd){seCls="action";}else if(ival>currStart&&ival<currEnd){seCls="contain";}else if(ival<minym||ival>maxym){seCls="disabled";}else{seCls="";}
marr.push({style:seCls,y:val,m:months});});return marr;},eachDays:function(yd,md,ds,idx){var that=this,count=0,daysArr=[],opts=that.$opts,multiPane=jet.isBool(opts.multiPane),firstWeek=new Date(yd,md-1,1).getDay()||7,valrange=opts.range!=false,daysNum=jet.getDaysNum(yd,md),didx=0,sDate=that.selectDate,prevM=jet.prevMonth(yd,md),isShow=jet.isBool(opts.isShow),prevDaysNum=jet.getDaysNum(yd,prevM.m),nextM=jet.nextMonth(yd,md),objCell=that.valCell,lang=opts.language,endval=opts.valiDate||[],minArr=jet.reMatch(that.minDate),minNum=parseInt(minArr[0]+""+jet.digit(minArr[1])+""+jet.digit(minArr[2])),maxArr=jet.reMatch(that.maxDate),maxNum=parseInt(maxArr[0]+""+jet.digit(maxArr[1])+""+jet.digit(maxArr[2]));var startDate=sDate[0]?parseInt(sDate[0].YYYY+""+jet.digit(sDate[0].MM)+""+jet.digit(sDate[0].DD)):"";var endDate=sDate[1]?parseInt(sDate[1].YYYY+""+jet.digit(sDate[1].MM)+""+jet.digit(sDate[1].DD)):"";var setMark=function(my,mm,md){var Marks=opts.marks,contains=function(arr,obj){var clen=arr.length;while(clen--){if(arr[clen]===obj)return true;}
return false;},isArr=jet.isType(Marks,"array");return isArr&&Marks.length>0&&contains(Marks,my+"-"+jet.digit(mm)+"-"+jet.digit(md))?'<i class="marks"></i>':"";};var isfestival=function(y,m,d){var festivalStr='';if(opts.festival==true&&lang.name=="cn"){var lunar=jeLunar(y,m-1,d),feslunar=(lunar.solarFestival||lunar.lunarFestival),lunartext=(feslunar&&lunar.jieqi)!=""?feslunar:(lunar.jieqi||lunar.showInLunar);festivalStr='<p><span class="solar">'+d+'</span><span class="lunar">'+lunartext+'</span></p>';}else{festivalStr='<p class="nolunar">'+d+'</p>';}
return festivalStr;};var dateLimit=function(Y,M,D,isMonth){var thatNum=parseInt(Y+""+jet.digit(M)+""+jet.digit(D));if(isMonth){if(thatNum>=minNum&&thatNum<=maxNum)return true;}else{if(minNum>thatNum||maxNum<thatNum)return true;}};var week_valiDate='';var ymq_week=[];if(endval.length>0&&endval[0]!=""){if(endval[0].indexOf("ymq")!=-1){week_valiDate=endval[0].split('ymq')[1];var y_valiDate=endval[0].split('ymq')[0];}else{var y_valiDate=endval[0];}
if(week_valiDate!=''){ymq_week=week_valiDate.split('-');}}
var regExpDate=function(date,cls,ymyear,ymqmonth){var ymqdateobg={YYYY:ymyear,MM:ymqmonth,DD:date}
var inArray=function(search,array){for(var i in array)if(array[i]==search)return true;return false;};if(endval.length>0&&y_valiDate!=""){if(/\%/g.test(y_valiDate)){var reval=y_valiDate.replace(/\%/g,"").split(","),enArr=[];jet.each(reval,function(r,rel){enArr.push(jet.digit(parseInt(rel)));});var isfind=inArray(jet.digit(date),enArr)==false;cls=jet.isBool(endval[1])?(isfind?" disabled":cls):(isfind?cls:" disabled");}else{var valreg=that.dateRegExp(y_valiDate),regday=valreg.test(jet.digit(date));cls=jet.isBool(endval[1])?(regday?" disabled":cls):(regday?cls:" disabled");}}
if(endval.length>0&&endval[0].indexOf("ymq")!=-1){if(ymq_week.includes(jeDate.getLunar(ymqdateobg).nW+'')){cls=" disabled";}}
return cls;};if(md==1){ymq_prev_year=yd-1;ymq_prev_month=12;}else{ymq_prev_year=yd;ymq_prev_month=md-1;}
for(var p=prevDaysNum-firstWeek+1;p<=prevDaysNum;p++,count++){var pmark=setMark(prevM.y,prevM.m,p),pcls=dateLimit(prevM.y,prevM.m,p,false)?"disabled":"other";pcls=regExpDate(p,pcls,ymq_prev_year,ymq_prev_month);daysArr.push({style:pcls,ymd:prevM.y+'-'+jet.digit(prevM.m)+'-'+jet.digit(p),day:(isfestival(prevM.y,prevM.m,p)+pmark)});}
for(var b=1;b<=daysNum;b++,count++){var bmark=setMark(yd,md,b),bcls="";var dateval=parseInt(yd+""+jet.digit(md)+""+jet.digit(b)),parsdate=dateval>startDate,rangdate=dateval<endDate;if(dateLimit(yd,md,b,true)){if(dateval==startDate||dateval==endDate){bcls=" action";}else if(parsdate&&rangdate){bcls=" contain";}else{bcls="";}}else{bcls=" disabled";}
bcls=regExpDate(b,bcls,yd,md);daysArr.push({style:"normal"+bcls,ymd:yd+'-'+jet.digit(md)+'-'+jet.digit(b),day:(isfestival(yd,md,b)+bmark)});}
if(md==12){ymq_next_year=yd+1;ymq_next_month=1;}else{ymq_next_year=yd;ymq_next_month=md+1;}
for(var n=1,nlen=42-count;n<=nlen;n++){var nmark=setMark(nextM.y,nextM.m,n);var ncls=dateLimit(nextM.y,nextM.m,n,false)?"disabled":"other";ncls=regExpDate(n,ncls,ymq_next_year,ymq_next_month);daysArr.push({style:ncls,ymd:nextM.y+'-'+jet.digit(nextM.m)+'-'+jet.digit(n),day:(isfestival(nextM.y,nextM.m,n)+nmark)});}
return daysArr;},eachTime:function(hmsArr,type){var that=this,opts=that.$opts,range=opts.range,multi=opts.multiPane,minVal=[],maxVal=[],mhms=["hh","mm","ss"],timeArr=[],hmsCls='',format=that.format,ntVal=jet.trim(that.minDate).replace(/\s+/g," "),xtVal=jet.trim(that.maxDate).replace(/\s+/g," "),nVal=ntVal.split(" "),xVal=xtVal.split(" ");if(that.dlen>3&&/\:/.test(nVal)&&/\:/.test(xVal)){minVal=jet.reMatch(/\s/.test(ntVal)&&that.dlen>3?nVal[1]:ntVal);maxVal=jet.reMatch(/\s/.test(xtVal)&&that.dlen>3?xVal[1]:xtVal);}
jet.each([24,60,60],function(s,lens){timeArr[s]=[];var unhmsVal=minVal[s]==undefined||minVal[s]==0?hmsArr[mhms[s]]:minVal[s],currVal=that.getValue()==""?unhmsVal:hmsArr[mhms[s]];if(that.dlen>3&&/\:/.test(nVal)&&type==1){that.selectTime[0][mhms[s]]=currVal;}
for(var h=0;h<lens;h++){var exists=new RegExp(mhms[s],"g").test(format);if(h==currVal){hmsCls=exists?"action":"disabled";}else if(!exists||!range&&multi&&(h<minVal[s]||h>maxVal[s])){hmsCls="disabled";}else if(!multi){hmsCls=type==1&&h<minVal[s]||type==2&&h>maxVal[s]?"disabled":"";}else{hmsCls="";}
timeArr[s].push({style:hmsCls,hms:h});}});return timeArr;},closeDate:function(){var elem=$Q(elx),tipelem=$Q("#jedatetipscon");elem&&document.body.removeChild(elem);tipelem&&document.body.removeChild(tipelem);this.setDatas();},parseValue:function(fnObj,matStr){var that=this,valArr=[],opts=that.$opts,range=opts.range;jet.each(fnObj,function(i,val){valArr.push(jet.parse(val,matStr));});return range==false?valArr[0]:valArr.join(range);},dateRegExp:function(valArr){var enval=valArr.split(",")||[],regs="";var doExp=function(val){var arr,tmpEval,regs=/#?\{(.*?)\}/;val=val+"";while((arr=regs.exec(val))!=null){arr.lastIndex=arr.index+arr[1].length+arr[0].length-arr[1].length-1;tmpEval=parseInt(eval(arr[1]));if(tmpEval<0)tmpEval="9700"+-tmpEval;val=val.substring(0,arr.index)+tmpEval+val.substring(arr.lastIndex+1);}
return val;};if(enval&&enval.length>0){for(var i=0;i<enval.length;i++){regs+=doExp(enval[i]);if(i!=enval.length-1)regs+="|";}
regs=regs?new RegExp("(?:"+regs+")"):null;}else{regs=null;}
return regs;},showFestival:function(){var that=this,opts=that.$opts;jet.each(that.dateCell.querySelectorAll(".daystable td"),function(i,node){var tval=jet.reMatch(jet.attr(node,"ymd")),tipDiv=document.createElement("div");node.removeAttribute("ymd");jet.on(node,"mouseover",function(){var lunar=new jeLunar(tval[0],tval[1]-1,tval[2]);if($Q("#jedatetipscon"))return;tipDiv.id=tipDiv.className="jedatetipscon";var tiphtml='<p>'+lunar.solarYear+'\u5E74'+lunar.solarMonth+'\u6708'+lunar.solarDate+'\u65E5 '+lunar.inWeekDays+'</p><p class="red">\u519C\u5386：'+lunar.shengxiao+'\u5E74 '+lunar.lnongMonth+'\u6708'+lunar.lnongDate+'</p><p>'+lunar.ganzhiYear+'\u5E74 '+lunar.ganzhiMonth+'\u6708 '+lunar.ganzhiDate+'\u65E5</p>';var Fesjieri=(lunar.solarFestival||lunar.lunarFestival)!=""?'<p class="red">'+("\u8282\u65E5："+lunar.solarFestival+lunar.lunarFestival)+'</p>':"";var Fesjieqi=lunar.jieqi!=""?'<p class="red">'+(lunar.jieqi!=""?"\u8282\u6C14："+lunar.jieqi:"")+'</p>':"";var tiptext=(lunar.solarFestival||lunar.lunarFestival||lunar.jieqi)!=""?(Fesjieri+Fesjieqi):"";jet.html(tipDiv,tiphtml+tiptext);document.body.appendChild(tipDiv);var tipPos=that.lunarOrien(tipDiv,this);jet.setCss(tipDiv,{"zIndex":(opts.zIndex==undefined?10000+5:opts.zIndex+5),top:tipPos.top,left:tipPos.left,position:"absolute",display:"block"});});jet.on(node,"mouseout",function(){document.body.removeChild($Q("#jedatetipscon"));});});if(that.dateCell.nodeType===1&&!jet.hasClass(that.dateCell,"grid"))that.dateCell.className=that.dateCell.className+" grid";},lunarOrien:function(obj,self,pos){var tops,leris,ortop,orleri,rect=self.getBoundingClientRect(),boxW=obj.offsetWidth,boxH=obj.offsetHeight;leris=rect.right+boxW/1.5>=jet.docArea(true)?rect.right-boxW:rect.left+(pos?0:jet.docScroll(true));tops=rect.bottom+boxH/1<=jet.docArea()?rect.bottom-1:rect.top>boxH/1.5?rect.top-boxH-1:jet.docArea()-boxH;if(leris+boxW>jet.docArea(true))leris=rect.left-(boxW-rect.width);ortop=Math.max(tops+(pos?0:jet.docScroll())+1,1)+"px",orleri=leris+"px";return{top:ortop,left:orleri}},dateOrien:function(elbox,valCls,pos){var that=this,tops,leris,ortop,orleri,rect=that.$opts.fixed?valCls.getBoundingClientRect():elbox.getBoundingClientRect(),leris=rect.left,tops=rect.bottom;if(that.$opts.fixed){var boxW=elbox.offsetWidth,boxH=elbox.offsetHeight;if(leris+boxW>jet.docArea(true)){leris=leris-(boxW-rect.width);}
if(tops+boxH>jet.docArea()){tops=rect.top>boxH?rect.top-boxH-2:jet.docArea()-boxH-1;}
ortop=Math.max(tops+(pos?0:jet.docScroll())+1,1)+"px";orleri=leris+"px";}else{ortop="50%";orleri="50%";elbox.style.cssText="marginTop:"+-(rect.height/2)+";marginLeft:"+-(rect.width/2);}
jet.setCss(elbox,{top:ortop,left:orleri});},tips:function(text,time){var that=this,tipCls=$Q(".jedate-tips",that.dateCell),tipTime;jet.html(tipCls,text||"");jet.setCss(tipCls,{display:"block"});clearTimeout(tipTime);tipTime=setTimeout(function(){jet.html(tipCls,"");jet.setCss(tipCls,{display:"none"});},(time||2.5)*1000);},locateScroll:function(){var that=this,ulCell=$Q(".jedate-time",that.dateCell).querySelectorAll("ul");jet.each(ulCell,function(i,cell){var hmsCls=cell.querySelector(".action");cell.scrollTop=hmsCls?(hmsCls.offsetTop-145):0;});if(that.dlen!=7)jet.setCss($Q(".jedate-time",that.dateCell),{display:'none'});}});function jeLunar(ly,lm,ld){var lunarInfo=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],sTermInfo=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758];var Gan="甲乙丙丁戊己庚辛壬癸",Zhi="子丑寅卯辰巳午未申酉戌亥",Animals="鼠牛虎兔龙蛇马羊猴鸡狗猪";var solarTerm=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"];var nStr1="日一二三四五六七八九十",nStr2="初十廿卅",nStr3=["正","二","三","四","五","六","七","八","九","十","十一","腊"],sFtv1={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节","1001":"*3国庆节","1201":"艾滋病日","1224":"平安夜","1225":"圣诞节"},sFtv2={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节","1015":"下元节","1208":"腊八节","1223":"小年"};function flunar(Y){var sTerm=function(j,i){var h=new Date((31556925974.7*(j-1900)+sTermInfo[i]*60000)+Date.UTC(1900,0,6,2,5));return(h.getUTCDate());},d=function(k){var h,j=348;for(h=32768;h>8;h>>=1)j+=(lunarInfo[k-1900]&h)?1:0;return(j+b(k));},ymdCyl=function(h){return(Gan.charAt(h%10)+Zhi.charAt(h%12));},b=function(h){var islp=(g(h))?((lunarInfo[h-1900]&65536)?30:29):(0);return islp;},g=function(h){return(lunarInfo[h-1900]&15)},e=function(i,h){return((lunarInfo[i-1900]&(65536>>h))?30:29);},newymd=function(m){var k,j=0,h=0,l=new Date(1900,0,31),n=(m-l)/86400000;this.dayCyl=n+40;this.monCyl=14;for(k=1900;k<2050&&n>0;k++){h=d(k);n-=h;this.monCyl+=12;}
if(n<0){n+=h;k--;this.monCyl-=12;}
this.year=k;this.yearCyl=k-1864;j=g(k);this.isLeap=false;for(k=1;k<13&&n>0;k++){if(j>0&&k==(j+1)&&this.isLeap==false){--k;this.isLeap=true;h=b(this.year);}else{h=e(this.year,k);}
if(this.isLeap==true&&k==(j+1)){this.isLeap=false;}
n-=h;if(this.isLeap==false)this.monCyl++;}
if(n==0&&j>0&&k==j+1){if(this.isLeap){this.isLeap=false;}else{this.isLeap=true;--k;--this.monCyl;}}
if(n<0){n+=h;--k;--this.monCyl;}
this.month=k;this.day=n+1;},digit=function(num){return num<10?"0"+(num|0):num;},reymd=function(i,j){var h=i;return j.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(k){switch(k){case "yyyy":var l="000"+h.getFullYear();return l.substring(l.length-4);case "dd":return digit(h.getDate());case "d":return h.getDate().toString();case "MM":return digit((h.getMonth()+1));case "M":return h.getMonth()+1;}});},lunarMD=function(i,h){var j;switch(i,h){case 10:j="初十";break;case 20:j="二十";break;case 30:j="三十";break;default:j=nStr2.charAt(Math.floor(h/10));j+=nStr1.charAt(h%10);}
return j;};this.isToday=false;this.isRestDay=false;this.solarYear=reymd(Y,"yyyy");this.solarMonth=reymd(Y,"M");this.solarDate=reymd(Y,"d");this.solarWeekDay=Y.getDay();this.inWeekDays="星期"+nStr1.charAt(this.solarWeekDay);var X=new newymd(Y);this.lunarYear=X.year;this.shengxiao=Animals.charAt((this.lunarYear-4)%12);this.lunarMonth=X.month;this.lunarIsLeapMonth=X.isLeap;this.lnongMonth=this.lunarIsLeapMonth?"闰"+nStr3[X.month-1]:nStr3[X.month-1];this.lunarDate=X.day;this.showInLunar=this.lnongDate=lunarMD(this.lunarMonth,this.lunarDate);if(this.lunarDate==1){this.showInLunar=this.lnongMonth+"月";}
this.ganzhiYear=ymdCyl(X.yearCyl);this.ganzhiMonth=ymdCyl(X.monCyl);this.ganzhiDate=ymdCyl(X.dayCyl++);this.jieqi="";this.restDays=0;if(sTerm(this.solarYear,(this.solarMonth-1)*2)==reymd(Y,"d")){this.showInLunar=this.jieqi=solarTerm[(this.solarMonth-1)*2];}
if(sTerm(this.solarYear,(this.solarMonth-1)*2+1)==reymd(Y,"d")){this.showInLunar=this.jieqi=solarTerm[(this.solarMonth-1)*2+1];}
if(this.showInLunar=="清明"){this.showInLunar="清明节";this.restDays=1;}
this.solarFestival=sFtv1[reymd(Y,"MM")+reymd(Y,"dd")];if(typeof this.solarFestival=="undefined"){this.solarFestival="";}else{if(/\*(\d)/.test(this.solarFestival)){this.restDays=parseInt(RegExp.$1);this.solarFestival=this.solarFestival.replace(/\*\d/,"");}}
this.showInLunar=(this.solarFestival=="")?this.showInLunar:this.solarFestival;this.lunarFestival=sFtv2[this.lunarIsLeapMonth?"00":digit(this.lunarMonth)+digit(this.lunarDate)];if(typeof this.lunarFestival=="undefined"){this.lunarFestival="";}else{if(/\*(\d)/.test(this.lunarFestival)){this.restDays=(this.restDays>parseInt(RegExp.$1))?this.restDays:parseInt(RegExp.$1);this.lunarFestival=this.lunarFestival.replace(/\*\d/,"");}}
if(this.lunarMonth==12&&this.lunarDate==e(this.lunarYear,12)){this.lunarFestival=sFtv2["0100"];this.restDays=1;}
this.showInLunar=(this.lunarFestival=="")?this.showInLunar:this.lunarFestival;}
return new flunar(new Date(ly,lm,ld));}
window.best_option.jeDate=jeDate;return jeDate;});